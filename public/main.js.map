{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/addremark/addremark.component.css","webpack:///./src/app/addremark/addremark.component.html","webpack:///./src/app/addremark/addremark.component.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/app.routing.ts","webpack:///./src/app/auth/loginactivate.service.ts","webpack:///./src/app/confirmadminfinal/confirmadminfinal.component.css","webpack:///./src/app/confirmadminfinal/confirmadminfinal.component.html","webpack:///./src/app/confirmadminfinal/confirmadminfinal.component.ts","webpack:///./src/app/csvutils/file.util.ts","webpack:///./src/app/csvutils/tests.constants.ts","webpack:///./src/app/forgotpassword/forgotpassword.component.css","webpack:///./src/app/forgotpassword/forgotpassword.component.html","webpack:///./src/app/forgotpassword/forgotpassword.component.ts","webpack:///./src/app/forgotpassword2/forgotpassword2.component.css","webpack:///./src/app/forgotpassword2/forgotpassword2.component.html","webpack:///./src/app/forgotpassword2/forgotpassword2.component.ts","webpack:///./src/app/login/login.component.css","webpack:///./src/app/login/login.component.html","webpack:///./src/app/login/login.component.ts","webpack:///./src/app/messages/message.component.html","webpack:///./src/app/messages/message.component.ts","webpack:///./src/app/messages/message.model.ts","webpack:///./src/app/messages/message.module.ts","webpack:///./src/app/messages/message.service.ts","webpack:///./src/app/model/EditPasswordForm.model.ts","webpack:///./src/app/model/class_schoolyear.model.ts","webpack:///./src/app/model/model.module.ts","webpack:///./src/app/model/rankingSettings.model.ts","webpack:///./src/app/model/remarkFilterForm.model.ts","webpack:///./src/app/model/remarkoptions.model.ts","webpack:///./src/app/model/remarksSaveForm.model.ts","webpack:///./src/app/model/repository.model.ts","webpack:///./src/app/model/rest.datasource.ts","webpack:///./src/app/model/role.model.ts","webpack:///./src/app/model/signupSchool.model.ts","webpack:///./src/app/model/signupUser.model.ts","webpack:///./src/app/model/student.model.ts","webpack:///./src/app/overview/overview.component.css","webpack:///./src/app/overview/overview.component.html","webpack:///./src/app/overview/overview.component.ts","webpack:///./src/app/parents/parents.component.css","webpack:///./src/app/parents/parents.component.html","webpack:///./src/app/parents/parents.component.ts","webpack:///./src/app/ranking/ranking.component.css","webpack:///./src/app/ranking/ranking.component.html","webpack:///./src/app/ranking/ranking.component.ts","webpack:///./src/app/schoolsettings/schoolsettings.component.css","webpack:///./src/app/schoolsettings/schoolsettings.component.html","webpack:///./src/app/schoolsettings/schoolsettings.component.ts","webpack:///./src/app/settings/settings.component.css","webpack:///./src/app/settings/settings.component.html","webpack:///./src/app/settings/settings.component.ts","webpack:///./src/app/signup/signup.component.css","webpack:///./src/app/signup/signup.component.html","webpack:///./src/app/signup/signup.component.ts","webpack:///./src/app/studentoverview/studentoverview.component.css","webpack:///./src/app/studentoverview/studentoverview.component.html","webpack:///./src/app/studentoverview/studentoverview.component.ts","webpack:///./src/app/students/students.component.css","webpack:///./src/app/students/students.component.html","webpack:///./src/app/students/students.component.ts","webpack:///./src/app/teachers/teachers.component.css","webpack:///./src/app/teachers/teachers.component.html","webpack:///./src/app/teachers/teachers.component.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkZHJlbWFyay9hZGRyZW1hcmsuY29tcG9uZW50LmNzcyJ9 */\"","module.exports = \"<div>\\n\\n    <div class=\\\"w3-tiny w3-text-grey w3-padding\\\">Home -> {{HTMLtext[29]}}</div>\\n      \\n    <div class=\\\"w3-row\\\">\\n    <div *ngIf=\\\"showUpper\\\" class=\\\"w3-col m6 l6\\\">\\n\\n      <div class=\\\"w3-card-4\\\">\\n        <div class=\\\"w3-orange w3-padding\\\">\\n          <i class=\\\"fa fa-filter\\\"></i>{{HTMLtext[1]}}\\n        <input class=\\\"w3-input\\\" type=\\\"text\\\" #filter (keyup)=\\\"onFilterChange(filter.value)\\\">\\n        </div>\\n      </div>\\n\\n    \\n     \\n    \\n     <ul class=\\\"w3-ul w3-border w3-hoverable\\\" style=\\\"height:25rem;overflow:scroll\\\">\\n      <li [hidden]=\\\"!filterApplies(student) || !student.active\\\" *ngFor=\\\"let student of selectableStudents; let i = index\\\">\\n          <div class=\\\"w3-medium\\\">\\n              <button (click)='selectStudent(i)' class=\\\"w3-button w3-tiny w3-round w3-green\\\">\\n                  <i class=\\\"fa fa-plus-circle\\\" ></i>\\n              </button>\\n            {{student.classSchoolyears[0].schoolClass}} | {{student.lastName}} {{student.firstName}} \\n          </div>\\n      </li>\\n    </ul>\\n     \\n    <div>\\n    <div class=\\\"w3-text-orange w3-medium\\\"><b>{{HTMLtext[30]}} ({{selectedStudents.length}})</b></div>\\n    </div>\\n\\n    <div class=\\\"w3-center\\\">\\n        <button (click)=\\\"toLower()\\\" class=\\\"w3-button w3-round w3-orange\\\">\\n            {{HTMLtext[4]}}\\n        </button>\\n    </div>\\n  </div>\\n    \\n     \\n      <div *ngIf=\\\"showLower\\\" class=\\\"w3-col m6 l6 w3-padding\\\">\\n\\n      <div class=\\\"w3-row w3-padding-medium\\\">\\n      <label class=\\\"w3-row-item w3-text-orange w3-medium\\\" style=\\\"width:30%\\\"><b>{{HTMLtext[31]}}</b></label>\\n      <input class=\\\"w3-row-item w3-input w3-border w3-round w3-light-grey w3-small\\\" type=\\\"date\\\" [ngModel] =\\\"selectedDate | date:'yyyy-MM-dd'\\\" (ngModelChange)=\\\"selectedDateChanged($event)\\\"> \\n    </div>\\n\\n      <div class=\\\"w3-row w3-margin-top\\\">      \\n      <label class=\\\"w3-row-item w3-text-orange w3-medium\\\" style=\\\"width:30%\\\"><b>Remark</b></label>\\n      <select [(ngModel)]=\\\"selectedOption\\\" (ngModelChange)=\\\"selectedOptionChanged($event)\\\" class=\\\"w3-bar-item w3-small w3-select w3-border w3-round w3-light-grey\\\" name=\\\"option\\\">\\n        <option value=\\\"\\\" disabled selected>{{HTMLtext[32]}}</option>\\n        <option *ngFor=\\\"let remark of remarkoptions\\\" [ngValue]=\\\"remark.option\\\">{{remark.option}}</option>\\n      </select></div>\\n      \\n      <div class=\\\"w3-block\\\">\\n      <label class=\\\"w3-text-orange w3-margin-right w3-medium\\\"><b>{{HTMLtext[33]}}</b></label>\\n      <p class=\\\"w3-show-inline-block w3-green w3-center w3-padding-small\\\" style=\\\"width:15%\\\">\\n      <input [(ngModel)]=\\\"severity\\\" (ngModelChange)=\\\"severityChanged($event)\\\" class=\\\"w3-radio\\\" type=\\\"radio\\\" name=\\\"severity\\\" value=\\\"1\\\">\\n      </p>\\n      <p class=\\\"w3-show-inline-block w3-yellow  w3-center w3-padding-small\\\" style=\\\"width:15%;\\\">\\n      <input [(ngModel)]=\\\"severity\\\" (ngModelChange)=\\\"severityChanged($event)\\\" class=\\\"w3-radio\\\" type=\\\"radio\\\" name=\\\"severity\\\" value=\\\"2\\\">\\n      </p>\\n        <p class=\\\"w3-show-inline-block w3-orange  w3-center w3-padding-small\\\" style=\\\"width:15%;\\\">\\n      <input [(ngModel)]=\\\"severity\\\" (ngModelChange)=\\\"severityChanged($event)\\\" class=\\\"w3-radio\\\" type=\\\"radio\\\" name=\\\"severity\\\" value=\\\"3\\\">\\n      </p>\\n      <p class=\\\"w3-show-inline-block w3-red  w3-center w3-padding-small\\\" style=\\\"width:15%;\\\">\\n      <input [(ngModel)]=\\\"severity\\\" (ngModelChange)=\\\"severityChanged($event)\\\" class=\\\"w3-radio\\\" type=\\\"radio\\\" name=\\\"severity\\\" value=\\\"4\\\">\\n      </p>\\n      </div>\\n      \\n \\n       <div class=\\\"w3-text-orange w3-half w3-medium\\\"><b>{{HTMLtext[30]}} ({{selectedStudents.length}})</b>\\n       </div>\\n       <div class=\\\"w3-row\\\">\\n        <div (click)=\\\"toUpper()\\\" class=\\\"w3-right w3-border w3-border-green\\\">\\n            {{HTMLtext[34]}}\\n        </div>\\n      </div>\\n       <ul class=\\\"w3-ul w3-border w3-hoverable\\\" style=\\\"max-height:14rem; overflow:scroll\\\">\\n          <li *ngFor=\\\"let student of selectedStudents; let i = index\\\">\\n              <div class=\\\"w3-medium\\\">  \\n                  <button (click)='unSelectStudent(i)' class=\\\"w3-button w3-tiny w3-round w3-red\\\">\\n                      <i class=\\\"fa fa-window-close w3-padding-small\\\" aria-hidden=\\\"true\\\"></i>\\n                  </button>\\n                {{student.classSchoolyears[0].schoolClass}} | {{student.lastName}} {{student.firstName}}\\n            </div>\\n          </li>\\n        </ul>\\n \\n    \\n            <div class=\\\"w3-row w3-margin-top\\\"> \\n          <label class=\\\"w3-row-item w3-text-orange w3-medium\\\"><b>Extra info</b></label>\\n      <input [(ngModel)]=\\\"extraInfo\\\" (ngModelChange)=\\\"extraInfoChanged($event)\\\" class=\\\"w3-bar-item w3-input w3-border w3-round-xxlarge\\\" name=\\\"last\\\" type=\\\"text\\\">\\n      </div>\\n\\n      <p class=\\\"w3-center\\\">\\n      <button [disabled]=\\\"notAllFilledIn()\\\" (click)=\\\"saveRemarks()\\\" class=\\\"w3-btn w3-blue\\\">{{HTMLtext[35]}}</button></p>\\n       \\n     </div>\\n     </div>\\n     \\n    </div> \"","import { Component, OnInit } from '@angular/core';\nimport {FormGroup, FormBuilder, Validators} from \"@angular/forms\";\nimport { Model } from \"../model/repository.model\";\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Student } from '../model/student.model';\nimport { Remarkoptions } from '../model/remarkoptions.model';\nimport { RemarksSaveForm } from '../model/remarksSaveForm.model';\nimport {formatDate} from '@angular/common';\n\n@Component({\n  selector: 'app-addremark',\n  templateUrl: './addremark.component.html',\n  styleUrls: ['./addremark.component.css']\n})\nexport class AddremarkComponent implements OnInit {\n\n  constructor(\n    private model: Model,\n    private formBuilder: FormBuilder,\n    activeRoute: ActivatedRoute,\n    private router: Router) { }\n\n    allStudents: Student[];\n    selectedStudents: Student[];\n    selectableStudents: Student[];\n\n    remarkoptions: Remarkoptions[];\n    selectedDate: Date;\n    selectedOption: string;\n    extraInfo: string;\n    severity: number;\n    showUpper: boolean;\n    showLower: boolean;\n    HTMLtext;\n\n  ngOnInit() {\n\n    this.selectedStudents= [];\n    localStorage.setItem('filterText',\"\");\n\n    this.showUpper = true;\n    this.showLower = false;\n\n    this.HTMLtext = JSON.parse(localStorage.getItem('multiLangText'));\n    this.remarkoptions = JSON.parse(localStorage.getItem('remarkoptions'));\n\n    this.selectedDate = new Date(); \n    this.severity = 0;   \n    this.selectedOption = \"\";\n\n    if( localStorage.getItem('students').length > 10){\n      this.selectableStudents = JSON.parse(localStorage.getItem('students'));\n    }\n    else{\n      this.selectableStudents = this.model.getStudents();\n    }\n\n    this.model.remarksSaved.subscribe(\n      data => {\n        this.selectedStudents= [];\n        this.severity = 0;   \n        this.selectedOption = \"\";\n        if( localStorage.getItem('students').length > 0){\n          this.selectableStudents = JSON.parse(localStorage.getItem('students'));\n        }\n        else{\n          this.selectableStudents = this.model.getStudents();\n        }\n\n      }\n    );\n\n    // if( localStorage.getItem('students').length > 10){\n    //   this.allStudents = JSON.parse(localStorage.getItem('students'));\n    // }\n    // else{\n    //   this.allStudents = this.model.getStudents();\n    // }\n    \n    this.model.studentsChangeDetected.subscribe(\n      (message: String) => {\n        // console.log(\"studentschangedetected in addremark. Students updated.\")\n        // console.log(localStorage.getItem('students').toString());\n        // this.allStudents = JSON.parse(localStorage.getItem('students'));\n        this.selectableStudents = JSON.parse(localStorage.getItem('students'));\n      });\n  }\n\n  toLower(){\n    this.showLower = true;\n    this.showUpper = false;\n  }\n\n  toUpper(){\n    this.showUpper = true;\n    this.showLower= false;\n  }\n\n  selectedDateChanged(newDate){\n   this.selectedDate = newDate;\n    console.log(this.selectedDate);\n  }\n\n  selectedOptionChanged(newOption){\n    this.selectedOption = newOption;\n    console.log(this.selectedOption);\n  }\n\n  extraInfoChanged(newExtraInfo){\n    this.extraInfo = newExtraInfo;\n    console.log(newExtraInfo);\n  }\n  severityChanged(newSeverity){\n    this.severity = newSeverity;\n    console.log(this.severity);\n  }\n\n  saveRemarks(){\n    let remark: RemarksSaveForm;\n    remark = new RemarksSaveForm();\n    remark.studentId = [];\n    remark.date = formatDate(this.selectedDate, 'yyyy-MM-dd', 'en');\n    remark.extraInfo  = this.extraInfo;\n    remark.remark = this.selectedOption;\n    remark.severity = this.severity;\n    for(var i=0; i< this.selectedStudents.length; i++){\n      remark.studentId.push(this.selectedStudents[i].id);\n    }\n    remark.teacherId = JSON.parse(localStorage.getItem('currentUser')).id;\n    console.log(\"Remark made. Now saving.\");\n//    for(var i=0; i< 100; i++){\n      this.model.saveRemarks(remark);\n//    }\n  }\n  \n  \n  notAllFilledIn(){\n    if(this.selectedStudents.length == 0 || this.selectedOption == \"\" || this.severity == 0)\n      return true;\n    else\n      return false;\n  }\n\n  selectStudent(index: number){\n    this.selectedStudents.push(this.selectableStudents[index]);\n    this.selectableStudents.splice(index, 1);\n    // console.log(\"selectedStudents:\");\n    // console.log(this.selectedStudents);\n    // console.log(\"selectableStudents\");\n    // console.log(this.selectableStudents);\n  }\n\n  unSelectStudent(index: number){\n    this.selectableStudents.push(this.selectedStudents[index]);\n    this.selectableStudents.sort(this.model.sortByclass);\n    this.selectedStudents.splice(index, 1);\n    // console.log(\"selectedStudents:\");\n    // console.log(this.selectedStudents);\n    // console.log(\"selectableStudents\");\n    // console.log(this.selectableStudents);\n  }\n\n  onFilterChange(value: string) {\n    console.log(value);\n    localStorage.setItem('filterText',value);\n  }\n\n  filterApplies(student: Student){\n    // console.log('filterText');\n    // console.log(localStorage.getItem('filterText'));\n    let filterText = localStorage.getItem('filterText');\n    if(filterText.length > 0){  \n      if(student.classSchoolyears[0].schoolClass.toLowerCase().includes(filterText.toLowerCase()) \n      || student.firstName.toLowerCase().includes(filterText.toLowerCase())\n      || student.lastName.toLowerCase().includes(filterText.toLowerCase())){\n        return true;\n      } \n      else {\n        return false;\n      }\n    }\n      else {\n        return true;\n      }\n  }//end of filterApplies\n\n}\n","module.exports = \".fa-list {\\r\\n    color: orange;\\r\\n    padding-right: 5px;\\r\\n  }\\r\\n  .fa-list-ol {\\r\\n    color: orange;\\r\\n    padding-right: 5px;\\r\\n  }\\r\\n  .fa-plus-circle {\\r\\n    color: lightgreen;\\r\\n    padding-right: 5px;\\r\\n  }\\r\\n  .fa-wrench {\\r\\n    color: orange;\\r\\n    padding-right: 5px;\\r\\n  }\\r\\n  .fa-address-card {\\r\\n    color: orange;\\r\\n    padding-right: 5px;\\r\\n  }\\r\\n  .fa-check-square {\\r\\n    color: green;\\r\\n  }\\r\\n  .fa-cog {\\r\\n    color: orange;\\r\\n    padding-right: 5px;\\r\\n  }\\r\\n  .fa-times-circle {\\r\\n    color: red;\\r\\n  }\\r\\n  .fa-window-close {\\r\\n    color: red;\\r\\n  }\\r\\n  .fa-pencil-square-o {\\r\\n    color: orange;\\r\\n  }\\r\\n  .full-height {\\r\\n    height: 80%;\\r\\n  }\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxhQUFhO0lBQ2Isa0JBQWtCO0VBQ3BCO0VBQ0E7SUFDRSxhQUFhO0lBQ2Isa0JBQWtCO0VBQ3BCO0VBQ0E7SUFDRSxpQkFBaUI7SUFDakIsa0JBQWtCO0VBQ3BCO0VBQ0E7SUFDRSxhQUFhO0lBQ2Isa0JBQWtCO0VBQ3BCO0VBQ0E7SUFDRSxhQUFhO0lBQ2Isa0JBQWtCO0VBQ3BCO0VBQ0E7SUFDRSxZQUFZO0VBQ2Q7RUFDQTtJQUNFLGFBQWE7SUFDYixrQkFBa0I7RUFDcEI7RUFDQTtJQUNFLFVBQVU7RUFDWjtFQUNBO0lBQ0UsVUFBVTtFQUNaO0VBQ0E7SUFDRSxhQUFhO0VBQ2Y7RUFDQTtJQUNFLFdBQVc7RUFDYiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmZhLWxpc3Qge1xyXG4gICAgY29sb3I6IG9yYW5nZTtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDVweDtcclxuICB9XHJcbiAgLmZhLWxpc3Qtb2wge1xyXG4gICAgY29sb3I6IG9yYW5nZTtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDVweDtcclxuICB9XHJcbiAgLmZhLXBsdXMtY2lyY2xlIHtcclxuICAgIGNvbG9yOiBsaWdodGdyZWVuO1xyXG4gICAgcGFkZGluZy1yaWdodDogNXB4O1xyXG4gIH1cclxuICAuZmEtd3JlbmNoIHtcclxuICAgIGNvbG9yOiBvcmFuZ2U7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiA1cHg7XHJcbiAgfVxyXG4gIC5mYS1hZGRyZXNzLWNhcmQge1xyXG4gICAgY29sb3I6IG9yYW5nZTtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDVweDtcclxuICB9XHJcbiAgLmZhLWNoZWNrLXNxdWFyZSB7XHJcbiAgICBjb2xvcjogZ3JlZW47XHJcbiAgfVxyXG4gIC5mYS1jb2cge1xyXG4gICAgY29sb3I6IG9yYW5nZTtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDVweDtcclxuICB9XHJcbiAgLmZhLXRpbWVzLWNpcmNsZSB7XHJcbiAgICBjb2xvcjogcmVkO1xyXG4gIH1cclxuICAuZmEtd2luZG93LWNsb3NlIHtcclxuICAgIGNvbG9yOiByZWQ7XHJcbiAgfVxyXG4gIC5mYS1wZW5jaWwtc3F1YXJlLW8ge1xyXG4gICAgY29sb3I6IG9yYW5nZTtcclxuICB9XHJcbiAgLmZ1bGwtaGVpZ2h0IHtcclxuICAgIGhlaWdodDogODAlO1xyXG4gIH0iXX0= */\"","module.exports = \"<!--The page where everything will be displayed in our app.-->\\n<!-- The header -->\\n<!-- -------------------------------------------- TEACHER/ADMIN MENU  --------------------------------------------------------->\\n\\n<div *ngIf=\\\"isValidPath()\\\">\\n    <div *ngIf='isAdmin() || isTeacher()' class=\\\"w3-bar w3-blue-grey\\\">\\n        <div class=\\\"w3-bar-item w3-hide-medium w3-text-amber w3-large\\\"><b>NOTATIS</b></div>\\n        <a [routerLink] = \\\"['/overview']\\\" onclick=\\\"closeSettingsDropdown(); closeUserDropdown()\\\" class=\\\"w3-bar-item w3-button w3-hide-small w3-border-right w3-large\\\"><i class=\\\"fa fa-list\\\" aria-hidden=\\\"true\\\"></i>{{HTMLtext[0]}}</a>\\n        <a [routerLink] = \\\"['/addremark']\\\" onclick=\\\"closeSettingsDropdown(); closeUserDropdown()\\\" (click)=\\\"addRemarkURL()\\\" class=\\\"w3-bar-item w3-button w3-hide-small w3-border-right  w3-large\\\"><i class=\\\"fa fa-plus-circle\\\" aria-hidden=\\\"true\\\"></i>{{HTMLtext[29]}}</a>\\n        <a [routerLink] = \\\"['/ranking']\\\" onclick=\\\"closeSettingsDropdown(); closeUserDropdown()\\\" class=\\\"w3-bar-item w3-button w3-hide-small w3-border-right w3-large\\\"><i class=\\\"fa fa-list-ol\\\" aria-hidden=\\\"true\\\"></i>Ranking</a>\\n        \\n        <div class=\\\"w3-dropdown-click w3-hide-small w3-border-right  w3-large\\\">\\n          <button class=\\\"w3-button\\\" onclick=\\\"settingsDropdown()\\\">\\n            <i class=\\\"fa fa-cog\\\" aria-hidden=\\\"true\\\"></i>{{HTMLtext[49]}} <i class=\\\"fa fa-caret-down\\\"></i>\\n            </button>\\n            <div id=\\\"settingsDropdown\\\" onclick=\\\"closeSettingsDropdown(); closeUserDropdown()\\\" class=\\\"w3-dropdown-content w3-bar-block w3-card\\\">\\n              <a [routerLink] = \\\"['/settings']\\\" class=\\\"w3-bar-item w3-button w3-hide-small w3-border w3-large\\\" onclick=\\\"settingsDropdown()\\\">{{HTMLtext[44]}}</a>\\n              <a *ngIf='isAdmin()' [routerLink] = \\\"['/schoolsettings']\\\" class=\\\"w3-bar-item w3-button w3-hide-small w3-border  w3-large\\\" onclick=\\\"settingsDropdown()\\\">{{HTMLtext[45]}}</a>\\n              </div>\\n        </div>\\n       \\n        <!-- *ngIf=\\\"currentUserRole == 4\\\" -->\\n        <div *ngIf='isAdmin()' class=\\\"w3-dropdown-click w3-hide-small w3-border-right  w3-large\\\">\\n          <button class=\\\"w3-button\\\" onclick=\\\"userDropdown()\\\">\\n          <i class=\\\"fa fa-address-card\\\" aria-hidden=\\\"true\\\"></i>{{HTMLtext[46]}} <i class=\\\"fa fa-caret-down\\\"></i>\\n          </button>\\n          <div id=\\\"userDropdown\\\" onclick=\\\"closeSettingsDropdown(); closeUserDropdown()\\\" class=\\\"w3-dropdown-content w3-bar-block w3-card\\\">\\n          <a [routerLink] = \\\"['/teachers']\\\" class=\\\"w3-bar-item w3-button w3-hide-small w3-border w3-large\\\" onclick=\\\"userDropdown()\\\">{{HTMLtext[47]}}</a>\\n          <a [routerLink] = \\\"['/students']\\\" class=\\\"w3-bar-item w3-button w3-hide-small w3-border  w3-large\\\" onclick=\\\"userDropdown()\\\">{{HTMLtext[48]}}</a>\\n          <a [routerLink] = \\\"['/parents']\\\" class=\\\"w3-bar-item w3-button w3-hide-small w3-border  w3-large\\\" onclick=\\\"userDropdown()\\\">{{HTMLtext[165]}}</a>\\n        </div>\\n         </div>\\n        <button [routerLink] = \\\"['/login']\\\" (click)='logout()' class=\\\"w3-bar-item w3-button w3-hide-small w3-border-left w3-right  w3-large\\\"><i class=\\\"fa fa-sign-out\\\" aria-hidden=\\\"true\\\"></i></button>\\n        <a href=\\\"javascript:void(0)\\\" class=\\\"w3-bar-item w3-button w3-right w3-hide-large w3-hide-medium\\\" onclick=\\\"headerToggleShow()\\\">&#9776;</a>\\n      </div>\\n      \\n\\n      <div *ngIf='isAdmin() || isTeacher()' id=\\\"demo\\\" class=\\\"w3-bar-block w3-border w3-light-grey w3-hide w3-hide-large w3-hide-medium\\\">\\n        <a [routerLink] = \\\"['/overview']\\\" onclick=\\\"openFilter('demo')\\\" class=\\\"w3-bar-item w3-button  w3-large\\\"><i class=\\\"fa fa-list w3-padding-small\\\" aria-hidden=\\\"true\\\"></i>{{HTMLtext[0]}}</a>\\n        <a [routerLink] = \\\"['/addremark']\\\" onclick=\\\"openFilter('demo')\\\" (click)=\\\"addRemarkURL()\\\" [ngClass]=\\\"{'w3-indigo': currentURL=='/addRemark'}\\\" class=\\\"w3-bar-item w3-button  w3-large\\\"><i class=\\\"fa fa-plus-circle w3-padding-small\\\" aria-hidden=\\\"true\\\"></i>{{HTMLtext[29]}}</a>\\n        <a [routerLink] = \\\"['/ranking']\\\" onclick=\\\"openFilter('demo')\\\" class=\\\"w3-bar-item w3-button  w3-large\\\"><i class=\\\"fa fa-list-ol w3-padding-small\\\" aria-hidden=\\\"true\\\"></i>Ranking</a>\\n        <a [routerLink] = \\\"['/settings']\\\" onclick=\\\"openFilter('demo')\\\" class=\\\"w3-bar-item w3-button  w3-large\\\"><i class=\\\"fa fa-wrench w3-padding-small\\\" aria-hidden=\\\"true\\\"></i>{{HTMLtext[49]}}</a>\\n        <a [routerLink] = \\\"['/login']\\\" onclick=\\\"openFilter('demo')\\\" (click)='logout()' class=\\\"w3-bar-item w3-button  w3-large\\\"><i class=\\\"fa fa-sign-out\\\" aria-hidden=\\\"true\\\"></i>Logout</a>\\n\\n        <!--\\n        <a [routerLink] = \\\"['/teachers']\\\" class=\\\"w3-bar-item w3-button\\\"><i class=\\\"fa fa-address-card w3-padding-small\\\" aria-hidden=\\\"true\\\"></i>User management</a>\\n        <a [routerLink] = \\\"['/students']\\\" class=\\\"w3-bar-item w3-button\\\"><i class=\\\"fa fa-sign-out w3-padding-small\\\" aria-hidden=\\\"true\\\"></i></a>\\n        -->\\n      </div>\\n</div>\\n<!-- -------------------------------------------- STUDENT MENU  -------------------------------------------------------------->\\n\\n<div *ngIf=\\\"isValidPath()\\\">\\n  <div *ngIf='isStudent() || isParent()' class=\\\"w3-bar w3-blue-grey\\\">\\n      <div class=\\\"w3-bar-item w3-hide-medium w3-text-amber w3-large\\\"><b>NOTATIS</b></div>\\n      <a [routerLink] = \\\"['/studentoverview']\\\" onclick=\\\"closeSettingsDropdown()\\\" class=\\\"w3-bar-item w3-button w3-hide-small w3-border-right w3-large\\\"><i class=\\\"fa fa-list\\\" aria-hidden=\\\"true\\\"></i>{{HTMLtext[0]}}</a>\\n      <a [routerLink] = \\\"['/ranking']\\\" onclick=\\\"closeSettingsDropdown()\\\" class=\\\"w3-bar-item w3-button w3-hide-small w3-border-right w3-large\\\"><i class=\\\"fa fa-list-ol\\\" aria-hidden=\\\"true\\\"></i>Ranking</a>\\n      \\n      <div class=\\\"w3-dropdown-click w3-hide-small w3-border-right  w3-large\\\">\\n        <button class=\\\"w3-button\\\" onclick=\\\"settingsDropdown()\\\">\\n          <i class=\\\"fa fa-cog\\\" aria-hidden=\\\"true\\\"></i>{{HTMLtext[49]}} <i class=\\\"fa fa-caret-down\\\"></i>\\n          </button>\\n          <div id=\\\"settingsDropdown\\\" onclick=\\\"closeSettingsDropdown(); closeUserDropdown()\\\" class=\\\"w3-dropdown-content w3-bar-block w3-card\\\">\\n            <a [routerLink] = \\\"['/settings']\\\" class=\\\"w3-bar-item w3-button w3-hide-small w3-border w3-large\\\" onclick=\\\"settingsDropdown()\\\">{{HTMLtext[44]}}</a>\\n            </div>\\n      </div>\\n     \\n      <button [routerLink] = \\\"['/login']\\\" (click)='logout()' class=\\\"w3-bar-item w3-button w3-hide-small w3-border-left w3-right  w3-large\\\"><i class=\\\"fa fa-sign-out\\\" aria-hidden=\\\"true\\\"></i></button>\\n      <a href=\\\"javascript:void(0)\\\" class=\\\"w3-bar-item w3-button w3-right w3-hide-large w3-hide-medium\\\" onclick=\\\"headerToggleShow()\\\">&#9776;</a>\\n    </div>\\n    \\n\\n    <div *ngIf='isStudent()' id=\\\"demo\\\" class=\\\"w3-bar-block w3-border w3-light-grey w3-hide w3-hide-large w3-hide-medium\\\">\\n      <a [routerLink] = \\\"['/studentoverview']\\\" onclick=\\\"openFilter('demo')\\\" class=\\\"w3-bar-item w3-button  w3-large\\\"><i class=\\\"fa fa-list w3-padding-small\\\" aria-hidden=\\\"true\\\"></i>{{HTMLtext[0]}}</a>\\n      <a [routerLink] = \\\"['/ranking']\\\" onclick=\\\"openFilter('demo')\\\" class=\\\"w3-bar-item w3-button  w3-large\\\"><i class=\\\"fa fa-list w3-padding-small\\\" aria-hidden=\\\"true\\\"></i>Ranking</a>\\n      <a [routerLink] = \\\"['/settings']\\\" onclick=\\\"openFilter('demo')\\\" class=\\\"w3-bar-item w3-button  w3-large\\\"><i class=\\\"fa fa-wrench w3-padding-small\\\" aria-hidden=\\\"true\\\"></i>{{HTMLtext[49]}}</a>\\n      <a [routerLink] = \\\"['/login']\\\" onclick=\\\"openFilter('demo')\\\" (click)='logout()' class=\\\"w3-bar-item w3-button  w3-large\\\"><i class=\\\"fa fa-sign-out\\\" aria-hidden=\\\"true\\\"></i>Logout</a>\\n\\n      <!--\\n      <a [routerLink] = \\\"['/teachers']\\\" class=\\\"w3-bar-item w3-button\\\"><i class=\\\"fa fa-address-card w3-padding-small\\\" aria-hidden=\\\"true\\\"></i>User management</a>\\n      <a [routerLink] = \\\"['/students']\\\" class=\\\"w3-bar-item w3-button\\\"><i class=\\\"fa fa-sign-out w3-padding-small\\\" aria-hidden=\\\"true\\\"></i></a>\\n      -->\\n    </div>\\n</div>\\n<div class=\\\"w3-container\\\">\\n  <paMessages></paMessages>\\n</div>\\n<!-- The main section of the page-->\\n<div>\\n<router-outlet></router-outlet>\\n</div>\\n<!-- End of main section of the page-->\\n\\n\\n\"","import { Component } from '@angular/core';\nimport { Model } from \"./model/repository.model\";\nimport { Router } from '@angular/router';\nimport { Meta } from '@angular/platform-browser';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'remarko';\n  currentUser;\n  currentUserRole;\n  currentURL: string;\n  HTMLtext: [];\n\n\n  constructor( private model: Model,\n                private router: Router,\n                private meta: Meta) \n    { \n      meta.addTag({name: 'apple-mobile-web-app-capable', content: 'yes'});\n      meta.addTag({name: 'mobile-web-app-capable', content: 'yes'});\n      this.model.studentLoggedIn.subscribe(\n        (message: string) => {\n          this.currentUser = JSON.parse(localStorage.getItem('currentUser'));\n          console.log(\"currentUser\");\n          console.log(this.currentUser);\n          console.log(this.currentUser.roles[0].id);\n          this.currentUserRole = this.currentUser.roles[0].id;\n        }\n      );\n    }\n\n  ngOnInit(){\n    this.currentUser = localStorage.getItem('currentUser');\n    this.currentURL = this.router.url;\n    // console.log(this.currentURL);\n//    this.HTMLtext = JSON.parse(localStorage.getItem('multiLangText'));\n\n    this.router.events.subscribe((res) => { \n      // console.log(this.router.url,\"Current URL\");\n      this.currentURL = this.router.url;\n    })\n\n    this.HTMLtext = JSON.parse(localStorage.getItem('multiLangText'));\n    this.model.HTMLTextLoaded.subscribe(\n      data => {\n        this.HTMLtext = JSON.parse(localStorage.getItem('multiLangText'));\n      }\n    )\n    // console.log(\"currentUser\");\n    // console.log(this.currentUser);\n  }\n\n  isValidPath(){\n    if(this.currentURL == '/addremark'\n      || this.currentURL == '/overview'\n      || this.currentURL == '/settings'\n      || this.currentURL == '/teachers'\n      || this.currentURL == '/students'\n      || this.currentURL == '/schoolsettings'\n      || this.currentURL == '/studentoverview'\n      || this.currentURL == '/studentranking'\n      || this.currentURL == '/ranking'\n      || this.currentURL == '/parents'){\n        return true;\n      }\n      return false;\n  }\n\n  isAdmin(){\n    this.currentUser = JSON.parse(localStorage.getItem('currentUser'));\n    if(/*this.currentUserRole &&*/ this.currentUser.roles[0].id == 4){\n      return true;\n    }\n    else {\n      return false;\n    }\n  }\n\n  isTeacher(){\n    this.currentUser = JSON.parse(localStorage.getItem('currentUser'));\n    if(/*this.currentUserRole &&*/ this.currentUser.roles[0].id == 3){\n      return true;\n    }\n    else {\n      return false;\n    }\n  }\n\n  isStudent(){\n    this.currentUser = JSON.parse(localStorage.getItem('currentUser'));\n    if(/*this.currentUserRole &&*/ this.currentUser.roles[0].id == 1){\n      return true;\n    }\n    else {\n      return false;\n    }\n  }\n\n  isParent(){\n      this.currentUser = JSON.parse(localStorage.getItem('currentUser'));\n      if(/*this.currentUserRole &&*/ this.currentUser.roles[0].id == 2){\n        return true;\n      }\n      else {\n        return false;\n      }\n  }\n\n  logout(){\n    var schoolcode;\n    if(localStorage.getItem('schoolcode')){\n      schoolcode = localStorage.getItem('schoolcode');\n    }\n\n    var username;\n    if(localStorage.getItem('username')){\n      username = localStorage.getItem('username');\n    }\n\n    localStorage.clear();\n    if(schoolcode){\n      localStorage.setItem('schoolcode',schoolcode);\n    }\n\n    if(username){\n      localStorage.setItem('username', username);\n    }\n\n  }\n\n  addRemarkURL(){\n    this.currentURL = this.router.url;\n    console.log(this.currentURL);\n  }\n\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { AngularFontAwesomeModule } from 'angular-font-awesome';\nimport { ModelModule } from \"./model/model.module\";\nimport { FormsModule, ReactiveFormsModule} from \"@angular/forms\";\n\nimport { AppComponent } from './app.component';\nimport { LoginComponent } from './login/login.component';\nimport { routing } from './app.routing';\nimport { AddremarkComponent } from './addremark/addremark.component';\nimport { OverviewComponent } from './overview/overview.component';\nimport { TeachersComponent } from './teachers/teachers.component';\nimport { StudentsComponent } from './students/students.component';\nimport { SettingsComponent } from './settings/settings.component';\nimport { MessageModule} from './messages/message.module';\nimport { MessageComponent } from './messages/message.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { SchoolSettingsComponent } from './schoolsettings/schoolsettings.component';\nimport { LoginActivate } from './auth/loginactivate.service';\nimport { ForgotpasswordComponent } from './forgotpassword/forgotpassword.component';\nimport { Forgotpassword2Component } from './forgotpassword2/forgotpassword2.component';\nimport { SignupComponent } from './signup/signup.component';\nimport { ConfirmadminfinalComponent } from './confirmadminfinal/confirmadminfinal.component';\nimport { StudentoverviewComponent } from './studentoverview/studentoverview.component';\nimport { RankingComponent } from './ranking/ranking.component';\nimport { NgxChartsModule } from '@swimlane/ngx-charts';\nimport { ParentsComponent } from './parents/parents.component';\nimport { Angular2CsvModule } from 'angular2-csv';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    LoginComponent,\n    AddremarkComponent,\n    OverviewComponent,\n    TeachersComponent,\n    StudentsComponent,\n    SettingsComponent,\n    SchoolSettingsComponent,\n    ForgotpasswordComponent,\n    Forgotpassword2Component,\n    SignupComponent,\n    ConfirmadminfinalComponent,\n    StudentoverviewComponent,\n    RankingComponent,\n    ParentsComponent\n  ],\n  imports: [\n    BrowserModule,\n    AngularFontAwesomeModule,\n    ModelModule,\n    FormsModule,\n    ReactiveFormsModule,\n    MessageModule,\n    routing,\n    BrowserAnimationsModule,\n    NgxChartsModule,\n    Angular2CsvModule \n  ],\n  providers: [LoginActivate],\n  bootstrap: [AppComponent, MessageComponent]\n})\nexport class AppModule { }\n","\r\nimport {Routes, RouterModule} from \"@angular/router\";\r\nimport {LoginComponent} from \"./login/login.component\";\r\nimport {AddremarkComponent} from \"./addremark/addremark.component\";\r\nimport { OverviewComponent } from './overview/overview.component';\r\nimport { SettingsComponent } from './settings/settings.component';\r\nimport { SchoolSettingsComponent } from './schoolsettings/schoolsettings.component';\r\nimport { TeachersComponent } from './teachers/teachers.component';\r\nimport { StudentsComponent } from './students/students.component';\r\nimport { ForgotpasswordComponent } from './forgotpassword/forgotpassword.component';\r\nimport { Forgotpassword2Component } from './forgotpassword2/forgotpassword2.component';\r\nimport { LoginActivate } from './auth/loginactivate.service';\r\nimport { SignupComponent } from './signup/signup.component';\r\nimport { ConfirmadminfinalComponent } from './confirmadminfinal/confirmadminfinal.component';\r\nimport { StudentoverviewComponent } from './studentoverview/studentoverview.component';\r\nimport { RankingComponent } from './ranking/ranking.component';\r\nimport { ParentsComponent } from './parents/parents.component';\r\n\r\nconst routes: Routes = [\r\n    {path: \"login\", component: LoginComponent},\r\n    {path: \"addremark\", component: AddremarkComponent, canActivate:[LoginActivate]},\r\n    {path : \"overview\", component: OverviewComponent, canActivate:[LoginActivate]},\r\n    {path : \"ranking\", component: RankingComponent, canActivate:[LoginActivate]},\r\n    {path : \"settings\", component: SettingsComponent, canActivate:[LoginActivate]},\r\n    {path: \"teachers\", component : TeachersComponent, canActivate:[LoginActivate]},\r\n    {path: \"students\", component : StudentsComponent, canActivate:[LoginActivate]},\r\n    {path: \"parents\", component : ParentsComponent, canActivate:[LoginActivate]},\r\n    {path : \"schoolsettings\", component: SchoolSettingsComponent, canActivate:[LoginActivate]},\r\n    {path: \"forgotpassword\", component: ForgotpasswordComponent},\r\n    {path: \"forgotpassword2/:code/:schoolcode\", component: Forgotpassword2Component},\r\n    {path: \"signup\", component: SignupComponent},\r\n    {path: \"confirmadminfinal\", component: ConfirmadminfinalComponent},\r\n    {path: \"studentoverview\", component: StudentoverviewComponent},\r\n    {path: \"**\", component: LoginComponent}\r\n]\r\n\r\nexport const routing = RouterModule.forRoot(routes, {onSameUrlNavigation: 'reload'});","import { Injectable } from  \"@angular/core\";\r\nimport { CanActivate , ActivatedRouteSnapshot, RouterStateSnapshot, Router} from \"@angular/router\";\r\nimport {Observable} from \"rxjs\";\r\n\r\n@Injectable()\r\nexport class LoginActivate implements CanActivate {\r\n\r\n    constructor (\r\n        private router : Router\r\n    ) { }\r\n\r\n    /**\r\n     * Check if the user is logged in before calling http\r\n     *\r\n     * @param route\r\n     * @param state\r\n     * @returns {boolean}\r\n     */\r\n    canActivate (\r\n        route : ActivatedRouteSnapshot,\r\n        state : RouterStateSnapshot\r\n    ): Observable<boolean> | Promise<boolean> | boolean {\r\n        if(localStorage.getItem('accessToken')){\r\n            return true;\r\n        }\r\n        this.router.navigate(['/login'],{ queryParams: { returnUrl: state.url }});\r\n        return;\r\n    }\r\n}","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbmZpcm1hZG1pbmZpbmFsL2NvbmZpcm1hZG1pbmZpbmFsLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<div class=\\\"w3-row\\\">\\n  <h1 class=\\\"w3-text-orange w3-center w3-border-bottom w3-padding\\\"><b>NOTATIS</b></h1>\\n</div>\\n<div class=\\\"w3-row w3-center\\\">\\n<p [innerHTML]=\\\"adminConfirmed\\\">\\n</p>\\n</div>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { Model } from \"../model/repository.model\";\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Myresponse } from '../model/myresponse.model';\n\n@Component({\n  selector: 'app-confirmadminfinal',\n  templateUrl: './confirmadminfinal.component.html',\n  styleUrls: ['./confirmadminfinal.component.css']\n})\nexport class ConfirmadminfinalComponent implements OnInit {\n\n  schoolcodeInternal: string;\n  confirmationuid: string;\n  adminConfirmed: string;\n\n  constructor( private model: Model,\n    private activeRoute: ActivatedRoute,\n    private router: Router) { }\n\n  ngOnInit() {\n      this.adminConfirmed = \"Waiting for confirmation...\";\n\n      this.activeRoute.queryParamMap.subscribe(queryParams => {\n        this.schoolcodeInternal = queryParams.get(\"schoolcodeInternal\");\n        this.confirmationuid = queryParams.get(\"confirmationuid\");\n        console.log(this.schoolcodeInternal);\n        console.log(this.confirmationuid);\n        this.model.confirmadmin2(this.schoolcodeInternal, this.confirmationuid);\n      });\n\n      this.model.adminConfirmed.subscribe(\n        (myresponse: Myresponse) => {\n          console.log(myresponse.text);\n          // this.adminConfirmed = myresponse.text;\n          if(myresponse.text == \"Confirmed\"){\n            this.adminConfirmed = \"Congratulations, confirmation succeeded! You can now start using Notatis for your school!\";\n          }\n          else {\n            this.adminConfirmed = \"Oops! It seems like something went wrong.\\n Please contact our helpdesk via info@notatis.com\";\n          }\n        }\n      );\n  }\n\n}\n","import { Injectable }       from '@angular/core';\r\n \r\n@Injectable()\r\nexport class FileUtil {\r\n \r\n    constructor() {}\r\n \r\n    isCSVFile(file) {\r\n        return file.name.endsWith(\".csv\");\r\n    }\r\n \r\n    getHeaderArray(csvRecordsArr, tokenDelimeter) {        \r\n        let headers = csvRecordsArr[0].split(tokenDelimeter);\r\n        let headerArray = [];\r\n        for (let j = 0; j < headers.length; j++) {\r\n            headerArray.push(headers[j]);\r\n        }\r\n        return headerArray;\r\n    }\r\n \r\n    validateHeaders(origHeaders, fileHeaaders) {\r\n        if (origHeaders.length != fileHeaaders.length) {\r\n            return false;\r\n        }\r\n \r\n        var fileHeaderMatchFlag = true;\r\n        for (let j = 0; j < origHeaders.length; j++) {\r\n            if (origHeaders[j] != fileHeaaders[j]) {\r\n                fileHeaderMatchFlag = false;\r\n                break;\r\n            }\r\n        }\r\n        return fileHeaderMatchFlag;\r\n    }\r\n \r\n    getDataRecordsArrayFromCSVFile(csvRecordsArray, headerLength, \r\n        validateHeaderAndRecordLengthFlag, tokenDelimeter) {\r\n        var dataArr = []\r\n \r\n        for (let i = 0; i < csvRecordsArray.length; i++) {\r\n            let data = csvRecordsArray[i].split(tokenDelimeter);\r\n             \r\n            if(validateHeaderAndRecordLengthFlag && data.length != headerLength){\r\n                if(data==\"\"){\r\n                    alert(\"Extra blank line is present at line number \"+i+\", please remove it.\");\r\n                    return null;\r\n                }else{\r\n                    alert(\"Record at line number \"+i+\" contain \"+data.length+\" tokens, and is not matching with header length of :\"+headerLength);\r\n                    return null;\r\n                }\r\n            }\r\n \r\n            let col = [];\r\n            for (let j = 0; j < data.length; j++) {\r\n                col.push(data[j]);\r\n            }\r\n            dataArr.push(col);\r\n        }   \r\n        return dataArr;\r\n    }\r\n \r\n}","import { Injectable } from '@angular/core';\r\n \r\n@Injectable()\r\nexport class Constants {\r\n    static tokenDelimeter = \";\";\r\n    static isHeaderPresentFlag = true;\r\n    static validateHeaderAndRecordLengthFlag = true;\r\n    static valildateFileExtenstionFlag = true;\r\n}","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2ZvcmdvdHBhc3N3b3JkL2ZvcmdvdHBhc3N3b3JkLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<div class=\\\"w3-row\\\">\\n  <h1 class=\\\"w3-text-orange w3-center w3-border-bottom w3-padding\\\"><b>NOTATIS</b></h1>\\n</div>\\n\\n<div class=\\\"w3-row\\\">\\n  <div class=\\\"w3-col m4 w3-container\\\">\\n\\n  </div>\\n  <div class=\\\"w3-col m4 w3-container w3-light-grey w3-border w3-padding\\\">\\n    <form class=\\\"w3-container\\\" [formGroup]=\\\"emailForm\\\" (ngSubmit)=\\\"sendMail()\\\">\\n      <div><b>Wachtwoord vergeten?</b></div>\\n\\n      <label>Geef je e-mail adres in om een nieuw wachtwoord aan te vragen:</label>\\n      <input class=\\\"w3-input\\\" [ngClass]=\\\"{'w3-border-red' : isNoSuchUserError()}\\\" type=\\\"text\\\" name=\\\"email\\\" formControlName=\\\"email\\\"><br>\\n      <div class=\\\"w3-text-red\\\" *ngIf=\\\"emailForm.get('email').touched && emailForm.get('email').invalid\\\">\\n        This must be a valid e-mail.\\n      </div>\\n      <div class=\\\"w3-text-red\\\" *ngIf=\\\"isNoSuchUserError()\\\">\\n          Oeps, we konden geen gebruiker met deze e-mail terugvinden.\\n        </div>\\n      <label>Geef hier je schoolcode in:</label>\\n      <input class=\\\"w3-input\\\" [ngClass]=\\\"{'w3-border-red' : NoSuchSchoolcodeError()}\\\" type=\\\"text\\\" name=\\\"schoolcode\\\" formControlName=\\\"schoolcode\\\"><br>\\n      <div class=\\\"w3-text-red\\\" *ngIf=\\\"NoSuchSchoolcodeError()\\\">\\n          Oeps, we konden deze schoolcode niet terugvinden.\\n        </div>\\n      <div class=\\\"w3-text-red\\\" *ngIf=\\\"emailForm.get('schoolcode').touched && emailForm.get('schoolcode').invalid\\\">\\n        The schoolcode is required.\\n      </div>\\n\\n      <p>Druk op 'E-mail verzenden' om een code te ontvangen waarmee je je wachtwoord opnieuw kan instellen.</p>\\n      <div class=\\\"w3-center\\\"><button [disabled]=\\\"emailForm.invalid\\\" class=\\\"w3-button w3-blue\\\">E-mail verzenden</button>\\n      </div>\\n    </form>\\n  </div>\\n  <div class=\\\"w3-col m4 w3-container\\\">\\n\\n  </div>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport {FormGroup, FormBuilder, Validators} from \"@angular/forms\";\nimport { Model } from \"../model/repository.model\";\n\n@Component({\n  selector: 'app-forgotpassword',\n  templateUrl: './forgotpassword.component.html',\n  styleUrls: ['./forgotpassword.component.css']\n})\nexport class ForgotpasswordComponent implements OnInit {\n\n  email: String;\n  emailForm: FormGroup;\n\n  constructor(    \n    private model: Model,\n    private formBuilder: FormBuilder) { }\n\n  ngOnInit() {\n    this.emailForm = this.formBuilder.group ({\n      email: ['', [Validators.email, Validators.required]],\n      schoolcode: ['', Validators.required]\n    });\n    localStorage.setItem(\"NoSuchUserError\",\"0\");\n    localStorage.setItem(\"NoSuchSchoolcode\",\"0\");\n  }\n\n  sendMail(){\n    console.log(this.emailForm.get('email').value);\n    console.log(this.emailForm.get('schoolcode').value);\n    this.model.forgotpassword1(this.emailForm.get('email').value, this.emailForm.get('schoolcode').value);\n  }\n\n  isMailError(){\n    if(localStorage.getItem('MailError') && localStorage.getItem('MailError') == \"1\"){\n      return true;\n    }\n    return false;\n  }\n\n  isNoSuchUserError(){\n    if(localStorage.getItem('NoSuchUserError') == \"1\"){\n      return true;\n    }\n    return false;\n  }\n\n  NoSuchSchoolcodeError(){\n    if(localStorage.getItem('NoSuchSchoolcode') == \"1\"){\n      return true;\n    }\n    return false;\n  }\n\n  // onEmailChange(value: string) {\n  //   console.log(value);\n  //   localStorage.setItem('EmailText',value);\n  // }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2ZvcmdvdHBhc3N3b3JkMi9mb3Jnb3RwYXNzd29yZDIuY29tcG9uZW50LmNzcyJ9 */\"","module.exports = \"<div class=\\\"w3-row\\\">\\n  <h1 class=\\\"w3-text-orange w3-center w3-border-bottom w3-padding\\\"><b>NOTATIS</b></h1>\\n</div>\\n\\n<div class=\\\"w3-row\\\">\\n  <div class=\\\"w3-col m4 w3-container\\\">\\n\\n  </div>\\n  <div class=\\\"w3-col m4 w3-container w3-light-grey w3-border w3-padding\\\">\\n    <form class=\\\"w3-container\\\" [formGroup]=\\\"passwordForm\\\" (ngSubmit)=\\\"changePassword()\\\">\\n      <div><b>Je kan hier je wachtwoord wijzigen:</b></div>\\n      <p>\\n      <label class=\\\"w3-text-orange\\\"><b>Password</b></label>\\n      <input (input)=\\\"checkPasswordMatch()\\\" class=\\\"w3-input w3-border w3-lightgrey\\\" name=\\\"password\\\" type=\\\"text\\\"\\n        formControlName=\\\"password\\\"></p>\\n      <div class=\\\"w3-text-red\\\" *ngIf=\\\"passwordForm.get('password').touched && passwordForm.get('password').invalid\\\">\\n        This is a required field.\\n      </div>\\n      <p>\\n        <label class=\\\"w3-text-orange\\\"><b>Password again</b></label>\\n        <input (input)=\\\"checkPasswordMatch()\\\" class=\\\"w3-input w3-border w3-lightgrey\\\" name=\\\"passwordagain\\\" type=\\\"text\\\"\\n          formControlName=\\\"passwordagain\\\"></p>\\n      <div class=\\\"w3-text-red\\\" *ngIf=\\\"!passwordsMatch\\\">\\n        This is a required field that must match the password field.\\n      </div>\\n      <p class=\\\" w3-center\\\">\\n          <button [disabled]=\\\"passwordForm.invalid\\\" type=\\\"submit\\\" class=\\\"w3-btn w3-blue\\\">Change password</button></p>\\n    </form>\\n  </div>\\n  <div class=\\\"w3-col m4 w3-container\\\">\\n\\n  </div>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { Router,ActivatedRoute } from '@angular/router';\nimport { Model } from \"../model/repository.model\";\nimport {FormGroup, FormBuilder, Validators} from \"@angular/forms\";\n\n\n@Component({\n  selector: 'app-forgotpassword2',\n  templateUrl: './forgotpassword2.component.html',\n  styleUrls: ['./forgotpassword2.component.css']\n})\nexport class Forgotpassword2Component implements OnInit {\n\n  code: string; \n  schoolcode: string;\n\n  passwordForm: FormGroup;\n\n  passwordsMatch: boolean;\n\n  constructor(\n    private _Activatedroute:ActivatedRoute,\n    private _router:Router,\n    private model: Model,\n    private formBuilder: FormBuilder) { }\n\n  ngOnInit() {\n    this.code=this._Activatedroute.snapshot.params['code'];\n    console.log(this.code);\n    this.schoolcode=this._Activatedroute.snapshot.params['schoolcode'];\n    console.log(this.schoolcode);\n\n    this.passwordForm = this.formBuilder.group ({\n      password: ['', Validators.required],\n      passwordagain: ['', Validators.required]\n    })\n    this.passwordForm.setValidators(this.passwordMatchValidator);\n  }\n\n    //Our own custom validator for checking password and passwordagain match\n    private passwordMatchValidator(group: FormGroup): any {\n      if (group) {\n        // console.log(\"checking password match: \");\n        // console.log(\"password: \" + group.get(\"password\").value);\n        // console.log(\"passwordagain: \" + group.get(\"passwordagain\").value);\n        if (group.get(\"password\").value !==group.get(\"passwordagain\").value) {\n          return { notMatching : true };\n        }\n      }\n      return null;\n    }\n\n    checkPasswordMatch(){\n      console.log(\"checking password match... \");\n      if(this.passwordForm.get('password').value == this.passwordForm.get('passwordagain').value ){\n        console.log(\"true\");\n        this.passwordsMatch = true;\n      }\n      else {\n        console.log(\"false\");\n        this.passwordsMatch = false;\n      }\n    }\n\n    changePassword(){\n      console.log(\"Entering change password\");\n      this.model.forgotpassword2(this.code, this.schoolcode, this.passwordForm.get('password').value);\n    }\n\n}\n","module.exports = \"body {font-family: Arial, Helvetica, sans-serif;}\\r\\n\\r\\n/* Full-width input fields */\\r\\n\\r\\ninput[type=text], input[type=password] {\\r\\n  width: 100%;\\r\\n  padding: 12px 20px;\\r\\n  margin: 8px 0;\\r\\n  display: inline-block;\\r\\n  border: 1px solid #ccc;\\r\\n  box-sizing: border-box;\\r\\n}\\r\\n\\r\\n/* Set a style for all buttons */\\r\\n\\r\\nbutton {\\r\\n  background-color: #4CAF50;\\r\\n  color: white;\\r\\n  padding: 14px 20px;\\r\\n  margin: 8px 0;\\r\\n  border: none;\\r\\n  cursor: pointer;\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\nbutton:hover {\\r\\n  opacity: 0.8;\\r\\n}\\r\\n\\r\\n/* Extra styles for the cancel button */\\r\\n\\r\\n.cancelbtn {\\r\\n  width: auto;\\r\\n  padding: 10px 18px;\\r\\n  background-color: #f44336;\\r\\n}\\r\\n\\r\\n/* Center the image and position the close button */\\r\\n\\r\\n.imgcontainer {\\r\\n  text-align: center;\\r\\n  margin: 24px 0 12px 0;\\r\\n  position: relative;\\r\\n}\\r\\n\\r\\nimg.avatar {\\r\\n  width: 40%;\\r\\n  border-radius: 50%;\\r\\n}\\r\\n\\r\\n.container {\\r\\n  padding: 16px;\\r\\n}\\r\\n\\r\\nspan.psw {\\r\\n  float: right;\\r\\n  padding-top: 16px;\\r\\n}\\r\\n\\r\\n/* The Modal (background) */\\r\\n\\r\\n.modal {\\r\\n  display: none; /* Hidden by default */\\r\\n  position: fixed; /* Stay in place */\\r\\n  z-index: 1; /* Sit on top */\\r\\n  left: 0;\\r\\n  top: 0;\\r\\n  width: 100%; /* Full width */\\r\\n  height: 100%; /* Full height */\\r\\n  overflow: auto; /* Enable scroll if needed */\\r\\n  background-color: rgb(0,0,0); /* Fallback color */\\r\\n  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */\\r\\n  padding-top: 60px;\\r\\n}\\r\\n\\r\\n/* Modal Content/Box */\\r\\n\\r\\n.modal-content {\\r\\n  background-color: #fefefe;\\r\\n  margin: 5% auto 15% auto; /* 5% from the top, 15% from the bottom and centered */\\r\\n  border: 1px solid #888;\\r\\n  width: 80%; /* Could be more or less, depending on screen size */\\r\\n}\\r\\n\\r\\n/* The Close Button (x) */\\r\\n\\r\\n.close {\\r\\n  position: absolute;\\r\\n  right: 25px;\\r\\n  top: 0;\\r\\n  color: #000;\\r\\n  font-size: 35px;\\r\\n  font-weight: bold;\\r\\n}\\r\\n\\r\\n.close:hover,\\r\\n.close:focus {\\r\\n  color: red;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n/* Add Zoom Animation */\\r\\n\\r\\n.animate {\\r\\n  -webkit-animation: animatezoom 0.6s;\\r\\n  animation: animatezoom 0.6s\\r\\n}\\r\\n\\r\\n@-webkit-keyframes animatezoom {\\r\\n  from {-webkit-transform: scale(0)} \\r\\n  to {-webkit-transform: scale(1)}\\r\\n}\\r\\n\\r\\n@keyframes animatezoom {\\r\\n  from {-webkit-transform: scale(0);transform: scale(0)} \\r\\n  to {-webkit-transform: scale(1);transform: scale(1)}\\r\\n}\\r\\n\\r\\n/* Change styles for span and cancel button on extra small screens */\\r\\n\\r\\n@media screen and (max-width: 300px) {\\r\\n  span.psw {\\r\\n     display: block;\\r\\n     float: none;\\r\\n  }\\r\\n  .cancelbtn {\\r\\n     width: 100%;\\r\\n  }\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLHlDQUF5QyxDQUFDOztBQUVoRCw0QkFBNEI7O0FBQzVCO0VBQ0UsV0FBVztFQUNYLGtCQUFrQjtFQUNsQixhQUFhO0VBQ2IscUJBQXFCO0VBQ3JCLHNCQUFzQjtFQUN0QixzQkFBc0I7QUFDeEI7O0FBRUEsZ0NBQWdDOztBQUNoQztFQUNFLHlCQUF5QjtFQUN6QixZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGFBQWE7RUFDYixZQUFZO0VBQ1osZUFBZTtFQUNmLFdBQVc7QUFDYjs7QUFFQTtFQUNFLFlBQVk7QUFDZDs7QUFFQSx1Q0FBdUM7O0FBQ3ZDO0VBQ0UsV0FBVztFQUNYLGtCQUFrQjtFQUNsQix5QkFBeUI7QUFDM0I7O0FBRUEsbURBQW1EOztBQUNuRDtFQUNFLGtCQUFrQjtFQUNsQixxQkFBcUI7RUFDckIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsVUFBVTtFQUNWLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGFBQWE7QUFDZjs7QUFFQTtFQUNFLFlBQVk7RUFDWixpQkFBaUI7QUFDbkI7O0FBRUEsMkJBQTJCOztBQUMzQjtFQUNFLGFBQWEsRUFBRSxzQkFBc0I7RUFDckMsZUFBZSxFQUFFLGtCQUFrQjtFQUNuQyxVQUFVLEVBQUUsZUFBZTtFQUMzQixPQUFPO0VBQ1AsTUFBTTtFQUNOLFdBQVcsRUFBRSxlQUFlO0VBQzVCLFlBQVksRUFBRSxnQkFBZ0I7RUFDOUIsY0FBYyxFQUFFLDRCQUE0QjtFQUM1Qyw0QkFBNEIsRUFBRSxtQkFBbUI7RUFDakQsaUNBQWlDLEVBQUUscUJBQXFCO0VBQ3hELGlCQUFpQjtBQUNuQjs7QUFFQSxzQkFBc0I7O0FBQ3RCO0VBQ0UseUJBQXlCO0VBQ3pCLHdCQUF3QixFQUFFLHNEQUFzRDtFQUNoRixzQkFBc0I7RUFDdEIsVUFBVSxFQUFFLG9EQUFvRDtBQUNsRTs7QUFFQSx5QkFBeUI7O0FBQ3pCO0VBQ0Usa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxNQUFNO0VBQ04sV0FBVztFQUNYLGVBQWU7RUFDZixpQkFBaUI7QUFDbkI7O0FBRUE7O0VBRUUsVUFBVTtFQUNWLGVBQWU7QUFDakI7O0FBRUEsdUJBQXVCOztBQUN2QjtFQUNFLG1DQUFtQztFQUNuQztBQUNGOztBQUVBO0VBQ0UsTUFBTSwyQkFBMkI7RUFDakMsSUFBSSwyQkFBMkI7QUFDakM7O0FBRUE7RUFDRSxNQUFNLDJCQUFrQixDQUFsQixtQkFBbUI7RUFDekIsSUFBSSwyQkFBa0IsQ0FBbEIsbUJBQW1CO0FBQ3pCOztBQUVBLG9FQUFvRTs7QUFDcEU7RUFDRTtLQUNHLGNBQWM7S0FDZCxXQUFXO0VBQ2Q7RUFDQTtLQUNHLFdBQVc7RUFDZDtBQUNGIiwiZmlsZSI6InNyYy9hcHAvbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImJvZHkge2ZvbnQtZmFtaWx5OiBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO31cclxuXHJcbi8qIEZ1bGwtd2lkdGggaW5wdXQgZmllbGRzICovXHJcbmlucHV0W3R5cGU9dGV4dF0sIGlucHV0W3R5cGU9cGFzc3dvcmRdIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBwYWRkaW5nOiAxMnB4IDIwcHg7XHJcbiAgbWFyZ2luOiA4cHggMDtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG59XHJcblxyXG4vKiBTZXQgYSBzdHlsZSBmb3IgYWxsIGJ1dHRvbnMgKi9cclxuYnV0dG9uIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNENBRjUwO1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICBwYWRkaW5nOiAxNHB4IDIwcHg7XHJcbiAgbWFyZ2luOiA4cHggMDtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG5idXR0b246aG92ZXIge1xyXG4gIG9wYWNpdHk6IDAuODtcclxufVxyXG5cclxuLyogRXh0cmEgc3R5bGVzIGZvciB0aGUgY2FuY2VsIGJ1dHRvbiAqL1xyXG4uY2FuY2VsYnRuIHtcclxuICB3aWR0aDogYXV0bztcclxuICBwYWRkaW5nOiAxMHB4IDE4cHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y0NDMzNjtcclxufVxyXG5cclxuLyogQ2VudGVyIHRoZSBpbWFnZSBhbmQgcG9zaXRpb24gdGhlIGNsb3NlIGJ1dHRvbiAqL1xyXG4uaW1nY29udGFpbmVyIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgbWFyZ2luOiAyNHB4IDAgMTJweCAwO1xyXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG5cclxuaW1nLmF2YXRhciB7XHJcbiAgd2lkdGg6IDQwJTtcclxuICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbn1cclxuXHJcbi5jb250YWluZXIge1xyXG4gIHBhZGRpbmc6IDE2cHg7XHJcbn1cclxuXHJcbnNwYW4ucHN3IHtcclxuICBmbG9hdDogcmlnaHQ7XHJcbiAgcGFkZGluZy10b3A6IDE2cHg7XHJcbn1cclxuXHJcbi8qIFRoZSBNb2RhbCAoYmFja2dyb3VuZCkgKi9cclxuLm1vZGFsIHtcclxuICBkaXNwbGF5OiBub25lOyAvKiBIaWRkZW4gYnkgZGVmYXVsdCAqL1xyXG4gIHBvc2l0aW9uOiBmaXhlZDsgLyogU3RheSBpbiBwbGFjZSAqL1xyXG4gIHotaW5kZXg6IDE7IC8qIFNpdCBvbiB0b3AgKi9cclxuICBsZWZ0OiAwO1xyXG4gIHRvcDogMDtcclxuICB3aWR0aDogMTAwJTsgLyogRnVsbCB3aWR0aCAqL1xyXG4gIGhlaWdodDogMTAwJTsgLyogRnVsbCBoZWlnaHQgKi9cclxuICBvdmVyZmxvdzogYXV0bzsgLyogRW5hYmxlIHNjcm9sbCBpZiBuZWVkZWQgKi9cclxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMCwwLDApOyAvKiBGYWxsYmFjayBjb2xvciAqL1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsMC40KTsgLyogQmxhY2sgdy8gb3BhY2l0eSAqL1xyXG4gIHBhZGRpbmctdG9wOiA2MHB4O1xyXG59XHJcblxyXG4vKiBNb2RhbCBDb250ZW50L0JveCAqL1xyXG4ubW9kYWwtY29udGVudCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZlZmVmZTtcclxuICBtYXJnaW46IDUlIGF1dG8gMTUlIGF1dG87IC8qIDUlIGZyb20gdGhlIHRvcCwgMTUlIGZyb20gdGhlIGJvdHRvbSBhbmQgY2VudGVyZWQgKi9cclxuICBib3JkZXI6IDFweCBzb2xpZCAjODg4O1xyXG4gIHdpZHRoOiA4MCU7IC8qIENvdWxkIGJlIG1vcmUgb3IgbGVzcywgZGVwZW5kaW5nIG9uIHNjcmVlbiBzaXplICovXHJcbn1cclxuXHJcbi8qIFRoZSBDbG9zZSBCdXR0b24gKHgpICovXHJcbi5jbG9zZSB7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHJpZ2h0OiAyNXB4O1xyXG4gIHRvcDogMDtcclxuICBjb2xvcjogIzAwMDtcclxuICBmb250LXNpemU6IDM1cHg7XHJcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbn1cclxuXHJcbi5jbG9zZTpob3ZlcixcclxuLmNsb3NlOmZvY3VzIHtcclxuICBjb2xvcjogcmVkO1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG5cclxuLyogQWRkIFpvb20gQW5pbWF0aW9uICovXHJcbi5hbmltYXRlIHtcclxuICAtd2Via2l0LWFuaW1hdGlvbjogYW5pbWF0ZXpvb20gMC42cztcclxuICBhbmltYXRpb246IGFuaW1hdGV6b29tIDAuNnNcclxufVxyXG5cclxuQC13ZWJraXQta2V5ZnJhbWVzIGFuaW1hdGV6b29tIHtcclxuICBmcm9tIHstd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMCl9IFxyXG4gIHRvIHstd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMSl9XHJcbn1cclxuICBcclxuQGtleWZyYW1lcyBhbmltYXRlem9vbSB7XHJcbiAgZnJvbSB7dHJhbnNmb3JtOiBzY2FsZSgwKX0gXHJcbiAgdG8ge3RyYW5zZm9ybTogc2NhbGUoMSl9XHJcbn1cclxuXHJcbi8qIENoYW5nZSBzdHlsZXMgZm9yIHNwYW4gYW5kIGNhbmNlbCBidXR0b24gb24gZXh0cmEgc21hbGwgc2NyZWVucyAqL1xyXG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiAzMDBweCkge1xyXG4gIHNwYW4ucHN3IHtcclxuICAgICBkaXNwbGF5OiBibG9jaztcclxuICAgICBmbG9hdDogbm9uZTtcclxuICB9XHJcbiAgLmNhbmNlbGJ0biB7XHJcbiAgICAgd2lkdGg6IDEwMCU7XHJcbiAgfVxyXG59Il19 */\"","module.exports = \"<!DOCTYPE html>\\n<html>\\n<head>\\n<meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1\\\">\\n</head>\\n<body class=\\\"w3-light-grey w3-display-container\\\" style=\\\"height:600px\\\">\\n\\n<div class=\\\"w3-display-middle\\\">\\n    <div class=\\\"w3-center\\\">\\n      <button class=\\\"w3-margin w3-orange w3-xlarge\\\" onclick=\\\"document.getElementById('login').style.display='block'\\\" style=\\\"width:auto;\\\"><b>Login</b></button>\\n      <a [routerLink] = \\\"['/signup']\\\">Sign Up</a>\\n    </div>\\n</div>\\n\\n\\n<div id=\\\"login\\\" class=\\\"modal\\\">\\n  \\n  <form class=\\\"modal-content animate\\\" [formGroup]=\\\"loginForm\\\">\\n    <!--\\n    <div class=\\\"imgcontainer\\\">\\n      <span onclick=\\\"document.getElementById('login').style.display='none'\\\" class=\\\"close\\\" title=\\\"Close Modal\\\">&times;</span>\\n      <img src=\\\"img_avatar2.png\\\" alt=\\\"Avatar\\\" class=\\\"avatar\\\">\\n    </div>\\n    -->\\n\\n    <div *ngIf=\\\"loginError\\\"\\n      class=\\\"w3-panel w3-center new-message w3-red\\\"\\n      [@EnterLeave]=\\\"'flyIn'\\\">\\n      <h4>Error logging in.</h4>\\n  </div>\\n\\n    <div class=\\\"w3-container w3-light-grey\\\">\\n      <label for=\\\"username\\\" class=\\\"w3-text-orange\\\"><b>Username</b></label>\\n      <input type=\\\"text\\\" (keyup.enter)=\\\"onLogin()\\\" placeholder=\\\"Enter Username\\\" name=\\\"username\\\" formControlName=\\\"username\\\" required>\\n\\n      <label for=\\\"password\\\" class=\\\"w3-text-orange\\\"><b>Password</b></label>\\n      <input type=\\\"password\\\" (keyup.enter)=\\\"onLogin()\\\" placeholder=\\\"Enter Password\\\" name=\\\"password\\\" formControlName=\\\"password\\\" required>\\n\\t  \\n\\t  <label for=\\\"schoolcode\\\" class=\\\"w3-text-orange\\\"><b>Schoolcode</b></label>\\n      <input type=\\\"text\\\" (keyup.enter)=\\\"onLogin()\\\" placeholder=\\\"Enter Schoolcode\\\" name=\\\"schoolcode\\\" formControlName=\\\"schoolcode\\\" required>\\n        \\n      <button (click)=\\\"onLogin()\\\" type=\\\"button\\\" class=\\\"w3-orange w3-xlarge\\\">Login</button>\\n      <label>\\n        <input type=\\\"checkbox\\\" checked=\\\"checked\\\" name=\\\"remember\\\"> Remember me\\n      </label>\\n    </div>\\n\\n    <div class=\\\"container\\\" style=\\\"background-color:#f1f1f1\\\">\\n      <button type=\\\"button\\\" onclick=\\\"document.getElementById('login').style.display='none'\\\" class=\\\"cancelbtn w3-grey\\\">Cancel</button>\\n      <span class=\\\"psw\\\">Forgot <a [routerLink] = \\\"['/forgotpassword']\\\">password?</a></span>\\n    </div>\\n  </form>\\n</div>\\n\\n\\n\\n\\n<script>\\n// Get the modal\\nvar modal = document.getElementById('id01');\\n\\n// When the user clicks anywhere outside of the modal, close it\\nwindow.onclick = function(event) {\\n  if (event.target == modal) {\\n    modal.style.display = \\\"none\\\";\\n  }\\n}\\n</script>\\n\\n\\n\\n<script>\\n// Get the modal\\nvar modal = document.getElementById('login');\\n\\n// When the user clicks anywhere outside of the modal, close it\\nwindow.onclick = function(event) {\\n    if (event.target == modal) {\\n        modal.style.display = \\\"none\\\";\\n    }\\n}\\n</script>\\n\\n</body>\\n</html>\\n\"","import { Component, OnInit } from '@angular/core';\nimport {FormGroup, FormBuilder, Validators} from \"@angular/forms\";\nimport { Model } from \"../model/repository.model\";\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { trigger, state, style, animate, transition, sequence } from '@angular/animations';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css'],\n  animations:[\n    trigger('EnterLeave', [\n        state('flyIn', style({ transform: 'translateX(0)' })),\n        transition('void => *', [\n            style({ width: 10, transform: 'translateX(50px)', opacity: 0 }),\n            sequence([\n              // animate('0.3s 0.1s ease', style({\n              //   transform: 'translateX(0)',\n              //   width: 120\n              // })),\n              animate('0.3s ease', style({\n                opacity: 1\n              }))\n            ])\n          ])\n      ])\n]\n})\nexport class LoginComponent implements OnInit {\n\n  loginForm: FormGroup;\n  loginError: boolean;\n // signUpForm: FormGroup;\n\n  constructor(  private model: Model,\n                private formBuilder: FormBuilder,\n                activeRoute: ActivatedRoute,\n                private router: Router) \n  { \n    this.loginError = false;\n  }\n\n  ngOnInit() {\n\n    this.initForms();\n\n    this.loginError = false;\n\n    this.model.studentLoggedIn.subscribe(\n      (message: string) => {\n        //Student logged in\n        if(JSON.parse(localStorage.getItem('currentUser')).roles[0].id < 3){\n          this.router.navigate(['studentoverview']);\n        }\n        //Teacher or admin logged in\n        else {\n          this.router.navigate(['overview']);\n        }\n      }\n    );\n\n    this.model.loginFailed.subscribe(\n      (message: string) => {\n        this.loginError = true;\n        console.log(\"loginerror\");\n        setTimeout(() => this.loginError=null,2000);\n        //this.router.navigate(['login']);\n      }\n    )\n\n  }\n\n  private initForms(){\n    this.loginForm = this.formBuilder.group ({\n      username: ['', Validators.required],\n      password: ['', Validators.required],\n      schoolcode: ['', Validators.required]\n    });\n\n    if(localStorage.getItem('schoolcode') && localStorage.getItem('username')){\n      this.loginForm.setValue(\n        {\n          schoolcode : localStorage.getItem('schoolcode'),\n          password: \"\",\n          username: localStorage.getItem('username')\n        });\n    }\n  }\n\n  onLogin(){\n    //localStorage.clear();\n    console.log(\"username: \" + this.loginForm.get('username').value);\n    console.log(\"password: \" + this.loginForm.get('password').value);\n    console.log(\"schoolcode: \" + this.loginForm.get('schoolcode').value);\n //   localStorage.setItem('schoolcode',this.loginForm.get('schoolcode').value);\n    this.model.login(this.loginForm.get('username').value, this.loginForm.get('password').value,\n                this.loginForm.get('schoolcode').value);\n    // this.router.navigate(['overview']);\n  }\n\n}\n","module.exports = \"<div *ngIf=\\\"lastMessage\\\"\\r\\n    class=\\\"w3-panel w3-center new-message\\\"\\r\\n    [class.w3-red]=\\\"lastMessage.error\\\"\\r\\n    [class.w3-green]=\\\"!lastMessage.error\\\"\\r\\n    [@EnterLeave]=\\\"'flyIn'\\\">\\r\\n    <h4>{{lastMessage.text}}</h4>\\r\\n</div>\"","import { Component } from \"@angular/core\";\r\nimport { Message } from './message.model';\r\nimport { MessageService } from './message.service';\r\nimport { Observable } from \"rxjs\";\r\nimport { trigger, state, style, animate, transition, sequence } from '@angular/animations';\r\n\r\n@Component({\r\n    selector: \"paMessages\",\r\n    templateUrl: \"message.component.html\",\r\n    animations:[\r\n        trigger('EnterLeave', [\r\n            state('flyIn', style({ transform: 'translateX(0)' })),\r\n            transition('void => *', [\r\n                style({ width: 10, transform: 'translateX(50px)', opacity: 0 }),\r\n                sequence([\r\n                  animate('0.3s 0.1s ease', style({\r\n                    transform: 'translateX(0)',\r\n                    width: 120\r\n                  })),\r\n                  animate('0.3s ease', style({\r\n                    opacity: 1\r\n                  }))\r\n                ])\r\n              ]),\r\n            // transition(':enter', [\r\n            //   style({ transform: 'translateX(-100%)' }),\r\n            //   animate('0.5s 300ms ease-in')\r\n            // ]),\r\n            // transition(':leave', [\r\n            //   animate('0.3s ease-out', style({ transform: 'translateX(100%)' }))\r\n            // ])\r\n          ])\r\n    ]\r\n})\r\n\r\nexport class MessageComponent {\r\n    lastMessage: Message;\r\n\r\n    constructor(messageService: MessageService) {\r\n        messageService.messages.subscribe(m => {\r\n          this.lastMessage = m;\r\n          setTimeout(() => this.lastMessage=null,2000);\r\n    })\r\n}\r\n\r\n}\r\n\r\n","export class Message {\r\n    constructor(private text: string, \r\n        private error: boolean = false) {}\r\n}","import { NgModule } from \"@angular/core\";\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { MessageComponent } from './message.component';\r\nimport { MessageService } from './message.service';\r\n\r\n@NgModule({\r\n    imports: [BrowserModule],\r\n    declarations: [MessageComponent],\r\n    exports: [MessageComponent],\r\n    providers: [MessageService]\r\n})\r\nexport class MessageModule{};","import { Injectable } from \"@angular/core\";\r\nimport { Message } from \"./message.model\";\r\nimport { Subject, Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class MessageService {\r\n    private subject = new Subject<Message>();\r\n\r\n    reportMessage(msg: Message){\r\n        this.subject.next(msg);\r\n    }\r\n\r\n    get messages(): Observable<Message> {\r\n        return this.subject;\r\n    }\r\n}","export class EditPasswordForm {\r\n\r\n    constructor(public id?: number,\r\n                public password?: string) {}\r\n    \r\n}","export class Class_schoolyear {\r\n\r\n    constructor(public class_schoolyear_id?: number,\r\n                public schoolClass?: string,\r\n                public schoolyear_id?: number) {}\r\n}","import { NgModule } from \"@angular/core\";\r\n\r\nimport { Model } from \"./repository.model\";\r\nimport { HttpClientModule, HttpClientJsonpModule } from \"@angular/common/http\";\r\nimport { RestDataSource, REST_URL } from \"./rest.datasource\";\r\nimport { FileUtil }                     from '../csvutils/file.util';\r\nimport { Constants }                    from '../csvutils/tests.constants';\r\n\r\n@NgModule({\r\n    imports: [HttpClientModule, HttpClientJsonpModule],\r\n    providers: [Model, RestDataSource, FileUtil, Constants,\r\n        { provide: REST_URL, useValue: `restfulapi.test` }] \r\n        //https://notatis.org \r\n        //https://spring.remarko.net\r\n        // http://localhost:8080\r\n        //http://remarko.eu-central-1.elasticbeanstalk.com\r\n})\r\nexport class ModelModule { }","export class RankingSettings {\r\n\r\n    constructor(public ranking_settings_id?: number,\r\n                public ranking_start_total?: number,\r\n                public one_penalty?: number,\r\n                public two_penalty?: number,\r\n                public three_penalty?: number,\r\n                public four_penalty?: number,\r\n                public ranking_start_date?: number,\r\n                public ranking_end_date?: number,\r\n                public last_updated?: number,) {}\r\n}","export class RemarkFilterForm {\r\n\r\n    constructor(\r\n                public studentId?: number,\r\n                public authorId?: number,\r\n                public fromDate?: string,\r\n                public toDate?: string,\r\n                public severities?: number[],\r\n                public schoolClassId?: number\r\n                ) {}\r\n}","export class Remarkoptions {\r\n\r\n    constructor(public id?: number,\r\n                public option?: string) {}\r\n}","export class RemarksSaveForm {\r\n\r\n    constructor(\r\n                public date?: string,\r\n                public remark?: string,\r\n                public extraInfo?: string,\r\n                public severity?: number,\r\n                public studentId?: number[],\r\n                public teacherId?: number\r\n                ) {}\r\n}","import { Injectable, ɵoverrideProvider } from \"@angular/core\";\r\nimport { Teacher } from \"./teacher.model\";\r\nimport { Student } from \"./student.model\";\r\nimport { Observable } from \"rxjs\";\r\nimport { RestDataSource } from \"./rest.datasource\";\r\nimport { SignupUser } from './signupUser.model';\r\nimport { EditPasswordForm } from './EditPasswordForm.model';\r\nimport { Subject } from 'rxjs';\r\nimport { MessageService } from '../messages/message.service';\r\nimport { Message } from '../messages/message.model';\r\nimport { TeachersComponent } from '../teachers/teachers.component';\r\nimport { Schoolyear } from './schoolyear.model';\r\nimport { Class_schoolyear } from './class_schoolyear.model';\r\nimport { Remarkoptions } from './remarkoptions.model';\r\nimport { School } from './school.model';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { RemarksSaveForm } from './remarksSaveForm.model';\r\nimport { RemarkFilterForm } from './remarkFilterForm.model';\r\nimport { SignupSchool } from './signupSchool.model';\r\nimport { SubjectSubscriber } from 'rxjs/internal/Subject';\r\nimport { RankingSettings } from './rankingSettings.model'\r\nimport { ParentStudentInfo } from './parentStudentInfo.model';\r\nimport { Myresponse } from './myresponse.model';\r\n\r\n@Injectable()\r\nexport class Model {\r\n    private teachers: Teacher[] = new Array<Teacher>();\r\n    teachersChangeDetected = new Subject();\r\n\r\n    private students: Student[] = new Array<Student>();\r\n    studentsChangeDetected = new Subject();\r\n\r\n    remarkoptionChangeDetected = new Subject();\r\n    schoolyearFilterUpdated = new Subject();\r\n    csChangeDetected = new Subject();\r\n    remarksSaved = new Subject();\r\n    remarkDeleted = new Subject();\r\n    filteredRemarksArrived = new Subject();\r\n    HTMLTextLoaded = new Subject();\r\n    classSchoolyearsLoaded = new Subject();\r\n    schoolInfoUpdated = new Subject();\r\n    adminCreated = new Subject();\r\n    adminConfirmed = new Subject();\r\n    studentPasswordUpdated = new Subject();\r\n    allRankingsLoaded = new Subject();\r\n    classRankingsLoaded = new Subject();\r\n    rankingSettingsLoaded = new Subject();\r\n    rankingSettingsUpdated = new Subject();\r\n    parentsLoaded = new Subject();\r\n    childLoaded = new Subject();\r\n    accountChanged = new Subject();\r\n\r\n    studentLoggedIn = new Subject();\r\n    loginFailed = new Subject();\r\n    passwordValid = new Subject();\r\n\r\n    filteredRemarks: [];\r\n\r\n    private schoolyears: Schoolyear[] = new Array<Schoolyear>();\r\n    private classSchoolyears: Class_schoolyear[] = new Array<Class_schoolyear>();\r\n\r\n    private currentSchoolyearId: number = 1;\r\n    private language: string = \"nl\";\r\n    private currentSchool: School;\r\n\r\n    private accessToken: string;\r\n\r\n    private HTMLText;\r\n\r\n    public parsedCsv: string[] = [];\r\n\r\n    private locator = (p: Teacher, id: number) => p.id == id;\r\n\r\n    constructor(private dataSource: RestDataSource, \r\n                private messageService: MessageService,\r\n                private activeRoute: ActivatedRoute,\r\n                private router: Router) {\r\n        // this.dataSource.getSchoolyears().subscribe(\r\n        //     data => {\r\n        //         this.schoolyears = data\r\n        //     },\r\n        //     error => {\r\n        //         this.loginFailed.next(\"login failed\");\r\n        //     }\r\n        // );\r\n        // this.dataSource.getClassSchoolyearBySchoolyear(this.currentSchoolyearId).subscribe(\r\n        //     data => {\r\n        //         this.classSchoolyears = data;\r\n        //     },\r\n        //     error => {\r\n        //         this.loginFailed.next(\"login failed\");\r\n        //     }\r\n\r\n        // );\r\n        // this.dataSource.getTeachers().subscribe(\r\n        //     data => {\r\n        //         this.teachers = data;\r\n        //         this.teachersChangeDetected.next(\"teachers loaded\");\r\n        //     },\r\n        //     error => {\r\n        //         this.loginFailed.next(\"login failed\");\r\n        //     }\r\n        // );\r\n    }\r\n\r\n    ngOnInit(){\r\n //       this.HTMLText = JSON.parse(localStorage.getItem('multiLangText'));\r\n        this.HTMLTextLoaded.subscribe(\r\n          data => {\r\n            this.HTMLText = JSON.parse(localStorage.getItem('multiLangText'));\r\n          }\r\n        )\r\n    }\r\n//----------------------------------------------------- START OF TEACHER METHODS -----------------------------------------------\r\n \r\n    getTeachersFromRAM() : Teacher[]{\r\n        return this.teachers;\r\n    }\r\n    \r\n    getTeachers(): Teacher[] {\r\n        this.dataSource.getTeachers().subscribe(\r\n            data => \r\n                {\r\n                    this.teachers = data;\r\n                    //this.messageService.reportMessage(new Message(\"Teachers loaded successfully.\",false));\r\n                    localStorage.setItem('teachers',JSON.stringify(this.teachers));\r\n                    this.teachersChangeDetected.next(data);\r\n                    // console.log(this.teachers.length + \" teachers in repository: \" + this.teachers);\r\n                    // console.log(data.length + \" data in repository: \" + data);\r\n                }, \r\n            error => {\r\n                this.handleError(error, this.HTMLText[50]);\r\n                // this.messageService.reportMessage(new Message(this.HTMLText[50], true));\r\n            }\r\n        );\r\n        return this.teachers;\r\n    }\r\n\r\n    getTeacher(id: number): Teacher {\r\n        return this.teachers.find(p => this.locator(p, id));\r\n    }\r\n\r\n    signUpTeacher(signup: SignupUser){\r\n        console.log(\"entering signUpTeacher in model\");\r\n        this.dataSource.saveTeacher(signup).subscribe\r\n        (p => \r\n            {\r\n                this.HTMLText = JSON.parse(localStorage.getItem('multiLangText'));\r\n                this.messageService.reportMessage(new Message(this.HTMLText[51] + \" \" + signup.firstName + \" \" + signup.lastName + \" \" + this.HTMLText[61] , false))\r\n                console.log(\"Callback after signup user with name: \" + p.firstName + \" \" + p.lastName);\r\n                // this.teachersChangeDetected.next(\"Change detected\");\r\n                this.getTeachers();\r\n            }, \r\n        error => {\r\n            this.handleError(error, this.HTMLText[52]);\r\n            // this.messageService.reportMessage(new Message(this.HTMLText[52] , true)) \r\n        }     \r\n        );\r\n    }\r\n\r\n    signUpTeachers(signups: SignupUser[]){\r\n        this.dataSource.saveTeachers(signups).subscribe(\r\n            p => \r\n                {\r\n                    this.messageService.reportMessage(new Message(signups.length + this.HTMLText[53] , false));\r\n                    this.getTeachers();\r\n                    console.log(\"Callback after signing up \" + signups.length + \" users\");\r\n                }, \r\n            error => {\r\n                this.handleError(error, this.HTMLText[54]);\r\n                // this.messageService.reportMessage(new Message(this.HTMLText[54] , true))\r\n            }    \r\n            );\r\n    }\r\n    \r\n    updateTeacherInfo(teacher: Teacher){\r\n        this.dataSource.updateTeacherInfo(teacher).subscribe(\r\n            p => \r\n                {\r\n                    this.messageService.reportMessage(new Message(this.HTMLText[55] + \" \" + teacher.firstName + \" \" + teacher.lastName + \" updated.\", false))\r\n                    this.getTeachers();\r\n                    console.log(\"Callback after signing up \" + teacher.lastName);\r\n                }, \r\n            error => {\r\n                this.getTeachers();\r\n                this.handleError(error, this.HTMLText[56]);\r\n                // this.messageService.reportMessage(new Message(this.HTMLText[56] , true));\r\n            }\r\n        )\r\n    } \r\n    \r\n    updateTeacherPassword(editPasswordForm: EditPasswordForm){\r\n        this.dataSource.updateTeacherPassword(editPasswordForm).subscribe( \r\n        p => \r\n            {\r\n                this.messageService.reportMessage(new Message(this.HTMLText[57] , false))\r\n                this.getTeachers();\r\n                console.log(\"Callback after changing password. \");\r\n            },\r\n        error => {\r\n            this.handleError(error, this.HTMLText[58]);\r\n            // this.messageService.reportMessage(new Message(this.HTMLText[58] , true))\r\n        });\r\n    }\r\n\r\n    deleteTeacher(id: number) {\r\n        this.dataSource.deleteTeacher(id).subscribe(\r\n            p => \r\n                { \r\n                    this.messageService.reportMessage(new Message(this.HTMLText[59] , false))\r\n                    this.getTeachers();\r\n                    console.log(\"Callback after delete teacher for id: \" + p.id);\r\n                }, \r\n                error => {\r\n                    this.handleError(error, this.HTMLText[60]);\r\n                    // this.messageService.reportMessage(new Message(this.HTMLText[60] , true));\r\n                    console.log(error);\r\n                }\r\n        );\r\n    }\r\n\r\n//--------------------------------------- END OF TEACHER METHODS -----------------------------------------------------------------\r\n\r\n//--------------------------------------- START OF PARENTS METHODS -----------------------------------------------------------------\r\n\r\ngetParents(): ParentStudentInfo[] {\r\n    let infos: ParentStudentInfo[];\r\n    this.dataSource.getParents().subscribe(\r\n        data => {\r\n            // console.log(data);\r\n            localStorage.setItem('parents', JSON.stringify(data));\r\n            this.parentsLoaded.next(data);\r\n            return data;\r\n        },\r\n        error => {\r\n            this.handleError(error, this.HTMLText[164]);\r\n        }\r\n    );\r\n    return infos;\r\n}\r\n\r\ngetChildByParentId(parentId: number) {\r\n    console.log(\"entering getChildByParentId \" + parentId);\r\n    this.dataSource.getChildByParentId(parentId).subscribe(\r\n        data => {\r\n            console.log(\"child data\");\r\n            console.log(data);\r\n            localStorage.setItem('child', JSON.stringify(data));\r\n            this.childLoaded.next(data);\r\n        },\r\n        error => {\r\n            console.log(\"error getting child\");\r\n        }\r\n    )\r\n}\r\n\r\ncreateParentAccountsForStudent(parent:SignupUser, studentid: number) {\r\n    this.dataSource.createParentAccountsForStudent(parent, studentid).subscribe(\r\n        data => {\r\n            console.log(\"parent account is created\");\r\n            console.log(data);\r\n            this.accountChanged.next();\r\n        },\r\n        error => {\r\n            console.log(\"ERROR: parent account was not created\");\r\n            console.log(error);\r\n        }\r\n    )\r\n}\r\n\r\nupdateParentPassword(editPasswordForm: EditPasswordForm){\r\n    this.dataSource.updateStudentPassword(editPasswordForm).subscribe( \r\n    p => \r\n        {\r\n            this.studentPasswordUpdated.next(true);\r\n            this.messageService.reportMessage(new Message(this.HTMLText[69], false));\r\n            console.log(\"Callback after changing password. \");\r\n            this.accountChanged.next();\r\n        },\r\n    error => {\r\n        this.studentPasswordUpdated.next(false);\r\n        this.handleError(error, this.HTMLText[73]);\r\n        // this.messageService.reportMessage(new Message(this.HTMLText[73], true));\r\n    });\r\n}\r\n\r\n//----------------------------------------------------- END OF PARENTS METHODS -----------------------------------------------\r\n\r\n//----------------------------------------------------- START OF STUDENT METHODS -----------------------------------------------\r\n\r\ngetStudentsFromRAM() : Student[]{\r\n    return this.students;\r\n}\r\n\r\n\r\ngetStudents(): Student[] {\r\n    this.dataSource.getStudents().subscribe(\r\n        data => \r\n            {\r\n                this.students = data;\r\n                this.students.sort(this.sortByclass);\r\n                //this.messageService.reportMessage(new Message(\"Teachers loaded successfully.\",false));\r\n                localStorage.setItem('students',JSON.stringify(this.students));\r\n                this.studentsChangeDetected.next(data);\r\n                // console.log(this.teachers.length + \" teachers in repository: \" + this.teachers);\r\n                // console.log(data.length + \" data in repository: \" + data);\r\n            },\r\n            error => {\r\n                this.handleError(error, this.HTMLText[62]);\r\n                // this.messageService.reportMessage(new Message(this.HTMLText[62], true))\r\n                this.loginFailed.next(\"login failed\");\r\n            }  \r\n    );\r\n    return this.students;\r\n}\r\n\r\nsortByclass(stud1: Student, stud2: Student): number{\r\n    if(stud1.classSchoolyears[0].schoolClass == stud2.classSchoolyears[0].schoolClass) {\r\n        if (stud1.lastName < stud2.lastName){\r\n            return -1;\r\n        }\r\n        else return 1;\r\n    }\r\n    if(stud1.classSchoolyears[0].schoolClass > stud2.classSchoolyears[0].schoolClass) {\r\n        return 1;\r\n    }\r\n    if(stud1.classSchoolyears[0].schoolClass < stud2.classSchoolyears[0].schoolClass) {\r\n        return -1;\r\n    }\r\n}\r\n\r\ngetStudent(id: number): Student {\r\n    return this.students.find(p => this.locator(p, id));\r\n}\r\n\r\n// getStudent(id: number): Student {\r\n//     for(var i=0; i<this.students.length; i++){\r\n//         if(this.students[i].id = id){\r\n//             return this.students[i];\r\n//         }\r\n//     }\r\n//     return null;\r\n// }\r\n\r\nsignUpStudent(signup: SignupUser){\r\n    this.dataSource.saveStudent(signup).subscribe\r\n    (p => \r\n        {\r\n            this.HTMLText = JSON.parse(localStorage.getItem('multiLangText'));\r\n            this.messageService.reportMessage(new Message(this.HTMLText[63] + \" \" + signup.firstName + \" \" + signup.lastName + this.HTMLText[61], false))\r\n            console.log(\"Callback after signup user with name: \" + p.firstName + \" \" + p.lastName);\r\n            // this.teachersChangeDetected.next(\"Change detected\");\r\n            this.getStudents();\r\n        }, \r\n    error => {\r\n        this.handleError(error, this.HTMLText[64] + error.error.text);\r\n        // this.messageService.reportMessage(new Message(this.HTMLText[64] + error.error.text, true)) ;\r\n        console.log(\"Error in signUpStudent: \");\r\n        console.log(\"Network Error: \" + error.statusText + \" \" + error.status);\r\n        console.log(error);\r\n        }     \r\n    );\r\n}\r\n\r\nsignUpStudentNoGetStudents(signup: SignupUser){\r\n    this.dataSource.saveStudent(signup).subscribe\r\n    (p => \r\n        {\r\n            this.HTMLText = JSON.parse(localStorage.getItem('multiLangText'));\r\n            this.messageService.reportMessage(new Message(this.HTMLText[63] + signup.firstName + \" \" + signup.lastName + this.HTMLText[61], false))\r\n            console.log(\"Callback after signup user with name: \" + p.firstName + \" \" + p.lastName);\r\n            // this.teachersChangeDetected.next(\"Change detected\");\r\n            // this.getStudents();\r\n        }, \r\n    error => {\r\n        this.handleError(error, this.HTMLText[64] + error.error.text);\r\n        // this.messageService.reportMessage(new Message(this.HTMLText[64] + error.error.text, true)) ;\r\n        console.log(\"Error in signUpStudent: \");\r\n        console.log(\"Network Error: \" + error.statusText + \" \" + error.status);\r\n        console.log(error);\r\n        }     \r\n    );\r\n}\r\n\r\nsignUpStudents(signups: SignupUser[]){\r\n    this.dataSource.saveStudents(signups).subscribe(\r\n        p => \r\n            {\r\n                this.messageService.reportMessage(new Message(signups.length + this.HTMLText[65], false));\r\n                this.getStudents();\r\n                console.log(\"Callback after signing up \" + signups.length + \" users\");\r\n                console.log(p);\r\n            }, \r\n        error => \r\n            {\r\n                this.handleError(error, this.HTMLText[66] + error.error.text);\r\n                console.log(\"Error in signUpStudents: \");\r\n                console.log(\"Network Error: \" + error.statusText + \" \" + error.status);\r\n                console.log(error);\r\n                // this.messageService.reportMessage(new Message(this.HTMLText[66] + error.error.text, true));\r\n            }\r\n        );\r\n}\r\n\r\nupdateStudent(student: Student){\r\n    this.dataSource.updateStudent(student).subscribe(\r\n        p => \r\n            {\r\n                this.messageService.reportMessage(new Message(this.HTMLText[67] + student.firstName + \" \" + student.lastName + this.HTMLText[68], false))\r\n                this.getStudents();\r\n                console.log(\"Callback after updating \" + student.lastName);\r\n            },\r\n        error => {\r\n            this.handleError(error, this.HTMLText[71]);\r\n            // this.messageService.reportMessage(new Message(this.HTMLText[71], true));\r\n        }\r\n    )\r\n}\r\n\r\nupdateStudentInfo(student: Student){\r\n    this.dataSource.updateStudentInfo(student).subscribe(\r\n        p => \r\n            {\r\n                this.messageService.reportMessage(new Message(this.HTMLText[67] + student.firstName + \" \" + student.lastName + this.HTMLText[68], false))\r\n                this.getStudents();\r\n                console.log(\"Callback after signing up \" + student.lastName);\r\n            }, \r\n        error => {\r\n            this.handleError(error, this.HTMLText[72]);\r\n            this.getStudents();\r\n            // this.messageService.reportMessage(new Message(this.HTMLText[72], true))\r\n        }\r\n    )\r\n} \r\n\r\nupdateStudentPassword(editPasswordForm: EditPasswordForm){\r\n    this.dataSource.updateStudentPassword(editPasswordForm).subscribe( \r\n    p => \r\n        {\r\n            this.studentPasswordUpdated.next(true);\r\n            this.messageService.reportMessage(new Message(this.HTMLText[69], false));\r\n            //Only get students if user is no admin or teacher\r\n            if(JSON.parse(localStorage.getItem('currentUser')).roles[0].id > 2){\r\n                this.getStudents();\r\n            }\r\n            console.log(\"Callback after changing password. \");\r\n        },\r\n    error => {\r\n        this.studentPasswordUpdated.next(false);\r\n        this.handleError(error, this.HTMLText[73]);\r\n        // this.messageService.reportMessage(new Message(this.HTMLText[73], true));\r\n    });\r\n}\r\n\r\ndeleteStudent(id: number) {\r\n    this.dataSource.deleteStudent(id).subscribe(\r\n        p => \r\n            { \r\n                this.messageService.reportMessage(new Message(this.HTMLText[70], false))\r\n                this.getStudents();\r\n                console.log(\"Callback after delete student for id: \" + p.id);\r\n            }, \r\n            error => {\r\n                this.handleError(error, this.HTMLText[74]);\r\n                // this.messageService.reportMessage(new Message(this.HTMLText[74], true));\r\n                console.log(error);\r\n            }\r\n    );\r\n}\r\n//--------------------------------------- END OF STUDENT METHODS -----------------------------------------------------------------\r\n\r\n//--------------------------------------- START OF SCHOOLYEAR METHODS -----------------------------------------------------------------\r\n\r\ngetSchoolyears(): Schoolyear[] {\r\n    this.dataSource.getSchoolyears().subscribe(\r\n        data => {\r\n            this.schoolyears = data;\r\n            localStorage.setItem('schoolyears',JSON.stringify(this.schoolyears));\r\n            return this.schoolyears;\r\n        },\r\n        error => {\r\n            this.handleError(error, this.HTMLText[75]);\r\n            // this.messageService.reportMessage(new Message(this.HTMLText[75], true))\r\n            this.loginFailed.next(\"login failed\");\r\n        }\r\n    );\r\n\r\n    return this.schoolyears;\r\n}\r\n\r\ngetSchoolyearsFromRAM() : Schoolyear[]{\r\n    return this.schoolyears;\r\n}\r\n\r\ngetClassSchoolyearsFromRAM() : Class_schoolyear[]{\r\n    return this.classSchoolyears;\r\n}\r\n\r\n//--------------------------------------- END OF SCHOOLYEAR METHODS -----------------------------------------------------------------\r\n\r\n//--------------------------------------- START OF CLASSSCHOOLYEAR METHODS -----------------------------------------------------------------\r\n\r\ngetClassSchoolyearsBySchoolyear(): Class_schoolyear[] {\r\n    let currentCSid = JSON.parse(localStorage.getItem('currentSchoolyearId'));\r\n    // this.dataSource.getClassSchoolyearBySchoolyear(this.currentSchoolyearId).subscribe(\r\n        this.dataSource.getClassSchoolyearBySchoolyear(currentCSid).subscribe(\r\n        data => {\r\n            this.classSchoolyears = data;\r\n            localStorage.setItem('classSchoolyears', JSON.stringify(data));\r\n            this.classSchoolyearsLoaded.next(data);\r\n//            return this.classSchoolyears;\r\n        },\r\n        error => {\r\n            this.handleError(error, this.HTMLText[76]);\r\n            // this.messageService.reportMessage(new Message(this.HTMLText[76], true));\r\n            console.log(error);\r\n        }\r\n    );\r\n\r\n    return this.classSchoolyears;\r\n}\r\n\r\naddClassSchoolyear(cs: Class_schoolyear) {\r\n    this.dataSource.addClassSchoolyear(cs).subscribe(\r\n        data => {\r\n            this.getClassSchoolyearsBySchoolyear();\r\n            this.messageService.reportMessage(new Message(\"Class added\", false));\r\n            return data;\r\n        },\r\n        error => {\r\n            this.messageService.reportMessage(new Message(\"Error adding class\", true));\r\n            console.log(\"error adding classschoolyear\");\r\n        }\r\n    )\r\n}\r\n\r\neditClassSchoolyear(cs: Class_schoolyear){\r\n    this.dataSource.editClassSchoolyear(cs).subscribe(\r\n        data => {\r\n            this.getClassSchoolyearsBySchoolyear();\r\n            this.messageService.reportMessage(new Message(\"Class updated\", false));\r\n            return data;\r\n        },\r\n        error => {\r\n            this.messageService.reportMessage(new Message(\"Error updating class\", true));\r\n            console.log(\"error adding classschoolyear\");\r\n        }\r\n    )\r\n}\r\n\r\ndeleteClassSchoolyear(csId: number){\r\n    this.dataSource.deleteClassSchoolyear(csId).subscribe(\r\n        data => {\r\n            this.getClassSchoolyearsBySchoolyear();\r\n            this.messageService.reportMessage(new Message(\"Class deleted\", false));\r\n            return data;\r\n        },\r\n        error => {\r\n            this.messageService.reportMessage(new Message(\"Error deleting class\", true));\r\n            console.log(\"error adding classschoolyear\");\r\n        }\r\n    )\r\n}\r\n\r\n//--------------------------------------- END OF CLASSSCHOOLYEAR METHODS -----------------------------------------------------------------\r\n\r\n\r\n//--------------------------------------- START OF SCHOOL METHODS -----------------------------------------------------------------\r\n\r\ngetCurrentSchool(externalcode: string): School{\r\n    this.dataSource.getSchoolInfoByExternalCode(externalcode).subscribe(\r\n        data => {\r\n            this.currentSchool = data;\r\n            console.log(this.currentSchool);\r\n            return this.currentSchool;\r\n        },\r\n        error => {\r\n            this.handleError(error, this.HTMLText[77]);\r\n            // this.messageService.reportMessage(new Message(this.HTMLText[77], true))\r\n            this.loginFailed.next(\"login failed\");\r\n        }\r\n    );\r\n\r\n    return this.currentSchool;\r\n}\r\n\r\ngetCurrentSchoolFromRAM(): School{\r\n    return this.currentSchool;\r\n}\r\n\r\nupdateSchoolLanguage(language: string, schoolId: number): School{\r\n    this.dataSource.updateSchoolLanguage(language,schoolId).subscribe(\r\n        data => {\r\n            this.currentSchool = data;\r\n            localStorage.setItem('currentSchool', JSON.stringify(this.currentSchool));\r\n            localStorage.setItem('language',data.language.toString());\r\n            this.messageService.reportMessage(new Message(this.HTMLText[80], false));\r\n            return this.currentSchool;\r\n        },\r\n        error => {\r\n            this.handleError(error, this.HTMLText[78]);\r\n            // this.messageService.reportMessage(new Message(this.HTMLText[78],true));\r\n        }\r\n    );\r\n\r\n    return this.currentSchool;\r\n}\r\n\r\nupdateSchoolyearfilter(filter: number, schoolId: number): School{\r\n    this.dataSource.updateSchoolyearfilter(filter,schoolId).subscribe(\r\n        data => {\r\n            this.currentSchool = data;\r\n            localStorage.setItem('currentSchool', JSON.stringify(this.currentSchool));\r\n            localStorage.setItem('currentSchoolyearId', data.schoolyear_filter.toString());\r\n            this.schoolyearFilterUpdated.next(\"updated\");\r\n            this.messageService.reportMessage(new Message(this.HTMLText[80], false));\r\n            return this.currentSchool;\r\n        },\r\n        error => {\r\n            this.handleError(error, this.HTMLText[79]);\r\n            // this.messageService.reportMessage(new Message(this.HTMLText[79],true));\r\n        }\r\n    );\r\n\r\n    return this.currentSchool;\r\n}\r\n\r\n//--------------------------------------- END OF SCHOOL METHODS -----------------------------------------------------------------\r\n\r\n//--------------------------------------- START OF LOGIN METHODS -----------------------------------------------------------------\r\n\r\nlogin(username: string, password: string, schoolcodeexternal: string){\r\n    localStorage.clear();\r\n    // this.dataSource.getSchoolInfoByExternalCode(schoolcodeexternal).subscribe(\r\n    //this.dataSource.getSchoolInfoByExternalCode(schoolcodeexternal).subscribe(\r\n        console.log('first login');\r\n        this.dataSource.login(username,password,'msninove').subscribe(\r\n        data => {\r\n            console.log('first login');\r\n            // this.currentSchool = data;\r\n            // console.log(this.currentSchool);\r\n            // localStorage.setItem('currentSchool',JSON.stringify(this.currentSchool));\r\n            // // this.dataSource.setSchoolcodeInternal(this.currentSchool.schoolcodeInternal);\r\n            // this.currentSchoolyearId = this.currentSchool.schoolyear_filter;\r\n            // localStorage.setItem('currentSchoolyearId',this.currentSchoolyearId.toString());\r\n            // this.language = this.currentSchool.language;\r\n            // localStorage.setItem('language',this.language);\r\n            // localStorage.setItem('schoolcode',this.currentSchool.schoolcodeExternal);\r\n            // this.getLanguageText(this.language);\r\n            this.dataSource.login(username,password,'msninove').subscribe(\r\n                data1 => {\r\n                    this.accessToken = data1.accessToken;\r\n                    localStorage.setItem('accessToken',this.accessToken);\r\n                    localStorage.setItem('username',username);\r\n                    console.log(this.accessToken);\r\n                    this.getRankingSettings();\r\n                    // this.getLanguageText(this.language);\r\n                    // this.getStudents();\r\n                    // //ONLY LOAD TEACHERS IF USER IS ADMIN -> happens in getUser method\r\n                    // // this.getTeachers();\r\n                    // this.getSchoolyears();\r\n                    // this.getClassSchoolyears();\r\n                    // this.getRemarkOptions();\r\n                    // this.getUser(username);\r\n\r\n                    this.getUser(username);\r\n//                    this.messageService.reportMessage(new Message(\"Hi, \" + \" you are logged in.\",false));\r\n                },\r\n                error => {\r\n                    this.messageService.reportMessage(new Message(this.HTMLText[81],true));\r\n                    this.loginFailed.next(\"login failed\");\r\n                }    \r\n            );\r\n        },\r\n        error => {\r\n //           this.messageService.reportMessage(new Message(\"Error getting current school\",true));\r\n            this.messageService.reportMessage(new Message(this.HTMLText[81],true));\r\n            console.log(error);\r\n            this.loginFailed.next(\"login failed\");\r\n        }\r\n    );\r\n}\r\n\r\ngetUser(username: string){\r\n    this.dataSource.getUserByUsername(username).subscribe(\r\n        data => {\r\n            localStorage.setItem('currentUser', JSON.stringify(data));\r\n            //ONLY LOAD TEACHERS IF USER IS ADMIN\r\n            // if(JSON.parse(localStorage.getItem('currentUser')).roles[0].id == 4){\r\n            //     this.getTeachers();\r\n            // }\r\n            console.log(\"User set in localStorage.\");\r\n            console.log(localStorage.getItem('currentUser'));\r\n\r\n            //If it is a parent logging in, set the username of his/her child in localStorage\r\n            if(JSON.parse(localStorage.getItem('currentUser')).roles[0].id == 2) {\r\n                this.getChildByParentId(JSON.parse(localStorage.getItem('currentUser')).id);\r\n            }\r\n //           localStorage.getItem('currentUser');\r\n\r\n            //TEST IF USER IS ACTIVE --> DOING THIS CLIENT SIDE IS UNSAFE, since user might change false to true on client!!           \r\n            if(JSON.parse(localStorage.getItem('currentUser')).active == false){\r\n                this.loginFailed.next(\"login failed\");\r\n            }\r\n            else{\r\n                //ONLY LOAD IF USER IS TEACHER OR ADMIN\r\n                console.log(JSON.parse(localStorage.getItem('currentUser')).roles[0].id);\r\n                if(JSON.parse(localStorage.getItem('currentUser')).roles[0].id > 2){\r\n                    console.log(JSON.parse(localStorage.getItem('currentUser')).roles[0].id);\r\n                    this.getStudents();\r\n                    this.getSchoolyears();\r\n                    this.getClassSchoolyearsBySchoolyear();\r\n                    this.getRemarkOptions();\r\n                    // this.getRankingSettings(); //Moved one level up for students also\r\n                }\r\n\r\n                //ONLY LOAD TEACHERS IF USER IS ADMIN\r\n                if(JSON.parse(localStorage.getItem('currentUser')).roles[0].id == 4){\r\n                    this.getTeachers();\r\n                    this.getParents();\r\n                }\r\n\r\n                this.messageService.reportMessage(new Message(this.HTMLText[82] + JSON.parse(localStorage.getItem('currentUser')).firstName + this.HTMLText[83],false));\r\n                this.studentLoggedIn.next(\"Logged in user stored.\");\r\n                // this.router.navigate(['overview']);\r\n            }\r\n        },\r\n        error => {\r\n//            this.messageService.reportMessage(new Message(\"Error getting user\",true));\r\n            console.log(\"error in getting user\");\r\n            console.log(error);\r\n            this.loginFailed.next(\"login failed\"); \r\n        }\r\n    )\r\n\r\n    \r\n}\r\n\r\n//--------------------------------------- END OF LOGIN METHODS -----------------------------------------------------------------\r\n\r\n//--------------------------------------- START OF REMARKOPTIONS METHODS -----------------------------------------------------------------\r\n\r\ngetRemarkOptions(){\r\n    this.dataSource.getRemarkoptions().subscribe(\r\n        data =>{\r\n            localStorage.setItem('remarkoptions', JSON.stringify(data));\r\n            this.remarkoptionChangeDetected.next('remarkoptions changed');\r\n        },\r\n        error => {\r\n            this.handleError(error, this.HTMLText[84]);\r\n            // this.messageService.reportMessage(new Message(this.HTMLText[84], true))\r\n            this.loginFailed.next(\"login failed\");\r\n        }\r\n    );\r\n}\r\n\r\naddRemarkoption(remarkoption: Remarkoptions){\r\n    this.dataSource.addRemarkoption(remarkoption).subscribe(\r\n        data => {\r\n            this.messageService.reportMessage(new Message(this.HTMLText[85],false));\r\n            this.getRemarkOptions();\r\n        } ,\r\n        error => {\r\n            this.handleError(error, this.HTMLText[86]);\r\n            // this.messageService.reportMessage(new Message(this.HTMLText[86],true));\r\n        } \r\n    );\r\n}\r\n\r\neditRemarkoption(remarkoption: Remarkoptions){\r\n    this.dataSource.editRemarkoption(remarkoption).subscribe(\r\n        data => {\r\n            this.messageService.reportMessage(new Message(this.HTMLText[87],false));\r\n            this.getRemarkOptions();\r\n        } ,\r\n        error => {\r\n            this.handleError(error, this.HTMLText[88]);\r\n            // this.messageService.reportMessage(new Message(this.HTMLText[88],true));\r\n        } \r\n    );\r\n}\r\n\r\ndeleteRemarkoption(remarkoption: Remarkoptions){\r\n    this.dataSource.deleteRemarkoption(remarkoption).subscribe(\r\n        data => {\r\n            this.messageService.reportMessage(new Message(this.HTMLText[89],false));\r\n            this.getRemarkOptions();\r\n        } ,\r\n        error => {\r\n            this.handleError(error, this.HTMLText[90]);\r\n            // this.messageService.reportMessage(new Message(this.HTMLText[90],true));\r\n        } \r\n    );\r\n}\r\n\r\n//--------------------------------------- END OF REMARKOPTIONS METHODS -----------------------------------------------------------------\r\n\r\n//--------------------------------------- START OF PASSWORDFORGOT METHODS -----------------------------------------------------------------\r\n\r\n\r\n\r\nforgotpassword1(email: string, schoolcodeexternal: string){\r\n    localStorage.clear();\r\n    localStorage.setItem(\"NoSuchUserError\",\"0\");\r\n    localStorage.setItem(\"NoSuchSchoolcode\",\"0\");\r\n    this.dataSource.getSchoolInfoByExternalCode(schoolcodeexternal).subscribe(\r\n        data => {\r\n            if(data != null){\r\n                this.currentSchool = data;\r\n                console.log(this.currentSchool);\r\n                localStorage.setItem('currentSchool',JSON.stringify(this.currentSchool));\r\n                this.dataSource.forgotpassword1(email).subscribe(\r\n                    data => {\r\n                        this.messageService.reportMessage(new Message(this.HTMLText[152], false));\r\n                    },\r\n                    error => {\r\n                        console.log(error.error.text);\r\n                        // if(error.error.text == \"MailError\"){\r\n                        //     localStorage.setItem('MailError',\"1\");\r\n                        //     this.messageService.reportMessage(new Message(\"Fout bij het versturen van de mail.\", true));\r\n                        // }\r\n                        // if(error.error.text == \"NoSuchUserError\"){\r\n                        //     localStorage.setItem(\"NoSuchUserError\",\"1\");\r\n                        //     this.messageService.reportMessage(new Message(\"Er werd geen gebruiker met dit e-mailadres gevonden.\", true));\r\n                        // }\r\n                        this.handleError(error,\"Oops, something went wrong! Please try again.\")\r\n                        // this.messageService.reportMessage(new Message(error.error, true));\r\n                    }\r\n                );\r\n            }\r\n            else {\r\n                // localStorage.setItem(\"NoSuchSchoolcode\",\"1\");\r\n                this.messageService.reportMessage(new Message(this.HTMLText[150], true));\r\n                // this.handleError(\"NoSuchSchoolcode\",\"\");\r\n            }\r\n        },\r\n        error => {\r\n            this.messageService.reportMessage(new Message(this.HTMLText[151], true));\r\n            console.log(error.error);\r\n        })\r\n}\r\n\r\nforgotpassword2(code: string, schoolcode: string, newpw: string){\r\n    localStorage.clear();\r\n    localStorage.setItem(\"NoSuchUserError\",\"0\");\r\n    localStorage.setItem(\"NoSuchSchoolcode\",\"0\");\r\n    this.dataSource.forgotpassword2(code, schoolcode, newpw).subscribe(\r\n        data => {\r\n            this.messageService.reportMessage(new Message(\"Je wachtwoord is gewijzigd.\", false));\r\n        },\r\n        error => {\r\n            console.log(error);\r\n            this.handleError(error,\"Oops, something went wrong. Please try again.\");\r\n            // if(error.error.text == \"NoSuchUserError\"){\r\n            //     localStorage.setItem(\"NoSuchUserError\",\"1\");\r\n            //     this.messageService.reportMessage(new Message(\"Er werd geen gebruiker met dit e-mailadres gevonden.\", true));\r\n            // }\r\n            // if(error.error.text == \"NoSuchSchoolcode\"){\r\n            //     localStorage.setItem(\"NoSuchSchoolcode\",\"1\");\r\n            //     this.messageService.reportMessage(new Message(\"Deze schoolcode werd niet gevonden.\", true));\r\n            // }\r\n        }\r\n    )\r\n\r\n}\r\n\r\n//--------------------------------------- END OF PASSWORDFORGOT METHODS -----------------------------------------------------------------\r\n\r\n\r\n//--------------------------------------- START OF REMARK METHODS -----------------------------------------------------------------\r\n\r\nsaveRemarks(remarks: RemarksSaveForm){\r\n    this.dataSource.saveRemarks(remarks).subscribe(\r\n        data => {\r\n            if(!this.HTMLText){\r\n                this.HTMLText = JSON.parse(localStorage.getItem('multiLangText'));\r\n            }\r\n            this.messageService.reportMessage(new Message(remarks.studentId.length + \" \" + this.HTMLText[91],false));\r\n            this.remarksSaved.next('remarks saved');\r\n            console.log(\"remarks saved.\");\r\n        },\r\n        error => {\r\n            this.handleError(error, this.HTMLText[92]);\r\n            // this.messageService.reportMessage(new Message(this.HTMLText[92],true));\r\n            console.log(\"error saving remarks\");\r\n        }\r\n    );\r\n}\r\n\r\ngetFilteredRemarks(remarksFilter: RemarkFilterForm){\r\n    this.dataSource.getFilteredRemarks(remarksFilter).subscribe(\r\n        data => {\r\n            this.filteredRemarks = data;\r\n            this.filteredRemarksArrived.next(data);\r\n        },\r\n        error => {\r\n            console.log(error.error.error);\r\n            console.log(\"error getting filtered remarks.\");\r\n            this.handleError(error,\"error getting filtered remarks\");\r\n        }\r\n    );\r\n}\r\n\r\ngetStudentsOwnFilteredRemarks(remarksFilter: RemarkFilterForm){\r\n    this.dataSource.getStudentsOwnFilteredRemarks(remarksFilter).subscribe(\r\n        data => {\r\n            this.filteredRemarks = data;\r\n            this.filteredRemarksArrived.next(data);\r\n        },\r\n        error => {\r\n            console.log(error.error.error);\r\n            console.log(\"error getting filtered remarks.\");\r\n            this.handleError(error,\"error getting filtered remarks\");\r\n        }\r\n    );\r\n}\r\n\r\ndeleteRemark(remarkId: number){\r\n    this.dataSource.deleteRemark(remarkId).subscribe(\r\n        data => {\r\n            if(this.HTMLText){\r\n                this.messageService.reportMessage(new Message(this.HTMLText[89],false));\r\n            }\r\n            this.remarkDeleted.next('remark deleted');\r\n            console.log(\"remark deleted\");\r\n        },\r\n        error => {\r\n            this.handleError(error, this.HTMLText[90]);\r\n            // this.messageService.reportMessage(new Message(this.HTMLText[90],true));\r\n            console.log(\"error deleting remark\");\r\n            console.log(error);\r\n        }\r\n    )\r\n}\r\n\r\n//--------------------------------------- END OF REMARK METHODS -----------------------------------------------------------------\r\n\r\n\r\n//--------------------------------------- START OF PASSWORD METHODS -----------------------------------------------------------------\r\n\r\nvalidatePassword(editPasswordForm: EditPasswordForm){\r\n    console.log(\"entering validatePassword\");\r\n    console.log(editPasswordForm);\r\n    this.dataSource.validatePassword(editPasswordForm).subscribe(\r\n        data => {\r\n            console.log(\"data in succes validatePassword in model: \");\r\n            console.log(data);\r\n            console.log(editPasswordForm);\r\n            this.passwordValid.next(true);\r\n            // this.passwordValid.next(data);\r\n//            return true;\r\n        },\r\n        error => {\r\n            console.log(\"data in error validatePassword in model with error: \");\r\n            console.log(editPasswordForm);\r\n            this.messageService.reportMessage(new Message(this.HTMLText[93],true));\r\n            this.passwordValid.next(false);\r\n//            return false;\r\n        }\r\n    );\r\n//    return false;\r\n}\r\n\r\n//--------------------------------------- END OF PASSWORD METHODS -----------------------------------------------------------------\r\n\r\n//--------------------------------------- START OF MULTILANGUAGE METHODS -----------------------------------------------------------------\r\n\r\n\r\ngetLanguageText(langcode: string) {\r\n    this.dataSource.getLanguageText(langcode).subscribe(\r\n        data => {\r\n            localStorage.setItem('multiLangText', JSON.stringify(data));\r\n            this.HTMLText = JSON.parse(localStorage.getItem('multiLangText'));\r\n            // console.log(data);\r\n            this.HTMLTextLoaded.next(data);\r\n        },\r\n        error => {\r\n            this.messageService.reportMessage(new Message(this.HTMLText[94], true))\r\n            this.loginFailed.next(\"login failed\");\r\n        }\r\n    )\r\n}\r\n\r\n//--------------------------------------- END OF MULTILANGUAGE METHODS -----------------------------------------------------------------\r\n\r\n//--------------------------------------- START OF SIGNUP SCHOOL METHODS -----------------------------------------------------------------\r\n\r\nupdateSchoolInfo(signupSchool: SignupSchool){\r\n    this.dataSource.updateSchoolInfo(signupSchool).subscribe(\r\n        data=>{\r\n            console.log(data);\r\n            this.schoolInfoUpdated.next(data);\r\n        },\r\n        error => {\r\n            console.log(error.error);\r\n        }\r\n    )\r\n}\r\n\r\nconfirmadmin(admin: SignupUser, confirmationuid: string, schoolcodeInternal: string){\r\n    this.dataSource.confirmadmin(admin, confirmationuid, schoolcodeInternal).subscribe(\r\n        data => {\r\n            console.log(data);\r\n            this.adminCreated.next(data);\r\n        },\r\n        error => {\r\n            console.log(error);\r\n        }\r\n    )\r\n}\r\n\r\nconfirmadmin2(schoolcodeInternal: string, confirmationuid: string){\r\n    this.dataSource.confirmadmin2(schoolcodeInternal, confirmationuid).subscribe(\r\n        data => {\r\n            console.log(data);\r\n            this.adminConfirmed.next(data);\r\n        },\r\n        error => {\r\n            this.messageService.reportMessage(new Message(\"Oops! It seems like something went wrong. \\nPlease contact our helpdesk.\", true));\r\n            console.log(error);\r\n            this.adminConfirmed.next(error.error);\r\n        }\r\n    )\r\n}\r\n\r\n//--------------------------------------- END OF SIGNUP SCHOOL METHODS -----------------------------------------------------------------\r\n\r\n//--------------------------------------- START OF RANKING METHODS -----------------------------------------------------------------\r\n\r\nupdateRanking(){\r\n   this.dataSource.updateRanking().subscribe(\r\n    data => {\r\n        console.log(\"Rankings updated!\")\r\n    },\r\n    error => {\r\n        console.log(\"ERROR updating rankings\");\r\n    }\r\n   )\r\n}\r\n\r\ngetAllRankings(){\r\n    this.dataSource.getAllRankings().subscribe(\r\n        data => {\r\n            console.log(\"All rankings loaded\");\r\n            this.allRankingsLoaded.next(data);\r\n        },\r\n        error => {\r\n            console.log(\"Error loading all rankings\");\r\n            this.messageService.reportMessage(new Message(\"Error loading all ranking\", true));\r\n        }\r\n    )\r\n}\r\n\r\ngetRankingsSortedByClass(){\r\n    this.dataSource.getRankingsSortedByClass().subscribe(\r\n        data => {\r\n            console.log(\"All rankings sorted by class loaded\");\r\n            this.allRankingsLoaded.next(data);\r\n        },\r\n        error => {\r\n            console.log(\"Error loading all rankings\");\r\n            this.messageService.reportMessage(new Message(\"Error loading all rankings ordered by class\", true));\r\n        }\r\n    )\r\n}\r\n\r\ngetClassRankings(classId: number){\r\n    this.dataSource.getClassRankings(classId).subscribe(\r\n        data => {\r\n            console.log(\"Class rankings loaded\");\r\n             this.rankingSettingsLoaded.next(data);\r\n            //this.classRankingsLoaded.next(data);\r\n        },\r\n        error => {\r\n            console.log(\"Error loading class rankings\");\r\n            this.messageService.reportMessage(new Message(\"Error loading class ranking\", true));\r\n        }\r\n    )\r\n}\r\n\r\n\r\ngetRankingSettings(){\r\n    this.dataSource.getRankingSettings().subscribe(\r\n        data => {\r\n            console.log(\"Rankingsettings loaded\");\r\n            localStorage.setItem(\"rankingSettings\", JSON.stringify(data));\r\n            //this.rankingSettingsLoaded.next(data);\r\n            this.classRankingsLoaded.next(data);\r\n        },\r\n        error => {\r\n            console.log(\"Error loading class rankings\");\r\n        }\r\n    )\r\n}\r\n\r\nupdateRankingSettings(settings: RankingSettings) {\r\n    this.dataSource.updateRankingSettings(settings).subscribe(\r\n        data => {\r\n            console.log(\"Rankingsettings updated\");\r\n            this.rankingSettingsUpdated.next(data);\r\n            localStorage.setItem(\"rankingSettings\", JSON.stringify(data));\r\n        },\r\n        error => {\r\n            console.log(\"Error updating ranking settings\");\r\n        }\r\n    )\r\n}\r\n\r\n//--------------------------------------- END OF RANKING METHODS -----------------------------------------------------------------\r\n\r\n\r\nhandleError(error, message: string){\r\n    if(error.error.text == \"MailError\"){\r\n        // localStorage.setItem('MailError',\"1\");\r\n        this.messageService.reportMessage(new Message(\"Fout bij het versturen van de mail.\", true));\r\n    }\r\n    if(error.error.text == \"NoSuchUserError\"){\r\n        // localStorage.setItem(\"NoSuchUserError\",\"1\");\r\n        this.messageService.reportMessage(new Message(\"Er werd geen gebruiker met dit e-mailadres gevonden.\", true));\r\n    }\r\n    if(error.error.text == \"NoSuchSchoolcode\"){\r\n        // localStorage.setItem(\"NoSuchSchoolcode\",\"1\");\r\n        this.messageService.reportMessage(new Message(\"Deze schoolcode werd niet gevonden.\", true));\r\n    }\r\n    if(error.error.error == \"Unauthorized\"){\r\n        this.messageService.reportMessage(new Message(\"Oops! It seems like something went wrong. Please sign in to access this page.\", true));\r\n        this.router.navigate(['login']);\r\n    }\r\n    if(message != \"\"){\r\n        this.messageService.reportMessage(new Message(message, true));\r\n    }\r\n}\r\n\r\n}","import { Injectable, Inject, InjectionToken } from \"@angular/core\";\r\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nimport { Observable, throwError } from \"rxjs\";\r\nimport { Teacher } from \"./teacher.model\";\r\nimport { catchError } from \"rxjs/operators\";\r\nimport { SignupUser } from './signupUser.model';\r\nimport { EditPasswordForm } from './EditPasswordForm.model';\r\nimport { Student } from './student.model';\r\nimport { Class_schoolyear } from './class_schoolyear.model';\r\nimport { Schoolyear } from './schoolyear.model';\r\nimport { School } from './school.model';\r\nimport { HttpErrorResponse} from '@angular/common/http';\r\nimport { Loginresponse } from './loginrepsonse.model';\r\nimport { Remarkoptions } from './remarkoptions.model';\r\nimport { RemarksSaveForm } from './remarksSaveForm.model';\r\nimport { RemarkFilterForm } from './remarkFilterForm.model';\r\nimport { SignupSchool } from './signupSchool.model';\r\n// import { MessageService } from '../messages/message.service';\r\n// import { Message } from '../messages/message.model';\r\nimport * as jwt_decode from 'jwt-decode';\r\nimport { RankingSettings } from './rankingSettings.model';\r\nimport { ParentStudentInfo } from './parentStudentInfo.model';\r\nimport { Myresponse } from './myresponse.model';\r\nimport { RequestOptions } from \"https\";\r\n\r\nexport const REST_URL = new InjectionToken(\"rest_url\");\r\n\r\n@Injectable()\r\nexport class RestDataSource {\r\n    \r\n    // private schoolcodeInternal: string; \r\n\r\n    constructor(private http: HttpClient,\r\n        @Inject(REST_URL) private url: string,\r\n        // private messageService: MessageService\r\n        ) { }\r\n\r\n    // public setSchoolcodeInternal(schoolcode: string){\r\n    //     this.schoolcodeInternal = schoolcode;\r\n    // }\r\n\r\n   //----------------------------------------------------- START OF USER METHODS ----------------------------------------------\r\n\r\n   getUserByUsername(username: string): Observable<Student>{\r\n        return this.sendRequest<Student>(\"GET\", this.url + '/' + JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal +'/user/username/' + username);\r\n   }\r\n\r\n   //----------------------------------------------------- END OF USER METHODS ----------------------------------------------\r\n\r\n\r\n   //----------------------------------------------------- START OF TEACHER METHODS -----------------------------------------------\r\n    getTeachers(): Observable<Teacher[]> {\r\n        return this.sendRequest<Teacher[]>(\"GET\", this.url + '/' +  JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal +'/teachers');\r\n    }\r\n\r\n    saveTeacher(teacher: SignupUser): Observable<SignupUser> {\r\n        return this.sendRequest<SignupUser>(\"POST\", this.url + '/' +  JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal +'/user1', teacher);\r\n    }\r\n\r\n    saveTeachers(teachers: SignupUser[]) : Observable<SignupUser[]> {\r\n        return this.sendRequests<SignupUser[]>(\"POST\", this.url + '/' +  JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal +'/users1', teachers);\r\n    }\r\n\r\n    updateTeacherInfo(teacher: Teacher): Observable<Teacher> {\r\n        return this.sendRequest<Teacher>(\"PUT\",\r\n            this.url + '/' +  JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal +'/updateuserinfo', teacher);\r\n    }\r\n\r\n    updateTeacherPassword(editPasswordForm: EditPasswordForm): Observable<EditPasswordForm> {\r\n        return this.sendRequest<EditPasswordForm>(\"PUT\",\r\n            this.url + '/' +  JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal +'/updateuserpassword', editPasswordForm);\r\n    }\r\n\r\n    deleteTeacher(id: number): Observable<Teacher> {\r\n        return this.sendRequest<Teacher>(\"DELETE\",  this.url + '/' +  JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal + '/user/' + id);\r\n    }\r\n\r\n//--------------------------------------- END OF TEACHER METHODS -----------------------------------------------------------------\r\n\r\n//--------------------------------------- START OF PARENTS METHODS -----------------------------------------------------------------\r\n\r\ngetParents(): Observable<ParentStudentInfo[]> {\r\n    let schoolyearfilter = JSON.parse(localStorage.getItem('currentSchool')).schoolyear_filter;\r\n    return this.sendRequest<ParentStudentInfo[]>(\"GET\", this.url + '/' +  JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal+'/getParentsBySchoolyearAndCurrentClass/' + schoolyearfilter);\r\n}\r\n\r\ncreateParentAccountsForStudent(parent:SignupUser, studentid: number): Observable<Myresponse>{\r\n    return this.sendRequest<Myresponse>(\"POST\", this.url + '/' +  JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal+'/parent/' + studentid, parent);\r\n}\r\n\r\ngetChildByParentId(parentId: number): Observable<String> {\r\n    return this.sendRequest<String>(\"GET\", this.url + '/' +  JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal+'/getUserByParentId/' + parentId);\r\n}\r\n\r\n//----------------------------------------------------- END OF PARENTS METHODS -----------------------------------------------\r\n\r\n//----------------------------------------------------- START OF STUDENT METHODS -----------------------------------------------\r\n\r\ngetStudents(): Observable<Student[]> {\r\n    let schoolyearfilter = JSON.parse(localStorage.getItem('currentSchool')).schoolyear_filter;\r\n    return this.sendRequest<Student[]>(\"GET\", this.url + '/' +  JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal+'/getStudentsBySchoolyearAndCurrentClass/' + schoolyearfilter);\r\n}\r\n// getStudents(): Observable<Student[]> {\r\n//     return this.sendRequest<Student[]>(\"GET\", this.url + '/' +  JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal+'/students');\r\n// }\r\n\r\nsaveStudent(student: SignupUser): Observable<SignupUser> {\r\n    return this.sendRequest<SignupUser>(\"POST\", this.url + '/' +  JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal +'/user1', student);\r\n}\r\n\r\nsaveStudents(students: SignupUser[]) : Observable<SignupUser[]> {\r\n    return this.sendRequests<SignupUser[]>(\"POST\", this.url + '/' +  JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal +'/users1', students);\r\n}\r\n\r\nupdateStudent(student: Student): Observable<Student> {\r\n    return this.sendRequest<Student>(\"PUT\",\r\n        this.url + '/' + JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal +'/update/user', student);\r\n}\r\n\r\nupdateStudentInfo(student: Student): Observable<Student> {\r\n    return this.sendRequest<Student>(\"PUT\",\r\n        this.url + '/' +  JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal +'/updateuserinfo', student);\r\n}\r\n\r\nupdateStudentPassword(editPasswordForm: EditPasswordForm): Observable<EditPasswordForm> {\r\n    return this.sendRequest<EditPasswordForm>(\"PUT\",\r\n        this.url + '/' +  JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal +'/updateuserpassword', editPasswordForm);\r\n}\r\n\r\ndeleteStudent(id: number): Observable<Student> {\r\n    return this.sendRequest<Student>(\"DELETE\",  this.url + '/' +  JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal+ '/user/' + id);\r\n}\r\n\r\nupdateSchoolClass(student: Student): Observable<Student> {\r\n    return this.sendRequest<Student>(\"PUT\",\r\n    this.url + '/' +  JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal +'/updateschoolclass', student);\r\n}\r\n\r\n//--------------------------------------- END OF STUDENT METHODS -----------------------------------------------------------------\r\n\r\ngetSchoolyears() {\r\n    return this.sendRequest<Schoolyear[]>(\"GET\", \r\n        this.url + '/' +  JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal +'/getSchoolyears');\r\n}\r\n\r\n//--------------------------------------- START OF FORGOT PASSWROD METHODS -----------------------------------------------------------------\r\n\r\nforgotpassword1(email: string){\r\n    return this.sendRequest<String>(\"POST\",\r\n        this.url + '/' + JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal + '/forgotpassword1?email=' + email);\r\n}\r\n\r\nforgotpassword2(code: string, schoolcode: string, newpw: string){\r\n    console.log(this.url + '/' + schoolcode + '/forgotpassword2/' + code + '/' + newpw);\r\n    return this.sendRequest<String>(\"GET\",\r\n        this.url + '/' + schoolcode + '/forgotpassword2/' + code + '/' + newpw);\r\n}\r\n\r\n//--------------------------------------- END OF FORGOT PASSWROD METHODS -----------------------------------------------------------------\r\n\r\n//--------------------------------------- START OF RANKING METHODS -----------------------------------------------------------------\r\n\r\nupdateRanking(){\r\n    return this.sendRequest<[]>(\"POST\", this.url + '/' + JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal + '/updateRanking');\r\n}\r\n\r\ngetAllRankings(){\r\n    return this.sendRequest<[]>(\"GET\", this.url + '/' + JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal + '/allRankings');\r\n}\r\n\r\ngetRankingsSortedByClass(){\r\n    return this.sendRequest<[]>(\"GET\", this.url + '/' + JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal + '/getRankingsSortedByClass');\r\n}\r\n\r\ngetClassRankings(classId: number){\r\n    return this.sendRequest<[]>(\"GET\", this.url + '/' + JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal + '/classRankings/' + classId);\r\n}\r\n\r\ngetRankingSettings(){\r\n    return this.sendRequest<[]>(\"GET\", this.url + '/' + JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal + '/getRankingSettings');\r\n}\r\n\r\nupdateRankingSettings(settings: RankingSettings){\r\n    return this.sendRequest<[]>(\"PUT\", this.url + '/' + JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal + '/updateRankingSettings', settings);\r\n}\r\n\r\n//--------------------------------------- END OF RANKING METHODS -----------------------------------------------------------------\r\n\r\n\r\n//--------------------------------------- START OF SCHOOL METHODS -----------------------------------------------------------------\r\n\r\ngetSchools(){\r\n    return this.sendRequest<School[]>(\"GET\", \r\n        this.url + '/schools' +'/schools');\r\n}\r\n\r\ngetSchoolInfoByExternalCode(externalcode: string){\r\n    return this.sendRequest<School>(\"GET\", \r\n        this.url + '/schools' +'/getSchoolInfoByExternalCode/' + externalcode);\r\n}\r\n\r\nupdateSchoolLanguage(language: string, schoolId: number){\r\n    return this.sendRequest<School>(\"PUT\",\r\n        this.url + '/schools/updatelanguage/' + language + '/' + schoolId);\r\n}\r\n\r\nupdateSchoolyearfilter(filter: number, schoolId: number){\r\n    return this.sendRequest<School>(\"PUT\",\r\n        this.url + '/schools/updateschoolyearfilter/' + filter + '/' + schoolId);\r\n}\r\n\r\n//--------------------------------------- END OF SCHOOL METHODS -----------------------------------------------------------------\r\n\r\n//--------------------------------------- START OF LOGIN METHODS -----------------------------------------------------------------\r\n\r\ngetCSRFToken(){\r\n\r\n    const requestOptions = {\r\n        withCredentials: true\r\n       };\r\n\r\n    return this.http.get<Loginresponse>('http://msninove.restfulapi.test/sanctum/csrf-cookie',requestOptions);\r\n    \r\n}\r\n\r\nlogin(username: string, password: string, schoolcodeinternal: string){\r\n\r\n    const requestOptions = {\r\n        withCredentials: true\r\n       };\r\n\r\n    return this.http.post<Loginresponse>('http://msninove.restfulapi.test/login', \r\n        {\r\n                    \"username\": username,\r\n                    \"password\": password\r\n        },requestOptions\r\n    );\r\n    \r\n    // return this.sendRequest<Loginresponse>(\"POST\", \r\n    // 'msninove.restfulapi.test/login', // '' + schoolcodeinternal + '.' + this.url, \r\n    //     {\r\n    //         \"username\": username,\r\n    //         \"password\": password\r\n    //     }\r\n    // );\r\n}\r\n\r\n//--------------------------------------- END OF LOGIN METHODS -----------------------------------------------------------------\r\n\r\n//--------------------------------------- START OF REMARK METHODS -----------------------------------------------------------------\r\n\r\nsaveRemarks(remarks: RemarksSaveForm): Observable<RemarksSaveForm>{\r\n    return this.sendRequest<RemarksSaveForm>(\"POST\",\r\n        this.url + '/' +  JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal + '/remarks', remarks);\r\n}\r\n\r\ngetFilteredRemarks(remarkFilter: RemarkFilterForm){\r\n    return this.sendRequest<[]>(\"POST\",\r\n        this.url + '/' +  JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal + '/getFilteredRemarks', remarkFilter);\r\n}\r\n\r\ngetStudentsOwnFilteredRemarks(remarkFilter: RemarkFilterForm){\r\n    return this.sendRequest<[]>(\"POST\",\r\n        this.url + '/' +  JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal + '/getStudentsOwnFilteredRemarks', remarkFilter);\r\n}\r\n\r\ndeleteRemark(remarkId: number){\r\n    return this.sendRequest<[]>(\"DELETE\",\r\n        this.url + '/' +  JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal + '/remark/' + remarkId);\r\n}\r\n\r\n\r\n//--------------------------------------- END OF REMARK METHODS -----------------------------------------------------------------\r\n\r\n//--------------------------------------- START OF CLASSSCHOOLYEAR METHODS -----------------------------------------------------------------\r\n\r\naddClassSchoolyear(cs: Class_schoolyear): Observable<Class_schoolyear>{\r\n    return this.sendRequest<Class_schoolyear>(\"POST\",\r\n        this.url + '/' +  JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal + '/addClassSchoolyear', cs);\r\n}\r\n\r\neditClassSchoolyear(cs: Class_schoolyear){\r\n    return this.sendRequest<[]>(\"PUT\",\r\n        this.url + '/' +  JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal + '/editClassSchoolyear', cs);\r\n}\r\n\r\ngetClassSchoolyearBySchoolyear(schoolyear_id: number) {\r\n    return this.sendRequest<Class_schoolyear[]>(\"GET\", \r\n        this.url + '/' +  JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal +'/getClassSchoolyearBySchoolyear/' + schoolyear_id);\r\n}\r\n\r\ndeleteClassSchoolyear(csId: number){\r\n    return this.sendRequest<[]>(\"DELETE\",\r\n        this.url + '/' +  JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal + '/deleteClassSchoolyear/' + csId);\r\n}\r\n\r\n//--------------------------------------- END OF CLASSSCHOOLYEAR METHODS -----------------------------------------------------------------\r\n\r\n\r\n//--------------------------------------- START OF REMARKOPTIONS METHODS -----------------------------------------------------------------\r\n\r\ngetRemarkoptions(){\r\n    return this.sendRequest<Remarkoptions[]>(\"GET\", \r\n        this.url + '/' +  JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal +'/remarkoptions');\r\n}\r\n\r\naddRemarkoption(remarkoption: Remarkoptions): Observable<Remarkoptions> {\r\n    return this.sendRequest<Remarkoptions>(\"POST\",\r\n        this.url + '/' +  JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal + '/remarkoption', remarkoption);\r\n}\r\n\r\neditRemarkoption(remarkoption: Remarkoptions): Observable<Remarkoptions> {\r\n    return this.sendRequest<Remarkoptions>(\"PUT\",\r\n        this.url + '/' +  JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal + '/remarkoption', remarkoption);\r\n}\r\n\r\ndeleteRemarkoption(remarkoption: Remarkoptions): Observable<Remarkoptions> {\r\n    return this.sendRequest<Remarkoptions>(\"DELETE\",\r\n        this.url + '/' +  JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal + '/remarkoption', remarkoption);\r\n}\r\n\r\n//--------------------------------------- END OF REMARKOPTIONS METHODS -----------------------------------------------------------------\r\n\r\n//--------------------------------------- START OF PERSONAL SETTINGS METHODS -----------------------------------------------------------------\r\n\r\nvalidatePassword(editPasswordForm: EditPasswordForm): Observable<EditPasswordForm> {\r\n    // console.log(\"Entering REST datasource\");\r\n    // console.log(editPasswordForm);\r\n    return this.sendRequest<EditPasswordForm>(\"POST\", \r\n        this.url + '/' +  JSON.parse(localStorage.getItem('currentSchool')).schoolcodeInternal + '/validatepassword', editPasswordForm);\r\n}\r\n\r\n//--------------------------------------- END OF PERSONAL SETTINGS METHODS -----------------------------------------------------------------\r\n\r\n//--------------------------------------- START OF LANGUAGE METHODS -----------------------------------------------------------------\r\n\r\ngetLanguageText(langcode: string) {\r\n    return this.sendRequest<string>(\"GET\", \r\n        this.url + '/schools' + '/getMultiLangText/' + langcode);\r\n}\r\n\r\n//--------------------------------------- END OF LANGUAGE METHODS -----------------------------------------------------------------\r\n\r\n//--------------------------------------- START OF SIGNUP SCHOOL METHODS -----------------------------------------------------------------\r\n\r\nupdateSchoolInfo(signupSchool: SignupSchool): Observable<School>{\r\n    return this.sendRequest<School>(\"PUT\",\r\n        this.url + '/schools/updateschoolinfo', signupSchool);\r\n}\r\n\r\nconfirmadmin(admin: SignupUser, confirmationuid: string, schoolcodeInternal: string) {\r\n    return this.sendRequest<SignupUser>(\"POST\", this.url + '/' +  schoolcodeInternal +'/confirmadmin?confirmationuid=' + confirmationuid, admin);\r\n}\r\n\r\nconfirmadmin2(schoolcodeInternal: string, confirmationuid: string) {\r\n    return this.sendRequest<SignupUser>(\"POST\", this.url + '/schools/confirmadmin2?schoolcodeInternal=' + \r\n            schoolcodeInternal + '&confirmationuid=' + confirmationuid);\r\n}\r\n\r\n//--------------------------------------- END OF SIGNUP SCHOOL METHODS  -----------------------------------------------------------------\r\n\r\n//--------------------------------------- START OF BASIC METHODS -----------------------------------------------------------------\r\n\r\n    private sendRequest<T>(verb: string, url: string, body?: any)\r\n        : Observable<T> {\r\n\r\n        let myHeaders = new HttpHeaders();\r\n        myHeaders = myHeaders.set(\"Access-Key\", \"<secret>\");\r\n        myHeaders = myHeaders.set(\"Application-Names\", [\"exampleApp\", \"proAngular\"]);\r\n        console.log(this.isJWTTokenValid());\r\n        if(localStorage.getItem('accessToken')){\r\n        // if(this.isJWTTokenValid()){\r\n            myHeaders = myHeaders.set(\"Authorization\",\"Bearer \" + localStorage.getItem('accessToken'));\r\n       }\r\n\r\n        return this.http.request<T>(verb, url, {\r\n            body: body,\r\n            headers: myHeaders\r\n        }).pipe(catchError((error: Response) => \r\n //                   {\r\n //                       console.log(error.error);\r\n //                       console.error(error);\r\n\r\n                         throwError(error)\r\n                        // throwError(`Network Error: ${error.statusText} (${error.status}): ${error.error}`)\r\n  //                      return Observable.throw(\"Error in sendrequest: \" + error.error);\r\n //               }                           \r\n                ));\r\n        // }\r\n        // else {\r\n        // this.messageService.reportMessage(new Message(\"Oops! It seems like something went wrong. Please sign in again.\", true));\r\n        // }\r\n\r\n    }\r\n\r\n    private sendRequests<T>(verb: string, url: string, body?: any[])\r\n    : Observable<T> {\r\n\r\n    let myHeaders = new HttpHeaders();\r\n    myHeaders = myHeaders.set(\"Access-Key\", \"<secret>\");\r\n    myHeaders = myHeaders.set(\"Application-Names\", [\"exampleApp\", \"proAngular\"]);\r\n    if(localStorage.getItem('accessToken')){\r\n        myHeaders = myHeaders.set(\"Authorization\",\"Bearer \" + localStorage.getItem('accessToken'));\r\n        // console.log(\"authorization header added\");\r\n    }\r\n\r\n    return this.http.request<T>(verb, url, {\r\n        body: body,\r\n        headers: myHeaders\r\n    }).pipe(catchError((error: Response) => \r\n        throwError(error)));\r\n        // throwError(`Network Error: ${error.statusText} (${error.status})`)));\r\n    }\r\n\r\n    //------------------------------------ HELPER FUNCTIONS -------------------------------------------------------------\r\n    \r\n    isJWTTokenValid(): boolean {\r\n        try{\r\n            if(!localStorage.getItem('accessToken')){\r\n                return false;\r\n            }\r\n            let token = localStorage.getItem('accessToken');\r\n            let tokenInfo = jwt_decode(token); // decode token\r\n            let expireDate = tokenInfo.exp; // get token expiration dateTime\r\n            let today = Date.now();\r\n            console.log(tokenInfo); // show decoded token object in console\r\n            console.log(today);\r\n            if(today > expireDate) {\r\n                return false;\r\n            }\r\n            else return true;\r\n        }\r\n        catch(Error){\r\n            return null;\r\n        }\r\n      }\r\n\r\n      private handleError(error: HttpErrorResponse) {\r\n        if (error.status === 0) {\r\n          // A client-side or network error occurred. Handle it accordingly.\r\n          console.error('An error occurred:', error.error);\r\n        } else {\r\n          // The backend returned an unsuccessful response code.\r\n          // The response body may contain clues as to what went wrong.\r\n          console.error(\r\n            `Backend returned code ${error.status}, body was: `, error.error);\r\n        }\r\n        // Return an observable with a user-facing error message.\r\n        return throwError(() => new Error('Something bad happened; please try again later.'));\r\n      }\r\n\r\n}\r\n","export class Role {\r\n\r\n    constructor(public id?: number,\r\n                public name?: string) {}\r\n}","export class SignupSchool {\r\n\r\n    constructor(public firstName?: string,\r\n                public lastName?: string,\r\n                public language?: string,\r\n                public email?: string,\r\n                public password?: string,\r\n                public  schoolName?: string,\r\n                public  schoolCode?: string,\r\n                public  street?: string,\r\n                public  number?: string,\r\n                public  postalCode?: string,\r\n                public  city?: string,\r\n                public  country?: string,\r\n                public  phone?: string\r\n    ){}\r\n}","import {Role} from \"./role.model\";\r\nimport {Schoolyear} from \"./schoolyear.model\";\r\nimport { Class_schoolyear } from './class_schoolyear.model';\r\n\r\nexport class SignupUser {\r\n\r\n    constructor(public firstName?: string,\r\n                public lastName?: string,\r\n                public email?: string,\r\n                public username?: string,\r\n                public password?: string,\r\n                public language?: string,\r\n                public lastLoginDate?: string,\r\n                public active?: boolean,\r\n                public roles?: Role[],\r\n                public classSchoolyears?: Class_schoolyear[]){}\r\n                //Leave empty if it's a teacher\r\n                //public schoolyear?: Schoolyear,\r\n                //Leave empty if it's a teacher\r\n                //public schoolClass?: string,\r\n                //Place to add errors when signin up\r\n                //public error?: string) {}\r\n    \r\n    toString(): string{\r\n        return this.firstName;\r\n    }\r\n}","import {Role} from \"./role.model\";\r\nimport { Class_schoolyear } from './class_schoolyear.model';\r\n\r\nexport class Student {\r\n\r\n    constructor(public id?: number,\r\n                public firstName?: string,\r\n                public lastName?: string,\r\n                public email?: string,\r\n                public username?: string,\r\n                public password?: string,\r\n                public language?: string,\r\n                public lastLoginDate?: string,\r\n                public active?: boolean,\r\n                public roles?: Role[],\r\n                public classSchoolyears?: Class_schoolyear[]){}\r\n                //Leave empty if it's a teacher\r\n                //public schoolyear?: Schoolyear,\r\n                //Leave empty if it's a teacher\r\n                //public schoolClass?: string,\r\n                //Place to add errors when signin up\r\n                //public error?: string) {}\r\n    \r\n    toString(): string{\r\n        return this.firstName;\r\n    }\r\n}","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL292ZXJ2aWV3L292ZXJ2aWV3LmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<div>\\n  <div  class=\\\"w3-amber w3-padding-small w3-center w3-container\\\" style=\\\"width:100%\\\">\\n    <span class=\\\"w3-margin-right\\\"><b>Vandaag:</b></span>\\n    <span class=\\\"w3-green w3-border w3-margin-right w3-center\\\" style=\\\"display: inline-block; width:35px\\\">\\n      {{todaysOnes}}\\n    </span>\\n    <span class=\\\"w3-yellow w3-border w3-margin-right w3-center\\\" style=\\\"display: inline-block; width:35px\\\">\\n      {{todaysTwos}}\\n    </span>\\n    <span class=\\\" w3-orange w3-border w3-margin-right  w3-center\\\" style=\\\"display: inline-block; width:35px\\\">\\n      {{todaysThrees}}\\n    </span>\\n    <span class=\\\"w3-red w3-border w3-margin-right w3-center\\\" style=\\\"display: inline-block; width:35px\\\">\\n      {{todaysFours}}\\n    </span>\\n  </div>\\n\\n  <div class=\\\"w3-tiny w3-text-grey w3-padding\\\">Home -> {{HTMLtext[0]}}</div>\\n\\n  <div class=\\\"w3-row\\\">\\n    <div *ngIf=\\\"showUpper\\\" class=\\\"w3-col m6 l6\\\">\\n\\n      <div class=\\\"w3-row w3-padding\\\">\\n        <div class=\\\"w3-large w3-center w3-text-blue\\\">\\n          {{HTMLtext[2]}}:\\n        </div>\\n      </div>\\n\\n      <div class=\\\"w3-row w3-padding\\\">\\n        <div class=\\\"w3-large w3-center w3-text-blue\\\">\\n          <b>\\n            {{(selectedStudent) ? selectedStudent.firstName : \\\"\\\"}}\\n            {{(selectedStudent) ? selectedStudent.lastName : \\\"\\\"}}\\n            {{(selectedStudent) ? \\\"(\\\"  : \\\"\\\"}}\\n            {{(selectedStudent) ? selectedStudent.classSchoolyears[0].schoolClass  : \\\"\\\"}}\\n            {{(selectedStudent) ? \\\")\\\"  : \\\"\\\"}}\\n          </b>\\n          <b>\\n            {{(selectedSchoolClass) ? selectedSchoolClass.schoolClass : \\\"\\\"}}\\n          </b>\\n          <b>\\n            {{(!selectedSchoolClass) && (!selectedStudent) ? HTMLtext[8] : \\\"\\\"}}\\n          </b>\\n        </div>\\n      </div>\\n\\n      <div onclick=\\\"openFilter('selecteer1')\\\" class=\\\"w3-panel w3-border-bottom w3-text-orange\\\">\\n        <b class=\\\"w3-large\\\"><i class=\\\"fa fa-angle-double-down w3-right\\\"></i>\\n          {{HTMLtext[97]}}\\n          <i class=\\\"fa fa-angle-double-down w3-right\\\"></i>\\n        </b>\\n      </div>\\n\\n      <div id=\\\"selecteer1\\\" class=\\\"w3-hide\\\">\\n        <div class=\\\"w3-card-4 w3-padding\\\">\\n          <div class=\\\"w3-orange w3-padding\\\">\\n            <i class=\\\"fa fa-filter\\\"></i>{{HTMLtext[1]}}\\n            <input class=\\\"w3-input\\\" type=\\\"text\\\" #filter (keyup)=\\\"onFilterChange(filter.value)\\\">\\n            <!--\\n            <input class=\\\"w3-check w3-tiny\\\" type=\\\"checkbox\\\">\\n            <label class=\\\"w3-tiny\\\">Show only students with remarks</label>\\n            -->\\n          </div>\\n        </div>\\n        <div>\\n          <ul class=\\\"w3-ul w3-border w3-hoverable\\\" style=\\\"height:22rem;overflow:scroll\\\">\\n            <li [hidden]=\\\"!filterApplies(student) || !student.active\\\"\\n              *ngFor=\\\"let student of selectableStudents; let i = index\\\" (click)=\\\"onSelectStudent(student)\\\">\\n              <div class=\\\"w3-medium\\\">\\n                {{student.classSchoolyears[0].schoolClass}} | {{student.lastName}} {{student.firstName}}\\n              </div>\\n            </li>\\n          </ul>\\n\\n        </div>\\n      </div>\\n\\n      <div (click)=\\\"setSchoolClasses()\\\" onclick=\\\"openFilter('selectClass')\\\"\\n        class=\\\"w3-panel w3-border-bottom w3-text-orange\\\">\\n        <b class=\\\"w3-large\\\"><i class=\\\"fa fa-angle-double-down w3-right\\\"></i>\\n          {{HTMLtext[98]}}\\n          <i class=\\\"fa fa-angle-double-down w3-right\\\"></i>\\n        </b>\\n      </div>\\n\\n      <div id=\\\"selectClass\\\" class=\\\"w3-hide w3-border-bottom\\\">\\n        <div class=\\\"w3-center w3-padding\\\">\\n          <!--TODO input select options from schoolclass-->\\n          <div class=\\\"w3-bar\\\">\\n            <label class=\\\"w3-bar-item w3-text-orange\\\" style=\\\"width:30%\\\"><b>Class</b></label>\\n            <select [(ngModel)]=\\\"selectedSchoolClass\\\" (ngModelChange)=\\\"selectedSchoolClassChanged($event)\\\"\\n              class=\\\"w3-bar-item w3-select w3-border w3-round w3-light-grey\\\" name=\\\"option\\\">\\n              <option value=\\\"\\\" disabled>Pick the class</option>\\n              <option *ngFor=\\\"let schoolClass of classSchoolyears\\\" [ngValue]=\\\"schoolClass\\\">{{schoolClass.schoolClass}}\\n              </option>\\n            </select></div>\\n        </div>\\n      </div>\\n\\n      <div onclick=\\\"openFilter('selectAll')\\\" class=\\\"w3-panel w3-border-bottom w3-text-orange\\\">\\n        <b class=\\\"w3-large\\\"><i class=\\\"fa fa-angle-double-down w3-right\\\"></i>\\n          {{HTMLtext[99]}}\\n          <i class=\\\"fa fa-angle-double-down w3-right\\\"></i>\\n        </b>\\n      </div>\\n\\n      <div id=\\\"selectAll\\\" class=\\\"w3-hide w3-border-bottom\\\">\\n        <div class=\\\"w3-center w3-padding\\\">\\n          <button (click)=\\\"allStudents()\\\" class=\\\"w3-button w3-round w3-orange\\\">\\n            {{HTMLtext[3]}}\\n          </button>\\n        </div>\\n      </div>\\n\\n\\n      <div class=\\\"w3-center w3-margin-top\\\">\\n        <button (click)=\\\"toLower()\\\" class=\\\"w3-button w3-round w3-orange\\\">\\n          {{HTMLtext[4]}}\\n        </button>\\n      </div>\\n\\n    </div>\\n\\n\\n    <div *ngIf=\\\"showLower\\\" class=\\\"w3-col m6 l6 w3-padding\\\">\\n\\n\\n      <form [formGroup]=\\\"filterForm\\\">\\n        <button onclick=\\\"openFilter('RemarkFilter')\\\" class=\\\"w3-btn w3-block w3-orange w3-left-align w3-border\\\">\\n          <i class=\\\"fa fa-angle-double-down w3-right\\\"></i>{{HTMLtext[5]}}\\n        </button>\\n        <label [ngClass]=\\\"{'w3-text-blue' : !filterChangedNotApplied, 'w3-text-red' : filterChangedNotApplied}\\\"\\n          class=\\\"w3-tiny\\\">\\n          <b>Filters:\\n            {{HTMLtext[7]}}:\\n            {{(selectedStudent) ? selectedStudent.firstName : \\\"\\\"}}\\n            {{(selectedStudent) ? \\\" \\\" : \\\" \\\"}}\\n            {{(selectedStudent) ? selectedStudent.lastName : \\\"\\\"}}\\n            {{(selectedStudent) ? \\\"(\\\"  : \\\"\\\"}}\\n            {{(selectedStudent) ? selectedStudent.classSchoolyears[0].schoolClass  : \\\"\\\"}}\\n            {{(selectedStudent) ? \\\")\\\"  : \\\"\\\"}}\\n\\n            {{(selectedSchoolClass) ? selectedSchoolClass.schoolClass : \\\"\\\"}}\\n\\n            {{(!selectedSchoolClass) && (!selectedStudent) ? HTMLtext[8] : \\\"\\\"}}\\n\\n            /\\n\\n            {{HTMLtext[9]}}: {{filterDateFrom}} {{HTMLtext[10]}}: {{filterDateTo}} /\\n            {{HTMLtext[11]}}: {{(filterAuthorId != \\\"all\\\" ? HTMLtext[19] : HTMLtext[20])}} /\\n            {{HTMLtext[13]}}: {{(filterSeverity1) ? \\\"1\\\" : \\\"\\\"}} {{(filterSeverity2) ? \\\"2\\\" : \\\"\\\"}}\\n            {{(filterSeverity3) ? \\\"3\\\" : \\\"\\\"}} {{(filterSeverity4) ? \\\"4\\\" : \\\"\\\"}}\\n          </b>\\n        </label>\\n        <div *ngIf=\\\"filterChangedNotApplied\\\" class=\\\"w3-tiny w3-red w3-text-white\\\">--> {{HTMLtext[25]}}</div>\\n\\n        <div id=\\\"RemarkFilter\\\" class=\\\"w3-container w3-hide w3-border w3-padding\\\">\\n\\n          <p class=\\\"w3-center\\\">\\n            <button [disabled]=\\\"!filterForm.valid\\\" onclick=\\\"openFilter('RemarkFilter')\\\" type=\\\"button\\\"\\n              (click)=\\\"applyFilter()\\\" class=\\\"w3-btn w3-blue\\\">\\n              {{HTMLtext[14]}}\\n            </button></p>\\n\\n\\n          <div onclick=\\\"openFilter('dateFilter')\\\" class=\\\"w3-panel w3-border-bottom w3-text-orange\\\">\\n            <b><i class=\\\"fa fa-angle-double-down w3-right\\\"></i>\\n              {{HTMLtext[15]}}\\n              <i class=\\\"fa fa-angle-double-down w3-right\\\"></i>\\n            </b>\\n          </div>\\n          <div id=\\\"dateFilter\\\" class=\\\"w3-hide\\\">\\n            <p class=\\\"w3-center\\\">\\n              <button type=\\\"button\\\" class=\\\"w3-btn w3-orange\\\" onclick=\\\"openFilter('dateFilter')\\\"\\n                (click)=h24()>1d</button>\\n              <button type=\\\"button\\\" class=\\\"w3-btn w3-orange w3-margin\\\" onclick=\\\"openFilter('dateFilter')\\\"\\n                (click)=\\\"h48()\\\">2d</button>\\n              <button type=\\\"button\\\" class=\\\"w3-btn w3-orange\\\" onclick=\\\"openFilter('dateFilter')\\\"\\n                (click)=\\\"h72()\\\">3d</button></p>\\n            <p class=\\\"w3-center\\\">\\n              <button type=\\\"button\\\" class=\\\"w3-btn w3-orange\\\" onclick=\\\"openFilter('dateFilter')\\\"\\n                (click)=\\\"d7()\\\">7d</button>\\n              <button type=\\\"button\\\" class=\\\"w3-btn w3-orange w3-margin\\\" onclick=\\\"openFilter('dateFilter')\\\"\\n                (click)=\\\"d30()\\\">30d</button>\\n              <button type=\\\"button\\\" class=\\\"w3-btn w3-orange\\\" onclick=\\\"openFilter('dateFilter')\\\"\\n                (click)=\\\"d90()\\\">90d</button></p>\\n\\n            <div class=\\\"w3-center\\\">\\n              <p class=\\\"w3-show-inline-block w3-margin\\\">\\n                <label><b>{{HTMLtext[9]}}</b></label>\\n                <input class=\\\"w3-input w3-border w3-round w3-light-grey\\\" onchange=\\\"openFilter('dateFilter')\\\"\\n                  (change)=\\\"remarkFilterChanged()\\\" type=\\\"date\\\" name=\\\"filterDateFrom\\\" formControlName=\\\"filterDateFrom\\\">\\n              </p>\\n              <p class=\\\"w3-show-inline-block w3-margin\\\">\\n                <label><b>{{HTMLtext[10]}}</b></label>\\n                <input class=\\\"w3-input w3-border w3-round w3-light-grey\\\" onchange=\\\"openFilter('dateFilter')\\\"\\n                  (change)=\\\"remarkFilterChanged()\\\" type=\\\"date\\\" name=\\\"filterDateTo\\\" formControlName=\\\"filterDateTo\\\">\\n              </p>\\n            </div>\\n          </div>\\n\\n          <div onclick=\\\"openFilter('studentFilter')\\\" class=\\\"w3-panel w3-border-bottom w3-text-orange\\\">\\n            <b><i class=\\\"fa fa-angle-double-down w3-right\\\"></i>\\n              {{HTMLtext[16]}}\\n              <i class=\\\"fa fa-angle-double-down w3-right\\\"></i>\\n            </b>\\n          </div>\\n          <div id=\\\"studentFilter\\\" class=\\\"w3-hide\\\">\\n            <div class=\\\"w3-center\\\">\\n              <p class=\\\"w3-center w3-padding-small\\\">\\n                Filters:\\n                {{(selectedStudent) ? selectedStudent.firstName : HTMLtext[8]}}\\n                {{(selectedStudent) ? selectedStudent.lastName : \\\"\\\"}}\\n                {{(selectedStudent) ? \\\"(\\\"  : \\\"\\\"}}\\n                {{(selectedStudent) ? selectedStudent.classSchoolyears[0].schoolClass  : \\\"\\\"}}\\n                {{(selectedStudent) ? \\\")\\\"  : \\\"\\\"}}</p>\\n              <p class=\\\"w3-center w3-padding-small\\\">\\n                <button type=\\\"button\\\" onclick=\\\"openFilter('studentFilter')\\\" class=\\\"w3-btn w3-orange\\\"\\n                  (click)=\\\"toUpper()\\\">{{HTMLtext[17]}}</button>\\n                <button type=\\\"button\\\" onclick=\\\"openFilter('studentFilter')\\\" class=\\\"w3-btn w3-orange w3-margin\\\"\\n                  (click)=\\\"allStudents()\\\">{{HTMLtext[8]}}</button></p>\\n            </div>\\n          </div>\\n\\n          <div onclick=\\\"openFilter('authorFilter')\\\" class=\\\"w3-panel w3-border-bottom w3-text-orange\\\">\\n            <b><i class=\\\"fa fa-angle-double-down w3-right\\\"></i>\\n              {{HTMLtext[18]}}\\n              <i class=\\\"fa fa-angle-double-down w3-right\\\"></i>\\n            </b>\\n          </div>\\n          <div id=\\\"authorFilter\\\" class=\\\"w3-hide\\\">\\n            <div class=\\\"w3-block w3-center\\\">\\n              <p class=\\\"w3-show-inline-block w3-center w3-padding-small\\\" style=\\\"width:40%;\\\">\\n                <input class=\\\"w3-radio\\\" type=\\\"radio\\\" onchange=\\\"openFilter('authorFilter')\\\"\\n                  (change)=\\\"setAuthorId();remarkFilterChanged();\\\" value=\\\"all\\\" name=\\\"filterAuthorId\\\"\\n                  formControlName=\\\"filterAuthorId\\\">\\n                <label>{{HTMLtext[20]}}</label></p>\\n              <p class=\\\"w3-show-inline-block w3-center w3-padding-small\\\" style=\\\"width:40%;\\\">\\n                <input class=\\\"w3-radio\\\" type=\\\"radio\\\" onchange=\\\"openFilter('authorFilter')\\\"\\n                  (change)=\\\"setAuthorId();remarkFilterChanged();\\\" value=\\\"mineOnly\\\" name=\\\"filterAuthorId\\\"\\n                  formControlName=\\\"filterAuthorId\\\">\\n                <label>{{HTMLtext[19]}}</label></p>\\n            </div>\\n          </div>\\n\\n\\n          <div onclick=\\\"openFilter('severityFilter')\\\" class=\\\"w3-panel w3-border-bottom w3-text-orange\\\">\\n            <b><i class=\\\"fa fa-angle-double-down w3-right\\\"></i>\\n              {{HTMLtext[21]}}\\n              <i class=\\\"fa fa-angle-double-down w3-right\\\"></i>\\n            </b>\\n          </div>\\n          <div id=\\\"severityFilter\\\" class=\\\"w3-hide\\\">\\n            <div class=\\\"w3-block w3-center\\\">\\n              <p class=\\\"w3-show-inline-block w3-green w3-center w3-padding-small\\\" style=\\\"width:15%;\\\">\\n                <input (change)=\\\"setSeverity1();remarkFilterChanged()\\\" class=\\\"w3-check\\\" type=\\\"checkbox\\\"\\n                  name=\\\"filterSeverity1\\\" value=\\\"1\\\" formControlName=\\\"filterSeverity1\\\">\\n                <label>1</label></p>\\n              <p class=\\\"w3-show-inline-block w3-yellow  w3-center w3-padding-small\\\" style=\\\"width:15%;\\\">\\n                <input (change)=\\\"setSeverity2(); remarkFilterChanged()\\\" class=\\\"w3-check\\\" type=\\\"checkbox\\\"\\n                  name=\\\"filterSeverity2\\\" value=\\\"2\\\" formControlName=\\\"filterSeverity2\\\">\\n                <label>2</label></p>\\n              <p class=\\\"w3-show-inline-block w3-orange  w3-center w3-padding-small\\\" style=\\\"width:15%;\\\">\\n                <input (change)=\\\"setSeverity3(); remarkFilterChanged()\\\" class=\\\"w3-check\\\" type=\\\"checkbox\\\"\\n                  name=\\\"filterSeverity3\\\" value=\\\"3\\\" formControlName=\\\"filterSeverity3\\\">\\n                <label>3</label></p>\\n              <p class=\\\"w3-show-inline-block w3-red  w3-center w3-padding-small\\\" style=\\\"width:15%;\\\">\\n                <input (change)=\\\"setSeverity4(); remarkFilterChanged()\\\" class=\\\"w3-check\\\" type=\\\"checkbox\\\"\\n                  name=\\\"filterSeverity4\\\" value=\\\"4\\\" formControlName=\\\"filterSeverity4\\\">\\n                <label>4</label></p>\\n            </div>\\n          </div>\\n\\n          <p class=\\\"w3-center\\\">\\n            <button [disabled]=\\\"!filterForm.valid\\\" onclick=\\\"openFilter('RemarkFilter')\\\" type=\\\"button\\\"\\n              (click)=\\\"applyFilter()\\\" class=\\\"w3-btn w3-blue\\\">\\n              {{HTMLtext[14]}}\\n            </button></p>\\n\\n          <div class=\\\"w3-right w3-border w3-grey w3-medium w3-show-inline-block\\\" onclick=\\\"openFilter('RemarkFilter')\\\">\\n            <span><i class=\\\"fa fa-angle-double-up\\\"></i></span>\\n            <span class=\\\"w3-margin\\\">{{HTMLtext[22]}}</span>\\n            <span><i class=\\\"fa fa-angle-double-up \\\"></i></span>\\n          </div>\\n        </div>\\n      </form>\\n\\n      <div class=\\\"w3-center w3-margin-top\\\">\\n        <button (click)=\\\"toUpper()\\\" class=\\\"w3-button w3-round w3-orange\\\">\\n          {{HTMLtext[24]}}\\n        </button>\\n      </div>\\n\\n      <div class=\\\"w3-margin-top\\\">\\n        <div class=\\\"w3-text-orange w3-container\\\"><b>{{HTMLtext[23]}}<span\\n              *ngIf=\\\"filteredRemarks\\\">({{filteredRemarks.length}})</span></b>\\n              <div (click)=\\\"selectListView()\\\" class=\\\"w3-xlarge w3-right w3-margin-left\\\"><i class=\\\"w3-amber fa fa-list\\\" aria-hidden=\\\"true\\\"></i></div>\\n              <div (click)=\\\"selectGraphView()\\\" class=\\\"w3-xlarge w3-right w3-margin-left\\\"><i class=\\\"w3-teal fa fa-bar-chart\\\" aria-hidden=\\\"true\\\"></i></div>\\n              <div class=\\\"w3-xlarge w3-right\\\" (click)=\\\"downloadWord()\\\"><i class=\\\"w3-indigo fa fa-file-word-o\\\" aria-hidden=\\\"true\\\"></i></div>\\n            </div>\\n              <!-- style=\\\"max-height:22rem;overflow:scroll\\\" bij ul voegen om ul te beperken in height-->\\n        <ul *ngIf=\\\"listViewSelected\\\" class=\\\"w3-ul w3-border w3-hoverable\\\">\\n          <li *ngFor=\\\"let remark of filteredRemarks\\\" class=\\\"w3-row\\\">\\n            <div [ngClass]=\\\"{'w3-green' : remark[3] == 1, 'w3-yellow' : remark[3] == 2,\\n                'w3-orange' : remark[3] == 3, 'w3-red' : remark[3] == 4}\\\" class=\\\"w3-col w3-center\\\" style=\\\"width:15%\\\">\\n              {{remark[3]}}\\n            </div>\\n            <div (click)='onExtraInfo(remark[4])' class=\\\"w3-col w3-row-padding w3-rest\\\" style=\\\"width:70%\\\">\\n              <div class=\\\"w3-medium\\\">\\n                <span><b>{{remark[9]}}</b></span>\\n                <span>&nbsp;</span>\\n                <span><b>{{remark[8]}}</b></span>\\n                <span>&nbsp;</span>\\n                <span><b>({{remark[10]}})</b></span>\\n              </div>\\n              <div class=\\\"w3-small\\\">{{remark[2]}} <span *ngIf=\\\"remark[4] != null\\\">**</span></div>\\n              <div class=\\\"w3-small\\\">{{remark[1]}}</div>\\n              <div class=\\\"w3-small\\\">\\n                <span>{{remark[6]}}</span>\\n                <span>&nbsp;</span>\\n                <span>{{remark[7]}}</span>\\n              </div>\\n            </div>\\n            <div (click)='onDeleteRemark(remark[0])' onclick=\\\"document.getElementById('delete').style.display='block'\\\"\\n              class=\\\"w3-col w3-center w3-red\\\" style=\\\"width:15%\\\"\\n              *ngIf=\\\"(currentUserId == remark[5]) || currentUserRole == 4\\\">\\n              <i class=\\\"fa fa-window-close\\\" aria-hidden=\\\"true\\\"></i>\\n            </div>\\n          </li>\\n        </ul>\\n\\n        <div *ngIf=\\\"chartViewSelected\\\" class=\\\"w3-row\\\">\\n          <ngx-charts-bar-horizontal-stacked\\n          [view]=\\\"view\\\"\\n          [scheme]=\\\"colorScheme\\\"\\n          [results]=\\\"data\\\"\\n          [gradient]=\\\"gradient\\\"\\n          [xAxis]=\\\"showXAxis\\\"\\n          [yAxis]=\\\"showYAxis\\\"\\n          [legend]=\\\"showLegend\\\"\\n          [showXAxisLabel]=\\\"showXAxisLabel\\\"\\n          [showYAxisLabel]=\\\"showYAxisLabel\\\"\\n          [xAxisLabel]=\\\"xAxisLabel\\\"\\n          [yAxisLabel]=\\\"yAxisLabel\\\"\\n          (select)=\\\"onSelect($event)\\\">\\n        </ngx-charts-bar-horizontal-stacked>\\n      </div>\\n\\n      </div>\\n\\n    </div>\\n  </div>\\n</div>\\n\\n<div id=\\\"extraInfo\\\" class=\\\"w3-modal\\\" [style.display]='displayExtraInfo'>\\n  <div class=\\\"w3-modal-content w3-animate-top\\\">\\n    <header class=\\\"w3-container w3-orange\\\">\\n      <span (click)='hideExtraInfo()' class=\\\"w3-button w3-display-topright\\\">&times;</span>\\n      <h4>{{HTMLtext[96]}}</h4>\\n    </header>\\n    <div class=\\\"w3-container w3-center\\\">\\n      <p>{{extraInfoSelected}}</p>\\n    </div>\\n    <div class=\\\"w3-container w3-padding-small w3-center\\\">\\n      <button (click)='hideExtraInfo()' class=\\\"w3-button w3-grey w3-margin\\\">{{HTMLtext[95]}}</button>\\n    </div>\\n  </div>\\n</div>\\n\\n<div id=\\\"delete\\\" class=\\\"w3-modal\\\">\\n  <div class=\\\"w3-modal-content w3-animate-top\\\">\\n    <header class=\\\"w3-container w3-red\\\">\\n      <span onclick=\\\"document.getElementById('delete').style.display='none'\\\"\\n        class=\\\"w3-button w3-display-topright\\\">&times;</span>\\n      <h2>Delete remark</h2>\\n    </header>\\n    <div class=\\\"w3-container w3-center\\\">\\n      <p *ngIf(toDelete)>{{HTMLtext[26]}}\\n    </div>\\n    <div class=\\\"w3-container w3-padding-small w3-center\\\">\\n      <button class=\\\"w3-button w3-red w3-margin\\\" (click)=\\\"onDeleteFinal()\\\"\\n        onclick=\\\"document.getElementById('delete').style.display='none'\\\"> {{HTMLtext[27]}}</button>\\n      <button onclick=\\\"document.getElementById('delete').style.display='none'\\\"\\n        class=\\\"w3-button w3-grey w3-margin\\\">{{HTMLtext[28]}}</button>\\n    </div>\\n  </div>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport {FormGroup, FormBuilder, Validators} from \"@angular/forms\";\nimport { Model } from \"../model/repository.model\";\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Student } from '../model/student.model';\nimport { Class_schoolyear } from '../model/class_schoolyear.model';\nimport {formatDate} from '@angular/common';\nimport { RemarkFilterForm } from '../model/remarkFilterForm.model';\nimport { Document, Paragraph, Packer, TextRun, BorderStyle } from \"docx\";\nimport { WidthType } from \"docx\";\nimport * as FileSaver from 'file-saver';\n// import {FileSaver} from 'file-saver';\nimport { NgxChartsModule } from '@swimlane/ngx-charts';\n\n@Component({\n  selector: 'app-overview',\n  templateUrl: './overview.component.html',\n  styleUrls: ['./overview.component.css']\n})\nexport class OverviewComponent implements OnInit {\n\n  selectableStudents: Student[];\n  selectedStudent: Student;\n  selectedSchoolClass: Class_schoolyear;\n\n  lastUpdateNotification: Date;\n  showNotification: boolean;\n  UNIXTimeHour: number;\n\n  todaysOnes: number;\n  todaysTwos: number;\n  todaysThrees: number;\n  todaysFours: number;\n\n  classSchoolyears;\n\n  currentUserId;\n  currentUserRole;\n  \n  filterDateFrom: string;\n  filterDateTo: string;\n  filterAuthorId: string;\n  // private filterStudentId: string;\n  filterSeverity1: boolean;\n  filterSeverity2: boolean;\n  filterSeverity3: boolean;\n  filterSeverity4: boolean;\n\n  showUpper: boolean;\n  showLower: boolean;\n\n  filterChangedNotApplied: boolean;\n\n  today: Date;\n  extraInfoSelected: string;\n  displayExtraInfo: string;\n\n  HTMLtext;\n\n  filteredRemarks;\n  remarkToDeleteId: number;\n\n  filterForm: FormGroup;\n\n  chartViewSelected: boolean;\n  listViewSelected: boolean;\n\n  // ---------------------------------- START OF GRAPH PARAMETERS ---------------------------\n  single: any[];\n\n  view: any[] = [320, 700];\n \n  // options\n  showXAxis = true;\n  showYAxis = true;\n  gradient = false;\n  showLegend = false;\n  showXAxisLabel = false;\n  xAxisLabel = 'Country';\n  showYAxisLabel = false;\n  yAxisLabel = 'Population';\n\n  colorScheme = {\n    domain: ['#4CAF50', '#ffeb3b', '#ff9800', '#f44336']\n  };\n\n  data: any[];\n\n  // ---------------------------------- END OF GRAPH PARAMETERS ---------------------------\n\n  constructor( private model: Model,\n              private formBuilder: FormBuilder,\n              activeRoute: ActivatedRoute,\n              private router: Router\n              ) { }\n\n  ngOnInit() {\n    this.chartViewSelected = true;\n    this.listViewSelected= false;\n   \n    this.today = new Date();\n    this.UNIXTimeHour = 60*60*1000;\n    this.selectedStudent = null;\n    this.selectedSchoolClass = null;\n    localStorage.setItem('filterText',\"\");\n    // console.log(this.HTMLtext);\n\n    this.HTMLtext = JSON.parse(localStorage.getItem('multiLangText'));\n    this.model.HTMLTextLoaded.subscribe(\n      data => {\n        this.HTMLtext = JSON.parse(localStorage.getItem('multiLangText'));\n      }\n    )\n\n    this.filterChangedNotApplied = false; \n\n    this.currentUserId = JSON.parse(localStorage.getItem('currentUser')).id;\n    this.currentUserRole = JSON.parse(localStorage.getItem('currentUser')).roles[0].id;\n\n    this.initFilterForm();\n\n    this.showUpper = true;\n    this.showLower = false;\n    \n    this.model.filteredRemarksArrived.subscribe(\n      data => {\n        this.filteredRemarks = data;\n        console.log(this.filteredRemarks);\n        if(this.showNotification){\n          this.setTodayCounts();\n          this.showNotification = false;\n        }\n        this.initGraph();\n        console.log(this.getDatesBetween(new Date(this.filterDateFrom), new Date(this.filterDateTo) ));\n      },\n      error => {\n        console.log(\"error getting filtered remarks\");\n      }\n    );\n\n    this.model.classSchoolyearsLoaded.subscribe(\n      data => {\n        this.classSchoolyears = JSON.parse(localStorage.getItem('classSchoolyears'));\n        console.log(\"classSchoolyears\");\n        console.log(this.classSchoolyears);\n      }\n    )\n\n    this.model.remarkDeleted.subscribe(\n      data => {\n        console.log(\"remark deleted, now applying filter\");\n        this.applyFilter();\n      },\n      error => {\n        console.log(\"error deleting remark\"); \n      }\n    )\n\n    if( localStorage.getItem('students')){\n      this.selectableStudents = JSON.parse(localStorage.getItem('students'));\n    }\n    else{\n      this.selectableStudents = this.model.getStudents();\n    }\n\n  \n    this.model.studentsChangeDetected.subscribe(\n      (message: String) => {\n        // console.log(\"studentschangedetected in addremark. Students updated.\")\n        // console.log(localStorage.getItem('students').toString());\n        // this.allStudents = JSON.parse(localStorage.getItem('students'));\n        this.selectableStudents = JSON.parse(localStorage.getItem('students'));\n      }); \n\n      //Get todays filtered remarks\n      this.doUpdateNotification();\n  }//end of ngOnInit\n\n  setSchoolClasses(){\n    this.classSchoolyears = JSON.parse(localStorage.getItem('classSchoolyears'));\n  }\n  \n  selectedSchoolClassChanged(newSchoolClass){\n    this.selectedSchoolClass = newSchoolClass;\n    this.selectedStudent = null;\n    console.log(this.selectedSchoolClass)\n//    console.log(this.selectedSchoolClass);\n  }\n  \n  onDeleteRemark(remarkId: number){\n    this.remarkToDeleteId = remarkId;\n    console.log(\"delete remark with id \" + this.remarkToDeleteId);\n  }\n\n  onDeleteFinal() {\n    console.log(\"Now deleting remark with id \" + this.remarkToDeleteId);\n    this.model.deleteRemark(this.remarkToDeleteId);\n  }\n\n  h24(){\n    this.setDates(0);\n    this.filterChangedNotApplied = true;\n  }\n\n  h48(){\n    this.setDates(1);\n    this.filterChangedNotApplied = true;\n  }\n\n  h72(){\n    this.setDates(2);\n    this.filterChangedNotApplied = true;\n  }\n\n  d7(){\n    this.setDates(7);\n    this.filterChangedNotApplied = true;\n  }\n\n  d30(){\n    this.setDates(30);\n    this.filterChangedNotApplied = true;\n  }\n\n  d90(){\n    this.setDates(90);\n    this.filterChangedNotApplied = true;\n  }\n\n  remarkFilterChanged() {\n    this.filterChangedNotApplied = true;\n    console.log(this.filterForm.get('filterSeverity1').value);\n  }\n\n  setAuthorId(){\n    this.filterAuthorId = this.filterForm.get('filterAuthorId').value;\n  }\n  \n  setSeverity1(){\n      this.filterSeverity1 = this.filterForm.get('filterSeverity1').value;\n  }\n\n  setSeverity2(){\n    this.filterSeverity2 = this.filterForm.get('filterSeverity2').value;\n}\n\nsetSeverity3(){\n  this.filterSeverity3 = this.filterForm.get('filterSeverity3').value;\n}\n\nsetSeverity4(){\n  this.filterSeverity4 = this.filterForm.get('filterSeverity4').value;\n}\n  \n  onSelectStudent(student: Student){\n    this.selectedStudent = student;\n    this.selectedSchoolClass = null;\n    // console.log(this.selectedStudent);\n  }\n  \n  onFilterChange(value: string) {\n    // console.log(value);\n    localStorage.setItem('filterText',value);\n  }\n\n  // doUpdateNotification1(){\n  //   this.showNotification = false;\n  //   let now :Date = new Date();\n\n  //   if(localStorage.getItem('lastUpdateNotification')){\n  //     this.lastUpdateNotification = new Date(JSON.parse(localStorage.getItem('lastUpdateNotification')));\n  //     //If more than 6 hours time difference\n  //     if((now.getTime() - this.lastUpdateNotification.getTime()) > 2* this.UNIXTimeHour){\n  //       this.applyTodayFilter();\n  //       console.log(\"applying today filter...\");\n  //       this.showNotification =true;\n  //     }\n  //   }\n  //   else{\n  //     localStorage.setItem('lastUpdateNotification',JSON.stringify(now));\n  //     this.showNotification =true;\n  //   }\n  //   console.log(this.showNotification);\n  // }\n\n  doUpdateNotification(){\n    this.applyTodayFilter();\n  }\n\n  setTodayCounts(){\n    console.log(\"Entering setTodayCounts\");\n    this.todaysOnes = 0;\n    this.todaysTwos = 0;\n    this.todaysThrees = 0;\n    this.todaysFours = 0;\n    for(var i=0; i< this.filteredRemarks.length; i++){\n      if(this.filteredRemarks[i][3] == 1){\n        this.todaysOnes++;\n        console.log(this.todaysOnes);\n      }\n      if(this.filteredRemarks[i][3] == 2){\n        this.todaysTwos++;\n      }\n      if(this.filteredRemarks[i][3] == 3){\n        this.todaysThrees++;\n      }\n      if(this.filteredRemarks[i][3] == 4){\n        this.todaysFours++;\n      }\n    }\n  }\n\n  getFilteredStudents(): String{\n    let toret: String;\n    toret = \"\";\n    if(this.selectedStudent){\n      toret += this.selectedStudent.lastName + \" \" + this.selectedStudent.firstName + \" (\" + this.selectedStudent.classSchoolyears[0].schoolClass + \")\";\n      return toret;\n    }\n    if(this.selectedSchoolClass){\n      toret += this.selectedSchoolClass.schoolClass;\n      return toret;\n    }\n    toret += \"Alle leerlingen\";\n\n    return toret;\n  }\n\n  getFilteredAuthors(): String{\n    if(this.filterAuthorId != \"all\"){\n      let current = JSON.parse(localStorage.getItem(\"currentUser\"));\n      return current.firstName + \" \" + current.lastName;\n    }\n      return \"Alle leerkrachten\";\n  }\n\n  getFilteredSeverities(){\n    let toret: String;\n    toret = \"\";\n    if(this.filterSeverity1 == true){\n      toret += \" 1 \";\n    }\n    if(this.filterSeverity2 == true){\n      toret += \" 2 \";\n    }\n    if(this.filterSeverity3 == true){\n      toret += \" 3 \";\n    }\n    if(this.filterSeverity4 == true){\n      toret += \" 4 \";\n    }\n    return toret;\n  }\n  \n  getRemarkColor(severity): string {\n    let toret: string;\n    toret = \"black\";\n\n    if(severity == 1){\n      toret = \"green\";\n    }\n    if(severity == 2){\n      toret =  \"yellow\"\n    }\n    if(severity == 3){\n      toret =  \"orange\";\n    }\n    if(severity == 4){\n      toret =  \"red\"\n    }\n    console.log(toret);\n\n    return toret;\n  }\n\n  createHeading(text) {\n    return new Paragraph(text).heading1().thematicBreak();\n  }\n  \n  downloadWord(){\n    var document = new Document();\n    // document.addParagraph(new Paragraph(\"Rapport opmerkingen\").title());\n    document.addParagraph(this.createHeading(\"Rapport opmerkingen\"));\n    document.addParagraph(new Paragraph().addRun(new TextRun(\"Gegenereerd op: \" + this.today.toLocaleString()).bold().break()));\n\n    document.addParagraph(new Paragraph(\"Toegepaste filters: \"));\n\n    document.addParagraph(new Paragraph(\"leerling(en): \" + this.getFilteredStudents()).bullet());\n    document.addParagraph(new Paragraph(\"van: \" + this.filterDateFrom).bullet());\n    document.addParagraph(new Paragraph(\"tot: \" + this.filterDateTo).bullet());\n    document.addParagraph(new Paragraph(\"door: \" + this.getFilteredAuthors()).bullet());\n    document.addParagraph(new Paragraph(\"ernst: \" + this.getFilteredSeverities()).bullet());\n\n    document.addParagraph(new Paragraph(\"Voor de opgegeven filters werden \" + this.filteredRemarks.length + \" opmerkingen gevonden.\"));\n    \n    const table = document.createTable(this.filteredRemarks.length, 5);\n    table.getRow(0).getCell(0).CellProperties.setWidth(8, WidthType.PERCENTAGE);\n    table.getRow(0).getCell(1).CellProperties.setWidth(25, WidthType.PERCENTAGE);\n    table.getRow(0).getCell(2).CellProperties.setWidth(30, WidthType.PERCENTAGE);\n    table.getRow(0).getCell(3).CellProperties.setWidth(12, WidthType.PERCENTAGE);\n    table.getRow(0).getCell(4).CellProperties.setWidth(25, WidthType.PERCENTAGE);\n \n    for(var i=0; i< this.filteredRemarks.length; i++){\n      table.getRow(i).getCell(0).addContent(new Paragraph(this.filteredRemarks[i][10]));\n      table.getRow(i).getCell(1).addContent(new Paragraph(this.filteredRemarks[i][9] + \" \" + this.filteredRemarks[i][8]));\n      // table.getRow(i).getCell(2).addContent(new Paragraph(this.filteredRemarks[i][3] + \" - \" + this.filteredRemarks[i][2]));\n      table.getRow(i).getCell(2).addContent(new Paragraph(this.filteredRemarks[i][3] + \" - \" + this.filteredRemarks[i][2]));\n      let remarkColor: string = this.getRemarkColor(this.filteredRemarks[i][3]);\n      table.getRow(i).getCell(2).CellProperties.Borders.addBottomBorder(BorderStyle.DOUBLE, 3, remarkColor);\n      table.getRow(i).getCell(3).addContent(new Paragraph(this.filteredRemarks[i][1]));\n      table.getRow(i).getCell(4).addContent(new Paragraph(this.filteredRemarks[i][6] + \" \" + this.filteredRemarks[i][7]));\n\n    }\n    \n    const packer = new Packer();\n\n    packer.toBlob(document).then(blob => {\n      console.log(blob);\n      FileSaver.saveAs(blob, \"scalliTest.docx\");\n      console.log(\"Document created successfully\");\n    });\n  }\n\n\n  filterApplies(student: Student){\n    let filterText = localStorage.getItem('filterText');\n    if(filterText.length > 0){  \n      if(student.classSchoolyears[0].schoolClass.toLowerCase().includes(filterText.toLowerCase()) \n            || student.firstName.toLowerCase().includes(filterText.toLowerCase())\n            || student.lastName.toLowerCase().includes(filterText.toLowerCase())){\n        return true;\n      } \n      else {\n        return false;\n      }\n    }\n      else {\n        return true;\n      }\n  }//end of filterApplies\n\n  allStudents(){\n    this.selectedStudent = null;\n    this.selectedSchoolClass = null;\n    this.filterChangedNotApplied = true;\n  }\n\n  applyFilter(){\n    let remarksFilter: RemarkFilterForm;\n    remarksFilter = new RemarkFilterForm();\n    remarksFilter.fromDate = this.filterForm.get('filterDateFrom').value;\n    remarksFilter.toDate = this.filterForm.get('filterDateTo').value;\n    if(this.filterForm.get('filterAuthorId').value == \"all\"){\n      remarksFilter.authorId = 0;\n    }\n    else {\n      remarksFilter.authorId = JSON.parse(localStorage.getItem('currentUser')).id;\n    }\n\n    if(this.selectedStudent) {\n      remarksFilter.studentId = this.selectedStudent.id;\n    }\n    else {\n      remarksFilter.studentId = 0;\n    }\n\n    if(this.selectedSchoolClass) {\n      remarksFilter.schoolClassId = this.selectedSchoolClass.class_schoolyear_id;\n    }\n    else {\n      remarksFilter.schoolClassId = 0;\n    }\n\n    remarksFilter.severities = [];\n    if(this.filterForm.get('filterSeverity1').value){\n      remarksFilter.severities.push(1);\n    }\n    else {\n      remarksFilter.severities.push(0);\n    }\n    if(this.filterForm.get('filterSeverity2').value){\n      remarksFilter.severities.push(2);\n    }\n    else {\n      remarksFilter.severities.push(0);\n    }\n    if(this.filterForm.get('filterSeverity3').value){\n      remarksFilter.severities.push(3);\n    }\n    else {\n      remarksFilter.severities.push(0);\n    }\n    if(this.filterForm.get('filterSeverity4').value){\n      remarksFilter.severities.push(4);\n    }\n    else {\n      remarksFilter.severities.push(0);\n    }\n\n//    for(let i=0; i< 2000; i++ ){\n     //console.log(i);\n      this.model.getFilteredRemarks(remarksFilter);\n//    }\n    \n\n    this.filterChangedNotApplied = false;\n  }\n\n  applyTodayFilter(){\n    let remarksFilter: RemarkFilterForm;\n    remarksFilter = new RemarkFilterForm();\n    remarksFilter.fromDate = this.filterForm.get('filterDateTo').value; //TODAY\n    remarksFilter.toDate = this.filterForm.get('filterDateTo').value; //TODAY\n    remarksFilter.authorId = 0;\n    remarksFilter.studentId = 0;\n    remarksFilter.schoolClassId = 0;\n\n    remarksFilter.severities = [];\n    remarksFilter.severities.push(1);\n    remarksFilter.severities.push(2);\n    remarksFilter.severities.push(3);\n    remarksFilter.severities.push(4);\n\n//    for(let i=0; i< 2000; i++ ){\n     //console.log(i);\n     this.showNotification = true;\n      this.model.getFilteredRemarks(remarksFilter);\n//    }\n  }\n\n  private initFilterForm(){\n    this.filterForm = this.formBuilder.group ({\n      filterDateFrom: ['', Validators.required],\n      filterDateTo: ['', Validators.required],\n      filterAuthorId: ['', Validators.required],\n      // filterStudentId: ['', Validators.required],\n      filterSeverity1: [''],\n      filterSeverity2: [''],\n      filterSeverity3: [''],\n      filterSeverity4: ['']\n    });\n    this.filterForm.setValidators(this.severityValidator);\n\n    //init the start values\n    this.h24();\n\n    this.filterAuthorId = \"all\";\n    // this.filterStudentId = \"all\";\n    this.filterForm.controls['filterAuthorId'].setValue(this.filterAuthorId);\n    // this.filterForm.controls['filterStudentId'].setValue(this.filterStudentId);\n    \n    this.filterSeverity1 = true;\n    this.filterForm.controls['filterSeverity1'].setValue(this.filterSeverity1);\n    this.filterSeverity2 = true;\n    this.filterForm.controls['filterSeverity2'].setValue(this.filterSeverity2);\n    this.filterSeverity3 = true;\n    this.filterForm.controls['filterSeverity3'].setValue(this.filterSeverity3);\n    this.filterSeverity4 = true; \n    this.filterForm.controls['filterSeverity4'].setValue(this.filterSeverity4);\n}\n\n //Our own custom validator for checking at least one severity\n private severityValidator(group: FormGroup): any {\n  if (group) {\n    if ((!group.get(\"filterSeverity1\").value && !group.get(\"filterSeverity2\").value\n          && !group.get(\"filterSeverity3\").value && !group.get(\"filterSeverity4\").value)\n          || (group.get(\"filterDateFrom\").value > group.get(\"filterDateTo\").value) ) {\n      return { notMatching : true };\n    }\n  }\n  return null;\n}\n\ntoLower(){\n  this.showLower = true;\n  this.showUpper = false;\n  this.applyFilter();\n}\n\ntoUpper(){\n  this.showUpper = true;\n  this.showLower= false;\n}\n\nonExtraInfo(extra){\n  if(extra){\n    this.extraInfoSelected = extra;\n    this.displayExtraInfo = 'block';\n  }\n}\n\nhideExtraInfo(){\n  this.displayExtraInfo = 'none';\n}\n\n\nprivate setDates(startDateDays: number){\n  var start = new Date(this.today.getTime());\n  start.setDate(this.today.getDate() - startDateDays);\n  this.filterDateFrom = formatDate(start, 'yyyy-MM-dd', 'en');\n  this.filterDateTo = formatDate(this.today, 'yyyy-MM-dd', 'en');\n  this.filterForm.controls['filterDateFrom'].setValue(this.filterDateFrom);\n  this.filterForm.controls['filterDateTo'].setValue(this.filterDateTo);\n}\n\n// Returns an array of dates between the two dates\ngetDatesBetween (startDate, endDate) {\n  var dates = [],\n      currentDate = startDate,\n      addDays = function(days) {\n        var date = new Date(this.valueOf());\n        date.setDate(date.getDate() + days);\n        return date;\n      };\n  while (currentDate <= endDate) {\n    dates.push(currentDate);\n    currentDate = addDays.call(currentDate, 1);\n  }\n  console.log(dates);\n  return dates;\n};\n\ninitGraph(){\n  let dates = this.getDatesBetween(new Date(this.filterDateFrom), new Date(this.filterDateTo));\n  // console.log(dates);\n  this.data = [];\n  for(let i=0; i<dates.length; i++){\n    let pair: {};\n    pair = {};\n    pair[\"name\"] = formatDate(dates[i], 'yyyy-MM-dd', 'en');;\n    // this.multi.push(pair);\n    //  console.log(this.multi);\n     pair[\"series\"] = [];\n     let seriespair1: {} = {};\n     seriespair1[\"name\"] = 1;\n     seriespair1[\"value\"] = 0;\n     pair[\"series\"].push(seriespair1);\n     let seriespair2: {} = {};\n     seriespair2[\"name\"] = 2;\n     seriespair2[\"value\"] = 0;\n     pair[\"series\"].push(seriespair2);\n     let seriespair3: {} = {};\n     seriespair3[\"name\"] = 3;\n     seriespair3[\"value\"] = 0;\n     pair[\"series\"].push(seriespair3);\n     let seriespair4: {} = {};\n     seriespair4[\"name\"] = 4;\n     seriespair4[\"value\"] = 0;\n     pair[\"series\"].push(seriespair4);\n     this.data.push(pair);\n  }\n  console.log(this.data);\n\n  for(let i=0; i<this.filteredRemarks.length; i++){\n    for(let j=0; j<this.data.length; j++){\n      if(this.data[j][\"name\"] == this.filteredRemarks[i][1]){\n        this.data[j][\"series\"][this.filteredRemarks[i][3]-1][\"value\"]++;\n      }\n    }\n  }\n  console.log(this.data);\n\nthis.view = [300, this.data.length * 20];\n\n}//end of initGraph function\n\nselectListView(){\n  this.chartViewSelected = false;\n  this.listViewSelected= true;\n}\n\nselectGraphView(){\n  this.chartViewSelected = true;\n  this.listViewSelected= false;\n}\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhcmVudHMvcGFyZW50cy5jb21wb25lbnQuY3NzIn0= */\"","module.exports = \"<div class=\\\"w3-container\\\">\\n  <div class=\\\"w3-tiny w3-text-grey w3-padding\\\">{{HTMLtext[168]}}</div>\\n\\n  <div id=\\\"overview_students\\\" class=\\\"w3-row w3-container full-height city\\\">\\n    <div class=\\\"w3-row w3-col m11 w3-right-align w3-padding-small\\\">\\n      <button (click)=\\\"generate()\\\" onclick=\\\"document.getElementById('warning').style.display='block'\\\"\\n        class=\\\"w3-button w3-green w3-padding w3-margin\\\"><i class=\\\"fa fa-plus-circle\\\" aria-hidden=\\\"true\\\"></i>\\n        {{HTMLtext[166]}}</button>\\n      <button (click)=\\\"selectAll()\\\" (click)=\\\"isSelected = !isSelected\\\"\\n        class=\\\"w3-button w3-orange w3-padding w3-margin\\\"><i class=\\\"fa fa-plus-circle\\\" aria-hidden=\\\"true\\\"></i>\\n        {{HTMLtext[167]}}</button>\\n    </div>\\n    <div class=\\\"w3-row\\\">\\n      <div class=\\\"w3-col m11 w3-center\\\">\\n        <div class=\\\"w3-responsive\\\">\\n          <table class=\\\"w3-table-all w3-card-4\\\">\\n            <tr>\\n              <th>Select</th>\\n              <th>Class</th>\\n              <th>Student</th>\\n              <th>Parent</th>\\n              <th>Parent username</th>\\n            </tr>\\n            <tr *ngFor=\\\"let parent of parents\\\" [ngClass]=\\\"{'w3-text-grey': !parent.active}\\\">\\n              <td *ngIf='parent.parentId == 0'><input class=\\\"w3-check\\\" type=\\\"checkbox\\\"\\n                  (change)='onSelectNew($event,parent)' [checked]=\\\"isSelected\\\"></td>\\n              <td *ngIf=\\\"parent.parentId != 0\\\"><input class=\\\"w3-check\\\" type=\\\"checkbox\\\"\\n                  (change)='onSelectParent($event,parent)' [checked]=\\\"isSelected\\\"></td>\\n              <td>{{parent.schoolClass}}</td>\\n              <td>{{parent.studentFirstName}} &nbsp; {{parent.studentLastName}}</td>\\n              <td>{{parent.parentFirstName}} &nbsp; {{parent.parentLastName}}</td>\\n              <td>{{parent.parentEmail}}</td>\\n            </tr>\\n          </table>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<div id=\\\"download\\\" class=\\\"w3-modal\\\">\\n  <div class=\\\"w3-modal-content w3-animate-top\\\">\\n    <header class=\\\"w3-container w3-orange\\\">\\n      <span onclick=\\\"document.getElementById('download').style.display='none'\\\"\\n        class=\\\"w3-button w3-display-topright\\\">&times;</span>\\n      <h2>Download logins</h2>\\n    </header>\\n    <div class=\\\"w3-container w3-padding-small w3-center\\\">\\n      <button class=\\\"w3-button w3-orange w3-padding w3-margin\\\"\\n        onclick=\\\"document.getElementById('download').style.display='none'\\\">\\n        <i class=\\\"fa fa-download\\\" aria-hidden=\\\"true\\\"></i>\\n        <angular2csv [data]=\\\"lastCreatedOrChanged\\\" filename=\\\"test.csv\\\" [options]=\\\"options\\\"></angular2csv>\\n      </button>\\n      <button onclick=\\\"document.getElementById('download').style.display='none'\\\" class=\\\"w3-button w3-grey w3-margin\\\">\\n        {{HTMLtext[28]}}\\n      </button>\\n    </div>\\n  </div>\\n</div>\\n\\n<div id=\\\"warning\\\" class=\\\"w3-modal\\\">\\n  <div class=\\\"w3-modal-content w3-animate-top\\\">\\n    <header class=\\\"w3-container w3-red\\\">\\n      <span onclick=\\\"document.getElementById('warning').style.display='none'\\\"\\n        class=\\\"w3-button w3-display-topright\\\">&times;</span>\\n      <h2>Warning</h2>\\n    </header>\\n    <div class=\\\"w3-container w3-center\\\">\\n      <p>Please, beware before you continue: </p>\\n      <p>1. If you regenerate passwords for existing accounts, the old logins will be no longer valid!</p>\\n      <p>2. This will be your only change to download the (re)generated passwords</p>\\n    </div>\\n    <div class=\\\"w3-container w3-padding-small w3-center\\\">\\n      <button class=\\\"w3-button w3-red w3-margin\\\" onclick=\\\"document.getElementById('warning').style.display='none'; \\n                      document.getElementById('download').style.display='block'\\\">\\n        Yes, (re)generate\\n      </button>\\n      <button onclick=\\\"document.getElementById('warning').style.display='none'\\\" class=\\\"w3-button w3-grey w3-margin\\\">\\n        {{HTMLtext[28]}}\\n      </button>\\n    </div>\\n  </div>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Model } from \"../model/repository.model\";\nimport { FileUtil } from '../csvutils/file.util';\nimport {FormGroup, FormBuilder, Validators} from \"@angular/forms\";\nimport { ParentStudentInfo } from '../model/parentStudentInfo.model';\nimport { EditPasswordForm } from '../model/EditPasswordForm.model';\nimport { SignupUser } from '../model/signupUser.model';\nimport { Angular2CsvModule } from 'angular2-csv';\n\n@Component({\n  selector: 'app-parents',\n  templateUrl: './parents.component.html',\n  styleUrls: ['./parents.component.css']\n})\nexport class ParentsComponent implements OnInit {\n\n  HTMLtext;\n  parents: ParentStudentInfo[];\n  createNewParentAccountsForTheseStudentIds: ParentStudentInfo[];\n  // createdNewParentAccountsForTheseStudentIds: any[];\n  generateNewCredentialsForTheseParentIds: ParentStudentInfo[];\n  // generatedNewCredentialsForTheseParentIds: any[];\n  lastCreatedOrChanged: any[];\n  accountsChanged: number;\n\n  options = {\n    fieldSeparator: ',',\n    quoteStrings: '\"',\n    decimalseparator: '.',\n    showLabels: false,\n    headers: ['naam', 'klas', 'gebruikersnaam', 'wachtwoord'],\n    showTitle: true,\n    title: 'account logins',\n    useBom: false,\n    removeNewLines: true,\n    keys: ['student','schoolClass','username', 'password' ]\n  };\n  // data = [\n  //   {\n  //     name: \"Test, 1\",\n  //     age: 13,\n  //     average: 8.2,\n  //     approved: true,\n  //     description: \"using 'Content here, content here' \"\n  //   },\n  //   {\n  //     name: 'Test 2',\n  //     age: 11,\n  //     average: 8.2,\n  //     approved: true,\n  //     description: \"using 'Content here, content here' \"\n  //   },\n  //   {\n  //     name: 'Test 3',\n  //     age: 10,\n  //     average: 8.2,\n  //     approved: true,\n  //     description: \"using 'Content here, content here' \"\n  //   }\n  // ]\n   //data =[];\n\n\n  constructor(\n          private model: Model,\n          private formBuilder: FormBuilder,\n          private _fileUtil: FileUtil,\n          activeRoute: ActivatedRoute,\n          private router: Router\n          ) { }\n\n  ngOnInit() {\n    // console.log(this.data);\n    this.lastCreatedOrChanged = [];\n    this.accountsChanged = 0;\n    this.HTMLtext = JSON.parse(localStorage.getItem('multiLangText'));\n    this.createNewParentAccountsForTheseStudentIds = [];\n    this.generateNewCredentialsForTheseParentIds = [];\n\n    this.model.accountChanged.subscribe(\n      data => {\n        this.accountsChanged++;\n        console.log(\"accountsChanged\");\n        console.log(this.accountsChanged);\n        if(this.accountsChanged == this.lastCreatedOrChanged.length){\n          this.model.getParents();\n          this.accountsChanged = 0;\n        }\n      }\n    )\n\n    if( localStorage.getItem('parents')){\n      this.parents = JSON.parse(localStorage.getItem('parents'));\n    }\n    else{\n      this.parents = this.model.getParents();\n    }\n  \n    this.model.parentsLoaded.subscribe(\n      (message: String) => {\n        this.parents = JSON.parse(localStorage.getItem('parents'));\n      });\n  }\n\n  onSelectNew(event, parent){\n    if (event.target.checked ) {\n      console.log(parent);\n      this.createNewParentAccountsForTheseStudentIds.push(parent);\n      console.log(this.createNewParentAccountsForTheseStudentIds);\n    }\n   //Was checked but not anymore\n    else{\n      console.log('unchechecked');\n      console.log(parent);\n      this.removeFromStudentIdsArray(parent);\n   }\n  }\n\n  onSelectParent(event, parent){\n    if ( event.target.checked ) {\n      console.log(parent);\n      this.generateNewCredentialsForTheseParentIds.push(parent);\n      console.log(this.generateNewCredentialsForTheseParentIds);\n    }\n    //Was checked but not anymore\n    else{\n      console.log('unchechecked');\n      console.log(parent);\n      this.removeFromParentIdsArray(parent);\n    }\n  } \n  \n  generate(){\n    console.log(\"generate\");\n\n    this.updateParentsPasswords();\n\n    this.createParentAccounts();\n\n  }\n\n  \n  createParentAccounts(){\n    // this.createdNewParentAccountsForTheseStudentIds = [];\n    let possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890,./;'[]\\=-)(*&^%$#@!~`\";\n    const lengthOfCode = 6;\n\n    for(var i=0; i<this.createNewParentAccountsForTheseStudentIds.length; i++){\n      let randompw1 = this.makeRandom(lengthOfCode, possible);\n\n      // this.createdNewParentAccountsForTheseStudentIds[i] = [];\n      var parent1: SignupUser = {};\n      parent1 = this.createParent(randompw1, this.createNewParentAccountsForTheseStudentIds[i].studentId + \"-father@msninove.be\");\n      this.model.createParentAccountsForStudent(parent1, this.createNewParentAccountsForTheseStudentIds[i].studentId);\n      this.lastCreatedOrChanged.push(\n        {\n          student : this.createNewParentAccountsForTheseStudentIds[i].studentFirstName + \"\" + this.createNewParentAccountsForTheseStudentIds[i].studentLastName,\n          schoolClass : this.createNewParentAccountsForTheseStudentIds[i].schoolClass,\n          username : this.createNewParentAccountsForTheseStudentIds[i].studentId + \"-father@msninove.be\",\n          password : randompw1\n        }\n      )\n\n      let randompw2 = this.makeRandom(lengthOfCode, possible);\n      var parent2: SignupUser = {};\n      parent2 = this.createParent(randompw2, this.createNewParentAccountsForTheseStudentIds[i].studentId + \"-mother@msninove.be\");\n      this.model.createParentAccountsForStudent(parent2, this.createNewParentAccountsForTheseStudentIds[i].studentId)\n      // this.createdNewParentAccountsForTheseStudentIds.push(\n        this.lastCreatedOrChanged.push(\n        {\n          student : this.createNewParentAccountsForTheseStudentIds[i].studentFirstName + \"\" + this.createNewParentAccountsForTheseStudentIds[i].studentLastName,\n          schoolClass : this.createNewParentAccountsForTheseStudentIds[i].schoolClass,\n          username : this.createNewParentAccountsForTheseStudentIds[i].studentId + \"-mother@msninove.be\",\n          password : randompw2\n        }\n      )\n    }\n    // console.log(this.createdNewParentAccountsForTheseStudentIds);\n    // this.data = this.createdNewParentAccountsForTheseStudentIds;\n  }\n\n  createParent(randompw: string, username: string){\n    var parent1: SignupUser = {};\n    parent1.firstName = \"\";\n    parent1.lastName = \"\";\n    parent1.username = username; //this.createNewParentAccountsForTheseStudentIds[i] + \"-father@msninove.be\";\n    parent1.email =  username; //this.createNewParentAccountsForTheseStudentIds[i] + \"-father@msninove.be\";\n    parent1.password = randompw;\n    parent1.active = true;\n    parent1.language = \"nl\";\n    parent1.lastLoginDate = \"\";//formatDate(new Date(), 'yyyy/MM/dd', 'en');\n    parent1.roles = [\n      {\n          \"id\": 2,\n          \"name\": \"ROLE_PARENT1\"\n      }\n    ];\n    parent1.classSchoolyears = [];\n\n    return parent1;\n  }\n  \n  updateParentsPasswords(){\n    // this.generatedNewCredentialsForTheseParentIds = [];\n    let possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890,./;'[]\\=-)(*&^%$#@!~`\";\n    const lengthOfCode = 6;\n\n    for(var i=0; i<this.generateNewCredentialsForTheseParentIds.length; i++){\n      let randompw = this.makeRandom(lengthOfCode, possible);\n\n      let editForm: EditPasswordForm;\n      editForm = new EditPasswordForm();\n      editForm.id = this.generateNewCredentialsForTheseParentIds[i].parentId;\n      editForm.password = randompw;\n      console.log(randompw);\n\n      this.model.updateParentPassword(editForm);\n      this.lastCreatedOrChanged.push(\n        {\n          student : this.generateNewCredentialsForTheseParentIds[i].studentFirstName + \"\" + this.generateNewCredentialsForTheseParentIds[i].studentLastName,\n          schoolClass : this.generateNewCredentialsForTheseParentIds[i].schoolClass,\n          username : this.generateNewCredentialsForTheseParentIds[i].parentEmail,\n          password : randompw\n        }\n      );\n    }\n    // console.log(this.generatedNewCredentialsForTheseParentIds);\n    // this.data.push(this.generatedNewCredentialsForTheseParentIds);\n  }\n\n\n  makeRandom(lengthOfCode: number, possible: string) {\n    let text = \"\";\n    for (let i = 0; i < lengthOfCode; i++) {\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n      return text;\n  }\n\n  selectAll(){\n    console.log('selectAll');\n  }\n  \n  private removeFromStudentIdsArray(studid:ParentStudentInfo){\n      const index: number = this.createNewParentAccountsForTheseStudentIds.indexOf(studid);\n      if (index !== -1) {\n          this.createNewParentAccountsForTheseStudentIds.splice(index, 1);\n      }        \n  }\n\n  private removeFromParentIdsArray(parentId: ParentStudentInfo){\n    const index: number = this.generateNewCredentialsForTheseParentIds.indexOf(parentId);\n    if (index !== -1) {\n        this.generateNewCredentialsForTheseParentIds.splice(index, 1);\n    } \n  }\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3JhbmtpbmcvcmFua2luZy5jb21wb25lbnQuY3NzIn0= */\"","module.exports = \"<div class=\\\"w3-tiny w3-text-grey w3-padding\\\">Home -> {{HTMLtext[154]}}</div>\\n\\n<div class=\\\"w3-text-grey w3-padding\\\">{{HTMLtext[155]}} {{lastUpdated}}</div>\\n\\n<div class=\\\"w3-text-grey w3-padding\\\">Period from {{dateFrom}} to {{dateTo}}</div>\\n\\n<div class=\\\"w3-center w3-margin-bottom\\\">\\n  <span class=\\\"w3-btn\\\" [ngClass]=\\\"{'w3-blue': allRankingsSelected, 'w3-light-grey': !allRankingsSelected}\\\"\\n    (click)=\\\"allRankings()\\\">All</span>\\n  <span class=\\\"w3-btn w3-margin-left\\\"\\n    [ngClass]=\\\"{'w3-blue': !allRankingsSelected, 'w3-light-grey': allRankingsSelected}\\\"\\n    (click)=\\\"allByClassRankings()\\\">By class</span>\\n</div>\\n\\n<!--\\n<div class=\\\"w3-responsive\\\">\\n    <table class=\\\"w3-table-all\\\">\\n        <tr class=\\\"w3-amber\\\">\\n            <th>Position</th>\\n          <th>Name</th>\\n          <th>Class</th>\\n          <th class=\\\"w3-green w3-border w3-margin-right w3-center\\\" style=\\\" width:35px\\\">\\n              1\\n          </th>\\n            <th class=\\\"w3-yellow w3-border w3-margin-right w3-center\\\" style=\\\" width:35px\\\">\\n              2\\n            </th>\\n            <th class=\\\" w3-orange w3-border w3-margin-right  w3-center\\\" style=\\\" width:35px\\\">\\n              3\\n            </th>\\n            <th class=\\\"w3-red w3-border w3-margin-right w3-center\\\" style=\\\" width:35px\\\">\\n              4\\n            </th>\\n            <th>\\n                TOTAL\\n            </th>\\n      </tr>\\n      <tr *ngFor=\\\"let rank of rankings; index as i\\\">\\n        <td [ngClass]=\\\"{'w3-border-top w3-blue': (!allRankingsSelected) && (i == 0 || rankings[i][3] != rankings[i-1][3]), 'w3-green': currentUserId == rankings[i][0]}\\\"><div>{{rank[9]}}</div></td>\\n        <td [ngClass]=\\\"{'w3-border-top w3-blue': (!allRankingsSelected) && (i == 0 || rankings[i][3] != rankings[i-1][3]), 'w3-green': currentUserId == rankings[i][0]}\\\"><span>{{rank[2]}}</span><span class=\\\"w3-margin-left\\\">{{rank[1]}}</span></td>\\n        <td [ngClass]=\\\"{'w3-border-top w3-blue': (!allRankingsSelected) && (i == 0 || rankings[i][3] != rankings[i-1][3]), 'w3-green': currentUserId == rankings[i][0]}\\\">{{rank[3]}}</td>\\n        <td [ngClass]=\\\"{'w3-border-top w3-blue': (!allRankingsSelected) && (i == 0 || rankings[i][3] != rankings[i-1][3]), 'w3-green': currentUserId == rankings[i][0]}\\\">{{rank[4]}}</td>\\n        <td [ngClass]=\\\"{'w3-border-top w3-blue': (!allRankingsSelected) && (i == 0 || rankings[i][3] != rankings[i-1][3]), 'w3-green': currentUserId == rankings[i][0]}\\\">{{rank[5]}}</td>\\n        <td [ngClass]=\\\"{'w3-border-top w3-blue': (!allRankingsSelected) && (i == 0 || rankings[i][3] != rankings[i-1][3]), 'w3-green': currentUserId == rankings[i][0]}\\\">{{rank[6]}}</td>\\n        <td [ngClass]=\\\"{'w3-border-top w3-blue': (!allRankingsSelected) && (i == 0 || rankings[i][3] != rankings[i-1][3]), 'w3-green': currentUserId == rankings[i][0]}\\\">{{rank[7]}}</td>\\n        <td [ngClass]=\\\"{'w3-border-top w3-blue': (!allRankingsSelected) && (i == 0 || rankings[i][3] != rankings[i-1][3]), 'w3-green': currentUserId == rankings[i][0]}\\\">{{rank[8]}}</td>\\n      </tr>\\n    </table>\\n  </div>\\n  -->\\n<div class=\\\"w3-card-4\\\">\\n  <div class=\\\"w3-orange w3-padding\\\">\\n    <i class=\\\"fa fa-filter\\\"></i>{{HTMLtext[1]}}\\n    <input class=\\\"w3-input\\\" type=\\\"text\\\" #filter (keyup)=\\\"onFilterChange(filter.value)\\\">\\n  </div>\\n</div>\\n\\n<div class=\\\"w3-responsive\\\">\\n  <table class=\\\"w3-table-all\\\">\\n    <tr class=\\\"w3-amber\\\">\\n      <th>Pos.</th>\\n      <th>Student</th>\\n      <th>TOTAAL</th>\\n    </tr>\\n    <tr [hidden]=\\\"!filterApplies(rank)\\\" *ngFor=\\\"let rank of rankings; index as i\\\">\\n      <td\\n        [ngClass]=\\\"{'w3-border-top w3-blue': (!allRankingsSelected) && (i == 0 || rankings[i][3] != rankings[i-1][3]), 'w3-green': currentUserId == rankings[i][0]}\\\">\\n        <div>{{rank[9]}}</div>\\n      </td>\\n      <td\\n        [ngClass]=\\\"{'w3-border-top w3-blue': (!allRankingsSelected) && (i == 0 || rankings[i][3] != rankings[i-1][3]), 'w3-green': currentUserId == rankings[i][0]}\\\">\\n        <div><span>{{rank[3]}} - {{rank[2]}}</span><span class=\\\"w3-margin-left\\\">{{rank[1]}}</span></div>\\n        <div>\\n          <span class=\\\"w3-green w3-border w3-margin-right w3-center\\\"\\n            style=\\\"display: inline-block; width:30px\\\">{{rank[4]}}</span>\\n          <span class=\\\"w3-yellow w3-border w3-margin-right w3-center\\\"\\n            style=\\\"display: inline-block; width:30px\\\">{{rank[5]}}</span>\\n          <span class=\\\" w3-orange w3-border w3-margin-right  w3-center\\\"\\n            style=\\\"display: inline-block; width:30px\\\">{{rank[6]}}</span>\\n          <span class=\\\"w3-red w3-border w3-margin-right w3-center\\\"\\n            style=\\\"display: inline-block; width:30px\\\">{{rank[7]}}</span>\\n        </div>\\n      </td>\\n      <td\\n        [ngClass]=\\\"{'w3-border-top w3-blue': (!allRankingsSelected) && (i == 0 || rankings[i][3] != rankings[i-1][3]), 'w3-green': currentUserId == rankings[i][0]}\\\">\\n        {{rank[8]}}</td>\\n    </tr>\\n  </table>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport {FormGroup, FormBuilder, Validators} from \"@angular/forms\";\nimport { Model } from \"../model/repository.model\";\nimport { ActivatedRoute, Router } from '@angular/router';\nimport {formatDate} from '@angular/common';\n\n@Component({\n  selector: 'app-ranking',\n  templateUrl: './ranking.component.html',\n  styleUrls: ['./ranking.component.css']\n})\nexport class RankingComponent implements OnInit {\n\n  private rankings: [number,string,string,string,number,number,number,number,number];\n  public HTMLtext;\n  public last_update;\n  public start_date;\n  public end_date;\n  public positions: [number];\n  public allRankingsSelected: boolean;//If not true, then rankings ordered by class is selected\n  private currentUserRoleId: number;\n  private currentUserId: number;\n  public dateFrom: string;\n  public dateTo: string;\n  public lastUpdated: string;\n  \n  constructor(private model: Model,\n    private formBuilder: FormBuilder,\n    activeRoute: ActivatedRoute,\n    private router: Router) { }\n\n  ngOnInit() { \n    this.HTMLtext = JSON.parse(localStorage.getItem('multiLangText'));\n    this.currentUserRoleId = JSON.parse(localStorage.getItem('currentUser')).roles[0].id;\n    this.currentUserId = JSON.parse(localStorage.getItem('currentUser')).id;\n    // console.log(this.currentUserRoleId);\n    this.positions = [0];\n    this.allRankingsSelected = true;\n    // //Dummy position 0\n    // this.positions.push(0);\n    this.getLastUpdatedDate();\n    this.getStartDate();\n    this.getEndDate();\n\n    this.model.getAllRankings();\n    this.model.allRankingsLoaded.subscribe(\n      (data: [number,string,string,string,number,number,number,number,number]) => {\n        this.rankings = data;\n        console.log(data);\n        if(this.allRankingsSelected){\n          this.getAllPositions();\n        }\n        else{//rankings by class is selected\n          this.getAllPositionsSortedByClass();\n        }\n      },\n      error => { \n\n      }\n    )\n\n    localStorage.setItem('rankingFilterText','');\n  }\n\n  allRankings(){\n    this.allRankingsSelected = true;\n    this.model.getAllRankings();\n  }\n\n  allByClassRankings(){ \n    this.allRankingsSelected = false;\n    this.model.getRankingsSortedByClass();\n  }\n\n  //Add the postions to the end of the array when 'all' is selected\n  getAllPositions(){\n    let currentPosition = 1;\n    for(let i=0; i< this.rankings.length; i++){\n      if(i == 0){\n        this.rankings[i][9] = currentPosition;\n      } \n      else{\n        if(this.rankings[i][8] === this.rankings[i-1][8]){\n          this.rankings[i][9] = currentPosition;\n        }\n        else{\n          currentPosition = i + 1;\n          this.rankings[i][9] = currentPosition;\n        }\n      } \n      //Obfuscate names if \n      //1. not teacher or admin logged in\n      //2. not logged in user (=student can see  own result)\n      //3. not position 1 (first is always shown)\n      if((this.currentUserRoleId < 3 && (this.currentUserId != this.rankings[i][0] && this.rankings[i][9] != 1))) {\n        this.rankings[i][1] = this.stringToStar(this.rankings[i][1]);\n        this.rankings[i][2] = this.stringToStar(this.rankings[i][2]);\n      }    \n    }\n  }\n\n  //Add the positions to the end of the array when 'by class' is selected\n  getAllPositionsSortedByClass(){\n    let currentPosition = 1;\n    let classCount = 0;\n    let startNewClass= true;\n    for(let i=0; i< this.rankings.length; i++){\n      classCount++;\n      //Reset position to 1 for start of new class\n      if(i === 0 || this.rankings[i][3] != this.rankings[i-1][3]){\n        currentPosition = 1;\n        startNewClass = true;\n        classCount = 0;\n      }\n      if(i == 0 || startNewClass){\n        this.rankings[i][9] = currentPosition;\n        startNewClass = false;\n        currentPosition = 1;\n        classCount = 0;\n      } \n      else{\n        if(this.rankings[i][8] === this.rankings[i-1][8]){\n          this.rankings[i][9] = currentPosition;\n        }\n        else{\n          currentPosition = classCount + 1;\n          this.rankings[i][9] = currentPosition;\n        }\n      } \n      //Obfuscate names if \n      //1. not teacher or admin logged in\n      //2. not logged in user (=student can see  own result)\n      //3. not position 1 (first is always shown)\n      if((this.currentUserRoleId < 3 && (this.currentUserId != this.rankings[i][0] && this.rankings[i][9] != 1))) {\n        this.rankings[i][1] = this.stringToStar(this.rankings[i][1]);\n        this.rankings[i][2] = this.stringToStar(this.rankings[i][2]);\n      }\n    }\n  }\n  \n  stringToStar(toOb: string) :string{\n    return \"*\".repeat(toOb.length);\n  }\n\n  getLastUpdatedDate(): void{\n    // this.last_update = JSON.parse(localStorage.getItem('rankingSettings'))[0][8] * 1000;\n    this.last_update = JSON.parse(localStorage.getItem('rankingSettings')).last_updated * 1000;\n    this.lastUpdated = formatDate(this.last_update, 'yyyy-MM-dd', 'en');\n  }\n\n  getStartDate(): void{\n    // this.start_date = JSON.parse(localStorage.getItem('rankingSettings'))[0][6] * 1000;\n    this.start_date = JSON.parse(localStorage.getItem('rankingSettings')).ranking_start_date * 1000;\n    this.dateFrom = formatDate(this.start_date, 'yyyy-MM-dd', 'en');\n  }\n\n  getEndDate(): void{\n    // this.end_date = JSON.parse(localStorage.getItem('rankingSettings'))[0][7] * 1000;\n    this.end_date = JSON.parse(localStorage.getItem('rankingSettings')).ranking_end_date * 1000;\n    this.dateTo = formatDate(this.end_date, 'yyyy-MM-dd', 'en');\n  }\n\n  onFilterChange(value: string) {\n    console.log(value);\n    localStorage.setItem('rankingFilterText',value);\n  }\n\n  filterApplies(ranking: any[]){\n    // console.log('filterText');\n    // console.log(localStorage.getItem('filterText'));\n    let filterText = localStorage.getItem('rankingFilterText');\n    if(filterText.length > 0){  \n      if(ranking[1].toLowerCase().includes(filterText.toLowerCase()) \n      || ranking[2].toLowerCase().includes(filterText.toLowerCase())\n      || ranking[3].toLowerCase().includes(filterText.toLowerCase())){\n        return true;\n      } \n      else {\n        return false;\n      }\n    }\n      else {\n        return true;\n      }\n  }//end of filterApplies\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NjaG9vbHNldHRpbmdzL3NjaG9vbHNldHRpbmdzLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<div class=\\\"w3-container\\\">\\n  <div class=\\\"w3-tiny w3-text-grey w3-padding\\\">{{HTMLtext[100]}}</div>\\n  <p>{{HTMLtext[101]}}</p>\\n\\n  <div class=\\\"w3-row\\\">\\n    <div class=\\\"w3-col l6\\\">\\n      <div class=\\\"w3-card-4 w3-padding\\\">\\n        <header class=\\\"w3-container w3-orange\\\">\\n          <h3>{{HTMLtext[102]}}</h3>\\n        </header>\\n\\n        <div class=\\\"w3-container\\\"> \\n          <form class=\\\"w3-container\\\" [formGroup]=\\\"languageForm\\\" (ngSubmit)=\\\"updateLanguage()\\\">\\n            <p>\\n              <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[103]}}</b></label>\\n              <select class=\\\"w3-select\\\" name=\\\"language\\\" formControlName=\\\"language\\\">\\n                <option value=\\\"\\\" disabled selected>Choose the language</option>\\n                <option value=\\\"en\\\" [selected]=\\\"language == 'en'\\\">English</option>\\n                <option value=\\\"fr\\\" [selected]=\\\"language == 'fr'\\\">Français</option>\\n                <option value=\\\"nl\\\" [selected]=\\\"language == 'nl'\\\">Nederlands</option>\\n              </select></p>\\n            <p class=\\\" w3-center\\\">\\n              <button class=\\\"w3-btn w3-blue\\\" [disabled]=\\\"languageForm.invalid\\\">{{HTMLtext[104]}}</button></p>\\n          </form>\\n        </div>\\n      </div>\\n      <div class=\\\"w3-text-red\\\" *ngIf=\\\"languageForm.get('language').touched && languageForm.get('language').invalid\\\">\\n        {{HTMLtext[105]}}\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"w3-row\\\">\\n    <div class=\\\"w3-col l6\\\">\\n      <div class=\\\"w3-card-4 w3-padding\\\">\\n        <header class=\\\"w3-container w3-orange\\\">\\n          <h3>{{HTMLtext[106]}}</h3>\\n        </header>\\n\\n        <div id=\\\"remarkoptions\\\" class=\\\"w3-row w3-container full-height\\\">\\n            <div class=\\\"w3-row w3-col m11 w3-right-align w3-padding-small\\\">\\n                <button onclick=\\\"document.getElementById('addRemarkoption').style.display='block'\\\"\\n                  class=\\\"w3-button w3-green w3-padding w3-margin\\\"><i class=\\\"fa fa-plus-circle\\\" aria-hidden=\\\"true\\\"></i>\\n                  {{HTMLtext[107]}}\\n                </button>\\n              </div>\\n          <div class=\\\"w3-row\\\">\\n            <div class=\\\"w3-col m11 w3-center\\\">\\n              <div class=\\\"w3-responsive\\\">\\n                <table class=\\\"w3-table-all w3-card-4\\\">\\n                  <tr>\\n                    <th>{{HTMLtext[108]}}</th>\\n                    <th>{{HTMLtext[109]}}</th>\\n                    <th>{{HTMLtext[110]}}</th>\\n                  </tr>\\n                  <tr *ngFor=\\\"let remark of remarkoptions\\\">\\n                    <td>{{remark.option}}</td>\\n                    <td><button (click)=onEdit(remark.id) onclick=\\\"document.getElementById('editRemarkoption').style.display='block'\\\"><i\\n                          class=\\\"fa fa-pencil-square-o\\\" aria-hidden=\\\"true\\\"></i></button></td>\\n                    <td><button (click)=onDelete(remark.id) onclick=\\\"document.getElementById('deleteRemarkoption').style.display='block'\\\"><i\\n                          class=\\\"fa fa-window-close\\\" aria-hidden=\\\"true\\\"></i></button></td>\\n                  </tr>\\n                </table>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"w3-row\\\">\\n    <div class=\\\"w3-col l6\\\">\\n      <div class=\\\"w3-card-4 w3-padding\\\">\\n        <header class=\\\"w3-container w3-orange\\\">\\n          <h3>{{HTMLtext[111]}}</h3>\\n        </header>\\n\\n        <div class=\\\"w3-container\\\">\\n          <form class=\\\"w3-container\\\" [formGroup]=\\\"schoolyearfilterForm\\\" (ngSubmit)=\\\"updateSchoolyearfilter()\\\">\\n            <div class=\\\"w3-row\\\">\\n              <p class=\\\"w3-col l6 w3-padding\\\">\\n                  <select [(ngModel)]=\\\"currentSchoolyearId\\\" class=\\\"w3-select\\\" name=\\\"schoolyearfilter\\\" formControlName=\\\"schoolyearfilter\\\" type=\\\"text\\\" >\\n                    <option *ngFor=\\\"let schoolyear of schoolyears\\\" [value]=\\\"schoolyear.id\\\">\\n                      {{schoolyear.schoolyear}}\\n                    </option>\\n                  </select></p>\\n          </div>\\n            <p class=\\\" w3-center\\\">\\n              <button [disabled]=\\\"schoolyearfilterForm.invalid || !schoolyearfilterForm.touched\\\" class=\\\"w3-btn w3-blue\\\">{{HTMLtext[104]}}</button></p>\\n          </form>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  \\n  <div class=\\\"w3-row\\\">\\n    <div class=\\\"w3-col l6\\\">\\n      <div class=\\\"w3-card-4 w3-padding\\\">\\n        <header class=\\\"w3-container w3-orange\\\">\\n          <h3>{{HTMLtext[156]}}</h3>\\n        </header>\\n\\n        <div class=\\\"w3-container\\\">\\n          <form class=\\\"w3-container\\\" [formGroup]=\\\"rankingSettingsForm\\\" (ngSubmit)=\\\"updateRankingSettings()\\\">\\n            <div class=\\\"w3-row\\\">\\n              <div class=\\\"w3-col m4 w3-padding\\\">\\n                <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[161]}}</b></label>\\n                <input class=\\\"w3-input w3-border\\\"  name=\\\"ranking_start_total\\\" type=\\\"text\\\" formControlName=\\\"ranking_start_total\\\">\\n              </div>\\n            </div>\\n            <div class=\\\"w3-row\\\">\\n              <div class=\\\"w3-col m3 w3-padding\\\">\\n                <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[157]}}</b></label>\\n                <input class=\\\"w3-input w3-border\\\" name=\\\"one_penalty\\\" type=\\\"text\\\" formControlName=\\\"one_penalty\\\">\\n              </div>\\n              <div class=\\\"w3-col m3 w3-padding\\\">\\n                <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[158]}}</b></label>\\n                <input class=\\\"w3-input w3-border\\\" name=\\\"two_penalty\\\" type=\\\"text\\\" formControlName=\\\"two_penalty\\\">\\n              </div>\\n              <div class=\\\"w3-col m3 w3-padding\\\">\\n                <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[159]}}</b></label>\\n                <input class=\\\"w3-input w3-border\\\" name=\\\"three_penalty\\\" type=\\\"text\\\" formControlName=\\\"three_penalty\\\">\\n              </div>\\n              <div class=\\\"w3-col m3 w3-padding\\\">\\n                <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[160]}}</b></label>\\n                <input class=\\\"w3-input w3-border\\\" name=\\\"four_penalty\\\" type=\\\"text\\\" formControlName=\\\"four_penalty\\\">\\n              </div>\\n            </div>\\n            <div class=\\\"w3-row\\\">\\n              <div class=\\\"w3-col m6 w3-padding\\\">\\n                <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[162]}}</b></label>\\n                <input class=\\\"w3-input w3-border\\\" name=\\\"ranking_start_date\\\" type=\\\"date\\\" formControlName=\\\"ranking_start_date\\\">\\n              </div>\\n              <div class=\\\"w3-col m6 w3-padding\\\">\\n                <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[163]}}</b></label>\\n                <input class=\\\"w3-input w3-border\\\" name=\\\"ranking_end_date\\\" type=\\\"date\\\" formControlName=\\\"ranking_end_date\\\">\\n              </div>\\n            </div>\\n            <p class=\\\" w3-center\\\">\\n              <button [disabled]=\\\"rankingSettingsForm.invalid || !rankingSettingsForm.touched\\\" class=\\\"w3-btn w3-blue\\\">{{HTMLtext[104]}}</button></p>\\n          </form>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"w3-row\\\">\\n      <div class=\\\"w3-col l6\\\">\\n        <div class=\\\"w3-card-4 w3-padding\\\">\\n          <header class=\\\"w3-container w3-orange\\\">\\n            <h3>Classes (current schoolyear {{currentSchoolyearText}} only!)</h3>\\n          </header>\\n  \\n          <div id=\\\"classSchoolyears\\\" class=\\\"w3-row w3-container full-height\\\">\\n              <div class=\\\"w3-row w3-col m11 w3-right-align w3-padding-small\\\">\\n                  <button onclick=\\\"document.getElementById('addCs').style.display='block'\\\"\\n                    class=\\\"w3-button w3-green w3-padding w3-margin\\\"><i class=\\\"fa fa-plus-circle\\\" aria-hidden=\\\"true\\\"></i>\\n                    Add class\\n                  </button>\\n                </div>\\n            <div class=\\\"w3-row\\\">\\n              <div class=\\\"w3-col m11 w3-center\\\">\\n                <div class=\\\"w3-responsive\\\">\\n                  <table class=\\\"w3-table-all w3-card-4\\\">\\n                    <tr>\\n                      <th>Class name</th>\\n                      <th>{{HTMLtext[109]}}</th>\\n                      <th>{{HTMLtext[110]}}</th>\\n                    </tr>\\n                    <tr *ngFor=\\\"let cs of classSchoolyears\\\">\\n                      <td>{{cs.schoolClass}}</td>\\n                      <td><button (click)=onCSEdit(cs.class_schoolyear_id) onclick=\\\"document.getElementById('editCs').style.display='block'\\\"><i\\n                            class=\\\"fa fa-pencil-square-o\\\" aria-hidden=\\\"true\\\"></i></button></td>\\n                      <td><button (click)=onCSDelete(cs.class_schoolyear_id) onclick=\\\"document.getElementById('deleteCS').style.display='block'\\\"><i\\n                            class=\\\"fa fa-window-close\\\" aria-hidden=\\\"true\\\"></i></button></td>\\n                    </tr>\\n                  </table>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n  \\n        </div>\\n      </div>\\n    </div>\\n\\n</div>\\n\\n<div id=\\\"editRemarkoption\\\" class=\\\"w3-modal\\\">\\n    <div class=\\\"w3-modal-content w3-animate-top\\\">\\n      <form [formGroup]=\\\"editRemarkForm\\\" (ngSubmit)=\\\"saveEditedRemark()\\\">\\n        <div class=\\\"w3-card-4 w3-light-grey\\\">\\n          <header class=\\\"w3-container w3-orange\\\">\\n            <span onclick=\\\"document.getElementById('editRemarkoption').style.display='none'\\\"\\n              class=\\\"w3-button w3-display-topright\\\">&times;</span>\\n            <h2>{{HTMLtext[112]}}</h2>\\n          </header>\\n          <div class=\\\"w3-container\\\">\\n            <div class=\\\"w3-row\\\">\\n              <div class=\\\"w3-container\\\">\\n                <p class=\\\"w3-col l6 w3-padding\\\">\\n                  <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[113]}}</b></label>\\n                  <input class=\\\"w3-input w3-border\\\" name=\\\"remark\\\" type=\\\"text\\\" formControlName=\\\"remark\\\"></p>\\n              </div>\\n            </div>\\n            <p class=\\\" w3-center\\\">\\n              <button type=\\\"button\\\" (click)=\\\"saveEditedRemark()\\\" class=\\\"w3-btn w3-blue\\\"\\n              onclick=\\\"document.getElementById('editRemarkoption').style.display='none'\\\">{{HTMLtext[114]}}</button></p>\\n          </div>\\n        </div>\\n        </form>\\n    </div>\\n  </div>\\n\\n<div id=\\\"addRemarkoption\\\" class=\\\"w3-modal\\\">\\n    <div class=\\\"w3-modal-content w3-animate-top\\\">\\n        <div class=\\\"w3-card-4 w3-light-grey\\\">\\n          <header class=\\\"w3-container w3-green\\\">\\n            <span onclick=\\\"document.getElementById('addRemarkoption').style.display='none'\\\"\\n              class=\\\"w3-button w3-display-topright\\\">&times;</span>\\n            <h2>{{HTMLtext[115]}}</h2>\\n          </header>\\n          <div class=\\\"w3-container\\\">\\n            <form class=\\\"w3-container\\\" [formGroup]=\\\"addRemarkForm\\\" (ngSubmit)=\\\"addRemark()\\\">\\n              <p>\\n                <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[116]}}</b></label>\\n                <input class=\\\"w3-input w3-border\\\" name=\\\"remark\\\" type=\\\"text\\\" formControlName=\\\"remark\\\"></p>\\n                <div class=\\\"w3-text-red\\\" *ngIf=\\\"addRemarkForm.get('remark').touched && addRemarkForm.get('remark').invalid\\\">\\n                  {{HTMLtext[105]}}\\n                </div>\\n              <p class=\\\" w3-center\\\">\\n                <button [disabled]=\\\"addRemarkForm.invalid\\\" type=\\\"button\\\" class=\\\"w3-btn w3-blue\\\" (click)=\\\"addRemark()\\\"\\n                onclick=\\\"document.getElementById('addRemarkoption').style.display='none'\\\">{{HTMLtext[117]}}</button></p>\\n            </form>\\n          </div>\\n        </div>\\n    </div>\\n  </div>\\n\\n<div id=\\\"deleteRemarkoption\\\" class=\\\"w3-modal\\\">\\n    <div class=\\\"w3-modal-content w3-animate-top\\\">\\n      <header class=\\\"w3-container w3-red\\\">\\n        <span onclick=\\\"document.getElementById('deleteRemarkoption').style.display='none'\\\"\\n          class=\\\"w3-button w3-display-topright\\\">&times;</span>\\n        <h2>{{HTMLtext[118]}}</h2>\\n      </header>\\n      <div class=\\\"w3-container w3-center\\\">\\n        <p *ngIf(toDelete)>{{HTMLtext[119]}}\\n      </div>\\n      <div class=\\\"w3-container w3-padding-small w3-center\\\">\\n        <button class=\\\"w3-button w3-red w3-margin\\\" (click)=\\\"onDeleteFinal()\\\" \\n          onclick=\\\"document.getElementById('deleteRemarkoption').style.display='none'\\\"> {{HTMLtext[27]}}</button>\\n        <button onclick=\\\"document.getElementById('deleteRemarkoption').style.display='none'\\\" class=\\\"w3-button w3-grey w3-margin\\\"> \\n          {{HTMLtext[28]}}\\n        </button>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div id=\\\"editCs\\\" class=\\\"w3-modal\\\">\\n      <div class=\\\"w3-modal-content w3-animate-top\\\">\\n        <form [formGroup]=\\\"editCSForm\\\" (ngSubmit)=\\\"saveEditedCS()\\\">\\n          <div class=\\\"w3-card-4 w3-light-grey\\\">\\n            <header class=\\\"w3-container w3-orange\\\">\\n              <span onclick=\\\"document.getElementById('editCs').style.display='none'\\\"\\n                class=\\\"w3-button w3-display-topright\\\">&times;</span>\\n              <h2>Edit classes</h2>\\n            </header>\\n            <div class=\\\"w3-container\\\">\\n              <div class=\\\"w3-row\\\">\\n                <div class=\\\"w3-container\\\">\\n                  <p class=\\\"w3-col l6 w3-padding\\\">\\n                    <label class=\\\"w3-text-orange\\\"><b>Class</b></label>\\n                    <input class=\\\"w3-input w3-border\\\" name=\\\"cs\\\" type=\\\"text\\\" formControlName=\\\"cs\\\"></p>\\n                </div>\\n              </div>\\n              <p class=\\\" w3-center\\\">\\n                <button type=\\\"button\\\" (click)=\\\"saveEditedCS()\\\" class=\\\"w3-btn w3-blue\\\"\\n                onclick=\\\"document.getElementById('editCs').style.display='none'\\\">{{HTMLtext[114]}}</button></p>\\n            </div>\\n          </div>\\n          </form>\\n      </div>\\n    </div>\\n\\n    <div id=\\\"addCs\\\" class=\\\"w3-modal\\\">\\n        <div class=\\\"w3-modal-content w3-animate-top\\\">\\n            <div class=\\\"w3-card-4 w3-light-grey\\\">\\n              <header class=\\\"w3-container w3-green\\\">\\n                <span onclick=\\\"document.getElementById('addCs').style.display='none'\\\"\\n                  class=\\\"w3-button w3-display-topright\\\">&times;</span>\\n                <h2>Add class</h2>\\n              </header>\\n              <div class=\\\"w3-container\\\">\\n                <form class=\\\"w3-container\\\" [formGroup]=\\\"addCSForm\\\" (ngSubmit)=\\\"addCS()\\\">\\n                  <p>\\n                    <label class=\\\"w3-text-orange\\\"><b>Class to add</b></label>\\n                    <input class=\\\"w3-input w3-border\\\" name=\\\"cs\\\" type=\\\"text\\\" formControlName=\\\"cs\\\"></p>\\n                    <div class=\\\"w3-text-red\\\" *ngIf=\\\"addCSForm.get('cs').touched && addCSForm.get('cs').invalid\\\">\\n                      This field must be valid\\n                    </div>\\n                  <p class=\\\" w3-center\\\">\\n                    <button [disabled]=\\\"addCSForm.invalid\\\" type=\\\"button\\\" class=\\\"w3-btn w3-blue\\\" (click)=\\\"addCS()\\\"\\n                    onclick=\\\"document.getElementById('addCs').style.display='none'\\\">{{HTMLtext[117]}}</button></p>\\n                </form>\\n              </div>\\n            </div>\\n        </div>\\n      </div>\\n\\n      <div id=\\\"deleteCS\\\" class=\\\"w3-modal\\\">\\n          <div class=\\\"w3-modal-content w3-animate-top\\\">\\n            <header class=\\\"w3-container w3-red\\\">\\n              <span onclick=\\\"document.getElementById('deleteCS').style.display='none'\\\"\\n                class=\\\"w3-button w3-display-topright\\\">&times;</span>\\n              <h2>{{HTMLtext[118]}}</h2>\\n            </header>\\n            <div class=\\\"w3-container w3-center\\\">\\n              <p *ngIf(csToDelete)>{{HTMLtext[119]}}\\n            </div>\\n            <div class=\\\"w3-container w3-padding-small w3-center\\\">\\n              <button class=\\\"w3-button w3-red w3-margin\\\" (click)=\\\"onDeleteCSFinal()\\\" \\n                onclick=\\\"document.getElementById('deleteCS').style.display='none'\\\"> {{HTMLtext[27]}}</button>\\n              <button onclick=\\\"document.getElementById('deleteCS').style.display='none'\\\" class=\\\"w3-button w3-grey w3-margin\\\"> \\n                {{HTMLtext[28]}}\\n              </button>\\n            </div>\\n          </div>\\n        </div>\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport {FormGroup, FormBuilder, Validators} from \"@angular/forms\"\nimport { Model } from \"../model/repository.model\";\nimport { Schoolyear } from '../model/schoolyear.model';\nimport { Remarkoptions } from '../model/remarkoptions.model';\nimport { Class_schoolyear } from '../model/class_schoolyear.model';\nimport { RankingSettings } from '../model/rankingSettings.model';\nimport { formatDate } from \"@angular/common\";\n\n@Component({\n  selector: 'app-schoolsettings',\n  templateUrl: './schoolsettings.component.html',\n  styleUrls: ['./schoolsettings.component.css']\n})\nexport class SchoolSettingsComponent implements OnInit {\n\n  schoolyears: Schoolyear[];\n  currentSchoolyearId: number;\n  language: string;\n  languageForm: FormGroup;\n  schoolyearfilterForm: FormGroup;\n  remarkoptions: Remarkoptions[];\n  addRemarkForm: FormGroup;\n  editRemarkForm: FormGroup;\n  toEdit: Remarkoptions;\n  toDelete: Remarkoptions; \n  rankingSettings: RankingSettings;\n  \n  classSchoolyears: Class_schoolyear[];\n  csToEdit: Class_schoolyear;\n  csToDelete: Class_schoolyear;\n  addCSForm: FormGroup;\n  editCSForm: FormGroup;\n  rankingSettingsForm: FormGroup;\n\n  ranking_start_date: string;\n  ranking_end_date: string;\n\n  currentSchoolyearText;\n\n  HTMLtext;\n\n  constructor(\n    private model: Model,\n    private formBuilder: FormBuilder,\n    activeRoute: ActivatedRoute,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n\n    this.HTMLtext = JSON.parse(localStorage.getItem('multiLangText'));\n    this.rankingSettings = new RankingSettings();\n    this.initRankingSettings();\n\n    this.model.remarkoptionChangeDetected.subscribe(\n      data => {\n        this.remarkoptions = JSON.parse(localStorage.getItem('remarkoptions'));\n      }\n    );\n\n    \n    this.model.rankingSettingsLoaded.subscribe(\n      data => {\n        this.initRankingSettings();\n\n        console.log(\"ranking settings loaded\");\n      },\n      error => {\n        console.log(\"error loading rankingsettings...\");\n      }\n    );\n\n    this.model.classSchoolyearsLoaded.subscribe(\n      data => {\n        this.classSchoolyears = JSON.parse(localStorage.getItem('classSchoolyears'));\n        if(localStorage.getItem('currentSchoolyearId')){\n          this.currentSchoolyearId = JSON.parse(localStorage.getItem('currentSchoolyearId'));\n          this.setCurrentSchoolyearText();\n        }\n      }\n    )\n\n    this.model.schoolyearFilterUpdated.subscribe(\n      data => {\n        this.model.getClassSchoolyearsBySchoolyear();\n      }\n    );\n    \n    this.schoolyears = JSON.parse(localStorage.getItem('schoolyears'));\n    console.log(\"schoolyears in schoolsettings: \" + this.schoolyears);\n\n    if(localStorage.getItem('currentSchoolyearId')){\n      this.currentSchoolyearId = JSON.parse(localStorage.getItem('currentSchoolyearId'));\n      this.setCurrentSchoolyearText();\n    }\n\n    if(localStorage.getItem('language')){\n      this.language = localStorage.getItem('language');\n    }\n\n    this.languageForm = this.formBuilder.group ({\n      language: ['', Validators.required]\n    });\n\n    this.schoolyearfilterForm = this.formBuilder.group ({\n      schoolyearfilter: ['', Validators.required]\n    });\n\n    if(localStorage.getItem('remarkoptions')){\n      this.remarkoptions = JSON.parse(localStorage.getItem('remarkoptions'));\n    }\n\n    if(localStorage.getItem('classSchoolyears')){\n      this.classSchoolyears = JSON.parse(localStorage.getItem('classSchoolyears'));\n    }\n\n    console.log('updating schoolyearfilter...');\n    console.log(\"currentschoolyearid: \" + this.currentSchoolyearId);\n\n    this.initForms();\n  }\n\n\n  initRankingSettings(){\n    // this.rankingSettings.ranking_settings_id = JSON.parse(localStorage.getItem('rankingSettings'))[0][0];\n    //   this.rankingSettings.ranking_start_total = JSON.parse(localStorage.getItem('rankingSettings'))[0][1];\n    //   this.rankingSettings.one_penalty = JSON.parse(localStorage.getItem('rankingSettings'))[0][2];\n    //   this.rankingSettings.two_penalty = JSON.parse(localStorage.getItem('rankingSettings'))[0][3];\n    //   this.rankingSettings.three_penalty = JSON.parse(localStorage.getItem('rankingSettings'))[0][4];\n    //   this.rankingSettings.four_penalty = JSON.parse(localStorage.getItem('rankingSettings'))[0][5];\n    //   // this.rankingSettings.ranking_start_date = formatDate(JSON.parse(localStorage.getItem('rankingSettings'))[0][6],\"dd/MM/yyyy\",'en-US');\n    //   this.ranking_start_date = formatDate(JSON.parse(localStorage.getItem('rankingSettings'))[0][6]*1000,\"yyyy-MM-dd\",'en');\n    //   // this.rankingSettings.ranking_end_date = JSON.parse(localStorage.getItem('rankingSettings'))[0][7];\n    //   this.ranking_end_date = formatDate(JSON.parse(localStorage.getItem('rankingSettings'))[0][7]*1000,\"yyyy-MM-dd\",'en');\n    //   this.rankingSettings.last_updated = JSON.parse(localStorage.getItem('rankingSettings'))[0][8];\n\n    this.rankingSettings = JSON.parse(localStorage.getItem('rankingSettings'));\n    this.ranking_start_date = formatDate(this.rankingSettings.ranking_start_date*1000,\"yyyy-MM-dd\",'en');\n    this.ranking_end_date = formatDate(this.rankingSettings.ranking_end_date*1000,\"yyyy-MM-dd\",'en');\n\n      console.log(this.ranking_start_date);\n      console.log( this.rankingSettings.ranking_settings_id);\n      console.log(this.rankingSettings.one_penalty);\n  }\n\n  initRankingSettingsForm(){\n    this.rankingSettingsForm.controls['ranking_start_total'].setValue(this.rankingSettings.ranking_start_total);\n    this.rankingSettingsForm.controls['one_penalty'].setValue(this.rankingSettings.one_penalty);\n    this.rankingSettingsForm.controls['two_penalty'].setValue(this.rankingSettings.two_penalty);\n    this.rankingSettingsForm.controls['three_penalty'].setValue(this.rankingSettings.three_penalty);\n    this.rankingSettingsForm.controls['four_penalty'].setValue(this.rankingSettings.four_penalty);\n    // this.rankingSettingsForm.controls['ranking_start_date'].setValue(this.rankingSettings.ranking_start_date);\n    this.rankingSettingsForm.controls['ranking_start_date'].setValue(this.ranking_start_date);\n    // this.rankingSettingsForm.controls['ranking_end_date'].setValue(this.rankingSettings.ranking_end_date);\n    this.rankingSettingsForm.controls['ranking_end_date'].setValue(this.ranking_end_date);\n  }\n\n  updateLanguage(){\n    console.log('updating language...');\n    this.model.updateSchoolLanguage(this.languageForm.get('language').value,\n        JSON.parse(localStorage.getItem('currentSchool')).id);\n  }\n\n  updateSchoolyearfilter(){\n    // console.log('updating schoolyearfilter...');\n    // console.log(\"currentschoolyearid: \" + this.currentSchoolyearId);\n    this.model.updateSchoolyearfilter(this.schoolyearfilterForm.get('schoolyearfilter').value,\n      JSON.parse(localStorage.getItem('currentSchool')).id);\n  }\n\n  setCurrentSchoolyearText(){\n    this.currentSchoolyearText = this.schoolyears.find(x => x.id === this.currentSchoolyearId).schoolyear;\n  }\n\n  // ------------------------------- START OF CRUD OF REMARKOPTIONS ----------------------------------------------\n\n  onEdit(remarkid: number){\n    // this.remarkoptions = JSON.parse(localStorage.getItem('remarkoptions'));\n    this.toEdit = this.remarkoptions.find(x => x.id === remarkid);\n    console.log(this.toEdit);\n\n    this.editRemarkForm.setValue({\n      remark: this.toEdit.option\n    });\n  }\n  \n  saveEditedRemark(){\n    this.toEdit.option = this.editRemarkForm.controls['remark'].value;\n    this.model.editRemarkoption(this.toEdit);\n    this.editRemarkForm.controls['remark'].setValue(\"\");\n  }\n\n  addRemark(){\n    let remarkoption: Remarkoptions = new Remarkoptions();\n    remarkoption.option = this.addRemarkForm.controls['remark'].value;\n    this.model.addRemarkoption(remarkoption);\n    this.addRemarkForm.controls['remark'].setValue(\"\");\n  }\n\n  onDelete(remarkid: number){\n    this.toDelete = this.remarkoptions.find(x => x.id === remarkid);\n  }\n\n  onDeleteFinal(){\n    this.model.deleteRemarkoption(this.toDelete);\n  }\n\n   // ------------------------------- END OF CRUD OF REMARKOPTIONS ----------------------------------------------\n\n  // ------------------------------- START OF CRUD OF CLASS_SCHOOLYEARS ----------------------------------------------\n  \n  addCS(){\n    let cs: Class_schoolyear = new Class_schoolyear();\n    cs.schoolClass = this.addCSForm.controls['cs'].value;\n    cs.schoolyear_id = JSON.parse(localStorage.getItem('currentSchoolyearId'));\n    this.model.addClassSchoolyear(cs);\n    this.addCSForm.controls['cs'].setValue(\"\");\n  }\n\n  onCSEdit(CSid: number){\n    this.csToEdit = this.classSchoolyears.find(x => x.class_schoolyear_id === CSid);\n    console.log(this.csToEdit);\n\n    this.editCSForm.setValue({\n      cs: this.csToEdit.schoolClass\n    });\n  }\n  \n  saveEditedCS(){\n    this.csToEdit.schoolClass = this.editCSForm.controls['cs'].value;\n    this.model.editClassSchoolyear(this.csToEdit);\n    this.editCSForm.controls['cs'].setValue(\"\");\n  }\n\n  onCSDelete(CSid: number){\n    this.csToDelete = this.classSchoolyears.find(x => x.class_schoolyear_id === CSid);\n  }\n\n  onDeleteCSFinal(){\n    this.model.deleteClassSchoolyear(this.csToDelete.class_schoolyear_id);\n  }\n\n  // ------------------------------- END OF CRUD OF CLASS_SCHOOLYEARS ----------------------------------------------\n\n   // ------------------------------- START OF UPDATE RANKINGSETTINGS ----------------------------------------------\n  \n   updateRankingSettings(){\n    console.log(\"updateRankingSettings\");\n    let r:  RankingSettings = new RankingSettings();\n    r.ranking_settings_id = 1;\n    r.ranking_start_total = this.rankingSettingsForm.controls['ranking_start_total'].value;\n    r.one_penalty = this.rankingSettingsForm.controls['one_penalty'].value;\n    r.two_penalty = this.rankingSettingsForm.controls['two_penalty'].value;\n    r.three_penalty = this.rankingSettingsForm.controls['three_penalty'].value;\n    r.four_penalty = this.rankingSettingsForm.controls['four_penalty'].value;\n    r.ranking_start_date = new Date(this.rankingSettingsForm.controls['ranking_start_date'].value).getTime() / 1000;\n    r.ranking_end_date = new Date(this.rankingSettingsForm.controls['ranking_end_date'].value).getTime() /1000;\n    r.last_updated = new Date().getTime()/1000;\n\n    console.log(r);\n    this.model.updateRankingSettings(r);\n    \n  }\n\n    // ------------------------------- END OF UPDATE RANKINGSETTINGS ----------------------------------------------\n\n  private initForms(){\n    this.addRemarkForm = this.formBuilder.group ({\n      remark: ['', Validators.required]\n    });\n\n    this.editRemarkForm = this.formBuilder.group ({\n      remark: ['', Validators.required]\n    });\n\n    this.addCSForm = this.formBuilder.group ({\n      cs: ['', Validators.required]\n    });\n\n    this.editCSForm = this.formBuilder.group ({\n      cs: ['', Validators.required]\n    });\n\n    this.rankingSettingsForm = this.formBuilder.group ({\n      ranking_start_total: ['', Validators.required],\n      one_penalty: ['', Validators.required],\n      two_penalty: ['', Validators.required],\n      three_penalty: ['', Validators.required],\n      four_penalty: ['', Validators.required],\n      ranking_start_date: ['', Validators.required],\n      ranking_end_date: ['', Validators.required]\n    });\n\n    this.initRankingSettingsForm();\n//    this.rankingSettingsForm.controls['ranking_start_total'].setValue(this.rankingSettings.ranking_start_total);\n  }\n\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NldHRpbmdzL3NldHRpbmdzLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<div class=\\\"w3-container\\\">\\n  <div class=\\\"w3-tiny w3-text-grey w3-padding\\\">Home -> {{HTMLtext[36]}}</div>\\n  <p>{{HTMLtext[37]}}</p>\\n\\n  <div class=\\\"w3-row\\\">\\n    <div class=\\\"w3-col l6\\\">\\n      <div class=\\\"w3-card-4 w3-padding\\\">\\n        <header class=\\\"w3-container w3-orange\\\">\\n          <h3>{{HTMLtext[38]}}</h3>\\n        </header>\\n\\n        <div class=\\\"w3-container\\\">\\n          <form [formGroup]=\\\"passwordForm\\\" (ngSubmit)=\\\"saveEditedPassword()\\\">\\n            <p>\\n              <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[39]}}</b></label>\\n              <input class=\\\"w3-input w3-border w3-lightgrey\\\" name=\\\"oldpassword\\\" type=\\\"text\\\"\\n                name=\\\"oldpassword\\\" formControlName=\\\"oldpassword\\\"></p>\\n                <div class=\\\"w3-text-red\\\" *ngIf=\\\"!oldPasswordCorrect\\\">\\n                    {{HTMLtext[40]}}\\n              </div>\\n            <p>\\n              <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[41]}} </b></label>\\n              <input (input)=\\\"checkPasswordMatchEdit()\\\" class=\\\"w3-input w3-border w3-lightgrey\\\" \\n                name=\\\"newpassword\\\" type=\\\"text\\\" formControlName=\\\"newpassword\\\"></p>\\n            <p>\\n              <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[42]}}</b></label>\\n              <input (input)=\\\"checkPasswordMatchEdit()\\\" class=\\\"w3-input w3-border w3-lightgrey\\\" \\n                name=\\\"newpasswordagain\\\" type=\\\"text\\\" formControlName=\\\"newpasswordagain\\\"></p>\\n\\n            <p class=\\\" w3-center\\\">\\n              <button [disabled]=\\\"passwordForm.invalid\\\" class=\\\"w3-btn w3-blue\\\">{{HTMLtext[43]}}</button></p>\\n          </form>\\n        </div>\\n      </div>\\n\\n    </div>\\n  </div>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport {FormGroup, FormBuilder, Validators} from \"@angular/forms\";\nimport { Model } from \"../model/repository.model\";\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { EditPasswordForm } from '../model/EditPasswordForm.model';\n\n@Component({\n  selector: 'app-settings',\n  templateUrl: './settings.component.html',\n  styleUrls: ['./settings.component.css']\n})\nexport class SettingsComponent implements OnInit {\n\n  constructor(\n    private model: Model,\n    private formBuilder: FormBuilder,\n    activeRoute: ActivatedRoute,\n    private router: Router) { }\n    \n    \n    passwordsMatch: boolean;\n    oldPasswordCorrect: boolean;\n    HTMLtext;\n    //Make sure password is only changed once each time\n    pwchanged: boolean\n\n  passwordForm: FormGroup;\n\n  ngOnInit() {\n    this.initForms();\n    this.oldPasswordCorrect = true;\n    this.HTMLtext = JSON.parse(localStorage.getItem('multiLangText'));\n    this.pwchanged = false;\n\n    \n    this.model.studentPasswordUpdated.subscribe(\n      data =>{\n        //Password can now be changed again\n        this.pwchanged = false;\n        console.log(\"studentPasswordUpdated\");\n      },\n      error => {\n        //Password can now be changed again\n        this.pwchanged = false;\n      }\n    );\n    \n    //Only try to save if old password is valid\n    this.model.passwordValid.subscribe(\n      data => {\n//        this.pwvalid = true;\n        console.log(\"passwordvalid\");\n        console.log(data);\n        if(data && !this.pwchanged){\n          this.saveEditedPassword2();\n          this.pwchanged = true;\n        }\n        else {\n          if(!data) {\n            console.log(\"invalid password\")\n          }\n          if(this.pwchanged) {\n            console.log(\"Password was already changed\");\n          }\n        }\n      },\n      error => {\n        console.log(\"Error while saving with valid old password.\")\n      }\n    );\n  }\n\n  saveEditedPassword2(){\n//    if(this.pwvalid){\n      console.log(\"saveEditedPassword2\");\n      let newpw = this.passwordForm.get('newpassword').value;\n      let newpwagain = this.passwordForm.get('newpasswordagain').value;\n      if(newpw == newpwagain && newpw.length>0){\n        let userId = (JSON.parse(localStorage.getItem('currentUser'))).id;\n        this.model.updateStudentPassword(new EditPasswordForm(userId,newpw));\n      }\n      this.passwordForm.setValue(\n        {\n          oldpassword:'',\n          newpassword:'',\n          newpasswordagain:''\n        }\n      );\n      //Password can now be changed again\n      // this.pwchanged = false;\n      // this.oldPasswordCorrect = true;\n//      }\n    }\n  \n  saveEditedPassword(){\n    let userId = (JSON.parse(localStorage.getItem('currentUser'))).id;\n    let pw = this.passwordForm.get('oldpassword').value;\n//    let correctPW = \n    this.model.validatePassword(\n        {\n          id: userId,\n          password: pw\n        }\n    );\n//    console.log(\"correctPW: \" + correctPW);\n    // if(!correctPW){\n    //   this.oldPasswordCorrect = false;\n    // }\n    // else {\n    //   this.oldPasswordCorrect = true;\n    // }\n  }\n\n  checkPasswordMatchEdit(){\n    console.log(\"checking password match... \");\n    if(this.passwordForm.get('newpassword').value == this.passwordForm.get('newpasswordagain').value ){\n      console.log(\"checkPasswordMatchEdit: true\");\n      this.passwordsMatch = true;\n    }\n    else {\n      console.log(\"false\");\n      this.passwordsMatch = false;\n    }\n  }\n\n    //Our own custom validator for checking password and passwordagain match\n    private passwordMatchValidator(group: FormGroup): any {\n      if (group) {\n        console.log(\"checking password match with validator: \");\n        console.log(\"newpassword: \" + group.get(\"newpassword\").value);\n        console.log(\"newpasswordagain: \" + group.get(\"newpasswordagain\").value);\n        if (group.get(\"newpassword\").value !==group.get(\"newpasswordagain\").value) {\n          return { notMatching : true };\n        }\n      }\n      return null;\n    }\n\n  private initForms(){\n    this.passwordForm = this.formBuilder.group ({\n      oldpassword: ['', Validators.required],\n      newpassword: ['', Validators.required],\n      newpasswordagain: ['', Validators.required]\n    })\n    this.passwordForm.setValidators(this.passwordMatchValidator);\n\n  }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NpZ251cC9zaWdudXAuY29tcG9uZW50LmNzcyJ9 */\"","module.exports = \"<div class=\\\"w3-row\\\">\\n  <h1 class=\\\"w3-text-orange w3-center w3-border-bottom w3-padding\\\"><b>NOTATIS</b></h1>\\n</div>\\n\\n<div>\\n    <form class=\\\"w3-container\\\" [formGroup]=\\\"signupForm\\\" (ngSubmit)=\\\"signup()\\\">\\n    <div class=\\\"w3-container\\\">\\n      <h2>Maak een account voor jouw school. Het kost je minder dan 2 minuten!</h2>\\n      <p>Gelieve het formulier met de schoolinformatie en beheerdersinformatie in te vullen om een account aan te maken.\\n      </p>\\n      <hr>\\n\\n        <h3 class=\\\"w3-text-white w3-orange w3-padding\\\">Beheerdersinformatie</h3>\\n        <div class=\\\"w3-row\\\">\\n          <div class=\\\"w3-col m2 w3-container\\\">\\n\\n          </div>\\n\\n          <div class=\\\"w3-col m8 w3-panel w3-light-grey w3-card w3-padding w3-container\\\">\\n            <div class=\\\"w3-text-orange\\\"><b>Voornaam van de beheerder</b></div>\\n            <div class=\\\"w3-margin-bottom\\\">\\n              <input class=\\\"w3-input\\\" placeholder=\\\"Voornaam\\\" formControlName=\\\"firstName\\\" name=\\\"firstName\\\" required>\\n            </div>\\n\\n            <div class=\\\"w3-text-orange\\\"><b>Familienaam van de beheerder</b></div>\\n            <div class=\\\"w3-margin-bottom\\\">\\n              <input class=\\\"w3-input\\\" placeholder=\\\"Familienaam\\\" formControlName=\\\"lastName\\\" name=\\\"lastName\\\" required>\\n            </div>\\n\\n            <div class=\\\"w3-text-orange\\\"><b>Taal</b></div>\\n            <div class=\\\"w3-margin-bottom\\\">\\n              <select class=\\\"w3-select\\\" formControlName=\\\"language\\\" name=\\\"language\\\">\\n                <option value=\\\"\\\" disabled selected>Kies de taal</option>\\n                <option value=\\\"en\\\" [selected]=\\\"language == 'en'\\\">English</option>\\n                <option value=\\\"fr\\\" [selected]=\\\"language == 'fr'\\\">Français</option>\\n                <option value=\\\"nl\\\" [selected]=\\\"language == 'nl'\\\">Nederlands</option>\\n              </select>\\n            </div>\\n\\n            <div class=\\\"w3-text-orange\\\"><b>E-mailadres</b></div>\\n            <div class=\\\"w3-margin-bottom\\\">\\n              <input class=\\\"w3-input\\\" placeholder=\\\"e-mail\\\" formControlName=\\\"email\\\" name=\\\"email\\\" required>\\n            </div>\\n\\n            <div class=\\\"w3-text-orange\\\"><b>Wachtwoord</b></div>\\n            <div class=\\\"w3-margin-bottom\\\">\\n              <input (input)=\\\"checkPasswordMatch()\\\" class=\\\"w3-input\\\" placeholder=\\\"Kies een wachtwoord\\\" formControlName=\\\"password\\\" name=\\\"password\\\" required>\\n            </div>\\n            <div class=\\\"w3-text-red\\\" *ngIf=\\\"signupForm.get('password').touched && signupForm.get('password').invalid\\\">\\n                This is a required field.\\n              </div>\\n\\n            <div class=\\\"w3-text-orange\\\"><b>Bevestig wachtwoord</b></div>\\n            <div class=\\\"w3-margin-bottom\\\">\\n              <input (input)=\\\"checkPasswordMatch()\\\" class=\\\"w3-input\\\" placeholder=\\\"Typ het gekozen wachtwoord opnieuw\\\" formControlName=\\\"passwordagain\\\" name=\\\"passwordagain\\\" required>\\n            </div>\\n            <div class=\\\"w3-text-red\\\" *ngIf=\\\"!passwordsMatch\\\">\\n                This is a required field that must match the password field.\\n              </div>\\n          </div>\\n\\n          <div class=\\\"w3-col m2 w3-container\\\">\\n\\n          </div>\\n        </div>\\n\\n        <h3 class=\\\"w3-text-white w3-orange w3-padding\\\">Schoolinformatie</h3>\\n        <div class=\\\"w3-row\\\">\\n          <div class=\\\"w3-col m2 w3-container\\\">\\n\\n          </div>\\n\\n          <div class=\\\"w3-col m8 w3-panel w3-light-grey w3-card w3-padding w3-container\\\">\\n            <div class=\\\"w3-text-orange\\\"><b>Naam van de school: </b></div>\\n            <div class=\\\"w3-margin-bottom\\\">\\n              <input class=\\\"w3-input\\\" placeholder=\\\"Geef de schoolnaam in, bv. Koninklijk Atheneum Brussel\\\"\\n                name=\\\"schoolName\\\" formControlName=\\\"schoolName\\\" required>\\n            </div>\\n\\n            <div class=\\\"w3-text-orange\\\"><b>Schoolcode: </b></div>\\n            <div class=\\\"w3-margin-bottom\\\">\\n              <input class=\\\"w3-input\\\" placeholder=\\\"Kies een code om je school te identificeren, bv. KABrussel\\\"\\n                name=\\\"schoolCode\\\" formControlName=\\\"schoolCode\\\" required>\\n            </div>\\n\\n            <div class=\\\"w3-text-orange\\\"><b>Straat: </b></div>\\n            <div class=\\\"w3-margin-bottom\\\">\\n              <input class=\\\"w3-input\\\" placeholder=\\\"Vul hier de straat in\\\" formControlName=\\\"street\\\" name=\\\"street\\\" required>\\n            </div>\\n\\n            <div class=\\\"w3-text-orange\\\"><b>Huisnummer: </b></div>\\n            <div class=\\\"w3-margin-bottom\\\">\\n              <input class=\\\"w3-input\\\" placeholder=\\\"Vul hier het huisnummer in\\\" formControlName=\\\"number\\\" name=\\\"number\\\" required>\\n            </div>\\n\\n            <div class=\\\"w3-text-orange\\\"><b>Postcode: </b></div>\\n            <div class=\\\"w3-margin-bottom\\\">\\n              <input class=\\\"w3-input\\\" placeholder=\\\"Vul hier de postcode in\\\" formControlName=\\\"postalCode\\\" name=\\\"postalCode\\\" required>\\n            </div>\\n\\n            <div class=\\\"w3-text-orange\\\"><b>Stad: </b></div>\\n            <div class=\\\"w3-margin-bottom\\\">\\n              <input class=\\\"w3-input\\\" placeholder=\\\"Vul hier de stad in\\\" formControlName=\\\"city\\\" name=\\\"city\\\" required>\\n            </div>\\n\\n            <div class=\\\"w3-text-orange\\\"><b>Land: </b></div>\\n            <div class=\\\"w3-margin-bottom\\\">\\n              <input class=\\\"w3-input\\\" placeholder=\\\"Vul hier het land in\\\" formControlName=\\\"country\\\" name=\\\"country\\\" required>\\n            </div>\\n\\n            <div class=\\\"w3-text-orange\\\"><b>Telefoonnumer: </b></div>\\n            <div class=\\\"w3-margin-bottom\\\">\\n              <input class=\\\"w3-input\\\" placeholder=\\\"Vul hier het telefoonnumer van de school in\\\" formControlName=\\\"phone\\\" name=\\\"phone\\\"\\n                required>\\n            </div>\\n          </div>\\n      <div class=\\\"w3-col m2 w3-container\\\">\\n\\n      </div>\\n    </div>\\n\\n    <p>Door het aanmaken van een account verklaar je je akkoord met onze <a href=\\\"#\\\" style=\\\"color:dodgerblue\\\">Algemene\\n        voorwaarden</a>.</p>\\n\\n    <div class=\\\"w3-center w3-margin-bottom\\\">\\n      <button [disabled]=\\\"signupForm.invalid\\\" type=\\\"submit\\\" class=\\\"w3-button w3-margin-right w3-blue\\\">Maak Account</button>\\n      <a href=\\\"#\\\" class=\\\"w3-button w3-grey\\\">Annuleer</a>\\n    </div>\\n\\n</div>\\n</form>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { Router,ActivatedRoute } from '@angular/router';\nimport { Model } from \"../model/repository.model\";\nimport {FormGroup, FormBuilder, Validators} from \"@angular/forms\";\nimport { instantiateDefaultStyleNormalizer } from '@angular/platform-browser/animations/src/providers';\nimport { SignupSchool } from '../model/signupSchool.model';\nimport { School } from '../model/school.model';\nimport { SignupUser } from '../model/signupUser.model';\nimport {formatDate} from '@angular/common';\nimport { Class_schoolyear } from '../model/class_schoolyear.model';\nimport { Role } from '../model/role.model';\n\n@Component({\n  selector: 'app-signup',\n  templateUrl: './signup.component.html',\n  styleUrls: ['./signup.component.css']\n})\nexport class SignupComponent implements OnInit {\n\n  signupForm: FormGroup;\n\n  passwordsMatch: boolean;\n\n  constructor(    private _Activatedroute:ActivatedRoute,\n    private _router:Router,\n    private model: Model,\n    private formBuilder: FormBuilder) { }\n\n  ngOnInit() {\n    this.initForm();\n\n    //Second part of first signup step = actually creating the admin user for this school that just signed up \n    //This happens after below method signup() gets back a result\n    this.model.schoolInfoUpdated.subscribe(\n      (school: School) => {\n        console.log('schoolInfoUpdated');\n        console.log(school);\n\n        let confirmationuid: string;\n        confirmationuid = school.confirmationuid;\n\n        let signupUser: SignupUser;\n        signupUser = new SignupUser();\n        signupUser.firstName = this.signupForm.get(\"firstName\").value;;\n        signupUser.lastName = this.signupForm.get(\"lastName\").value;\n        signupUser.language = this.signupForm.get(\"language\").value;\n        signupUser.email = this.signupForm.get(\"email\").value;\n        signupUser.username = this.signupForm.get(\"email\").value;\n        signupUser.password = this.signupForm.get(\"password\").value;\n        signupUser.active = true;\n        signupUser.classSchoolyears =  [];\n        signupUser.lastLoginDate = formatDate(new Date(), 'yyyy/MM/dd', 'en');\n        \n        let r:Role;\n        r = new Role();\n        r.id = 4;\n        r.name = \"ROLE_ADMIN\" + school.schoolcodeInternal.slice(-1); //Get last character\n        signupUser.roles = [];\n        signupUser.roles.push(r);\n\n        this.model.confirmadmin(signupUser, confirmationuid, school.schoolcodeInternal);\n      }\n    );\n\n    this.model.adminCreated.subscribe(\n      data => {\n        console.log(data);\n      },\n      error => {\n        console.log(error);\n      }\n    )\n  }\n\n  signup(){\n    console.log(\"entering signup\");\n    console.log(this.signupForm.get(\"firstName\").value);\n\n    let signup: SignupSchool  = new SignupSchool();\n    signup.firstName = this.signupForm.get(\"firstName\").value;\n    signup.lastName = this.signupForm.get(\"lastName\").value;\n    signup.language = this.signupForm.get(\"language\").value;\n    signup.email = this.signupForm.get(\"email\").value;\n    signup.password = this.signupForm.get(\"password\").value;\n    signup.schoolName = this.signupForm.get(\"schoolName\").value;\n    signup.schoolCode = this.signupForm.get(\"schoolCode\").value;\n    signup.street = this.signupForm.get(\"street\").value;\n    signup.number = this.signupForm.get(\"number\").value;\n    signup.postalCode = this.signupForm.get(\"postalCode\").value;\n    signup.city = this.signupForm.get(\"city\").value;\n    signup.country = this.signupForm.get(\"country\").value;\n    signup.phone = this.signupForm.get(\"phone\").value;\n\n    this.model.updateSchoolInfo(signup);\n  }\n\n  initForm(){\n    this.signupForm = this.formBuilder.group ({\n      firstName: ['', Validators.required],\n      lastName:  ['', Validators.required],\n      email: ['', Validators.required],\n      language: ['', Validators.required],\n      password: ['', Validators.required],\n      passwordagain: ['', Validators.required],\n      schoolName: ['', Validators.required],\n      schoolCode: ['', Validators.required],\n      street: ['', Validators.required],\n      number: ['', Validators.required],\n      postalCode: ['', Validators.required],\n      city: ['', Validators.required],\n      country: ['', Validators.required],\n      phone: ['', Validators.required]\n    })\n    this.signupForm.setValidators(this.passwordMatchValidator);\n  }\n\n      //Our own custom validator for checking password and passwordagain match\n      private passwordMatchValidator(group: FormGroup): any {\n        if (group) {\n          // console.log(\"checking password match: \");\n          // console.log(\"password: \" + group.get(\"password\").value);\n          // console.log(\"passwordagain: \" + group.get(\"passwordagain\").value);\n          if (group.get(\"password\").value !==group.get(\"passwordagain\").value) {\n            return { notMatching : true };\n          }\n        }\n        return null;\n      }\n\n      checkPasswordMatch(){\n        console.log(\"checking password match... \");\n        if(this.signupForm.get('password').value == this.signupForm.get('passwordagain').value ){\n          console.log(\"true\");\n          this.passwordsMatch = true;\n        }\n        else {\n          console.log(\"false\");\n          this.passwordsMatch = false;\n        }\n      }\n\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N0dWRlbnRvdmVydmlldy9zdHVkZW50b3ZlcnZpZXcuY29tcG9uZW50LmNzcyJ9 */\"","module.exports = \"<div>\\n    <div  class=\\\"w3-amber w3-padding-small w3-center w3-container\\\" style=\\\"width:100%\\\">\\n        <span class=\\\"w3-margin-right\\\"><b>Vandaag:</b></span>\\n        <span class=\\\"w3-green w3-border w3-margin-right w3-center\\\" style=\\\"display: inline-block; width:35px\\\">\\n          {{todaysOnes}}\\n        </span>\\n        <span class=\\\"w3-yellow w3-border w3-margin-right w3-center\\\" style=\\\"display: inline-block; width:35px\\\">\\n          {{todaysTwos}}\\n        </span>\\n        <span class=\\\" w3-orange w3-border w3-margin-right  w3-center\\\" style=\\\"display: inline-block; width:35px\\\">\\n          {{todaysThrees}}\\n        </span>\\n        <span class=\\\"w3-red w3-border w3-margin-right w3-center\\\" style=\\\"display: inline-block; width:35px\\\">\\n          {{todaysFours}}\\n        </span>\\n      </div>\\n\\n  <div class=\\\"w3-tiny w3-text-grey w3-padding\\\">Home -> {{HTMLtext[0]}}</div>\\n\\n  <div class=\\\"w3-col m6 l6 w3-padding\\\">\\n\\n\\n    <form [formGroup]=\\\"filterForm\\\">\\n      <button onclick=\\\"openFilter('RemarkFilter')\\\" class=\\\"w3-btn w3-block w3-orange w3-left-align w3-border\\\">\\n        <i class=\\\"fa fa-angle-double-down w3-right\\\"></i>{{HTMLtext[5]}}\\n      </button>\\n      <label [ngClass]=\\\"{'w3-text-blue' : !filterChangedNotApplied, 'w3-text-red' : filterChangedNotApplied}\\\"\\n        class=\\\"w3-tiny\\\">\\n        <b>Filters:\\n          {{HTMLtext[7]}}:\\n          {{(selectedStudent) ? selectedStudent.firstName : \\\"\\\"}}\\n          {{(selectedStudent) ? \\\" \\\" : \\\" \\\"}}\\n          {{(selectedStudent) ? selectedStudent.lastName : \\\"\\\"}}\\n          {{(selectedStudent) ? \\\"(\\\"  : \\\"\\\"}}\\n          {{(selectedStudent) ? selectedStudent.classSchoolyears[0].schoolClass  : \\\"\\\"}}\\n          {{(selectedStudent) ? \\\")\\\"  : \\\"\\\"}}\\n\\n          {{(selectedSchoolClass) ? selectedSchoolClass.schoolClass : \\\"\\\"}}\\n\\n          {{(!selectedSchoolClass) && (!selectedStudent) ? HTMLtext[8] : \\\"\\\"}}\\n\\n          /\\n\\n          {{HTMLtext[9]}}: {{filterDateFrom}} {{HTMLtext[10]}}: {{filterDateTo}} /\\n          {{HTMLtext[11]}}: {{(filterAuthorId != \\\"all\\\" ? HTMLtext[19] : HTMLtext[20])}} /\\n          {{HTMLtext[13]}}: {{(filterSeverity1) ? \\\"1\\\" : \\\"\\\"}} {{(filterSeverity2) ? \\\"2\\\" : \\\"\\\"}}\\n          {{(filterSeverity3) ? \\\"3\\\" : \\\"\\\"}} {{(filterSeverity4) ? \\\"4\\\" : \\\"\\\"}}\\n        </b>\\n      </label>\\n      <div *ngIf=\\\"filterChangedNotApplied\\\" class=\\\"w3-tiny w3-red w3-text-white\\\">--> {{HTMLtext[25]}}</div>\\n\\n      <div id=\\\"RemarkFilter\\\" class=\\\"w3-container w3-hide w3-border w3-padding\\\">\\n\\n        <p class=\\\"w3-center\\\">\\n          <button [disabled]=\\\"!filterForm.valid\\\" onclick=\\\"openFilter('RemarkFilter')\\\" type=\\\"button\\\"\\n            (click)=\\\"applyFilter()\\\" class=\\\"w3-btn w3-blue\\\">\\n            {{HTMLtext[14]}}\\n          </button></p>\\n\\n\\n        <div onclick=\\\"openFilter('dateFilter')\\\" class=\\\"w3-panel w3-border-bottom w3-text-orange\\\">\\n          <b><i class=\\\"fa fa-angle-double-down w3-right\\\"></i>\\n            {{HTMLtext[15]}}\\n            <i class=\\\"fa fa-angle-double-down w3-right\\\"></i>\\n          </b>\\n        </div>\\n        <div id=\\\"dateFilter\\\" class=\\\"w3-hide\\\">\\n          <p class=\\\"w3-center\\\">\\n            <button type=\\\"button\\\" class=\\\"w3-btn w3-orange\\\" onclick=\\\"openFilter('dateFilter')\\\"\\n              (click)=h24()>1d</button>\\n            <button type=\\\"button\\\" class=\\\"w3-btn w3-orange w3-margin\\\" onclick=\\\"openFilter('dateFilter')\\\"\\n              (click)=\\\"h48()\\\">2d</button>\\n            <button type=\\\"button\\\" class=\\\"w3-btn w3-orange\\\" onclick=\\\"openFilter('dateFilter')\\\"\\n              (click)=\\\"h72()\\\">3d</button></p>\\n          <p class=\\\"w3-center\\\">\\n            <button type=\\\"button\\\" class=\\\"w3-btn w3-orange\\\" onclick=\\\"openFilter('dateFilter')\\\"\\n              (click)=\\\"d7()\\\">7d</button>\\n            <button type=\\\"button\\\" class=\\\"w3-btn w3-orange w3-margin\\\" onclick=\\\"openFilter('dateFilter')\\\"\\n              (click)=\\\"d30()\\\">30d</button>\\n            <button type=\\\"button\\\" class=\\\"w3-btn w3-orange\\\" onclick=\\\"openFilter('dateFilter')\\\"\\n              (click)=\\\"d90()\\\">90d</button></p>\\n\\n          <div class=\\\"w3-center\\\">\\n            <p class=\\\"w3-show-inline-block w3-margin\\\">\\n              <label><b>{{HTMLtext[9]}}</b></label>\\n              <input class=\\\"w3-input w3-border w3-round w3-light-grey\\\" onchange=\\\"openFilter('dateFilter')\\\"\\n                (change)=\\\"remarkFilterChanged()\\\" type=\\\"date\\\" name=\\\"filterDateFrom\\\" formControlName=\\\"filterDateFrom\\\">\\n            </p>\\n            <p class=\\\"w3-show-inline-block w3-margin\\\">\\n              <label><b>{{HTMLtext[10]}}</b></label>\\n              <input class=\\\"w3-input w3-border w3-round w3-light-grey\\\" onchange=\\\"openFilter('dateFilter')\\\"\\n                (change)=\\\"remarkFilterChanged()\\\" type=\\\"date\\\" name=\\\"filterDateTo\\\" formControlName=\\\"filterDateTo\\\">\\n            </p>\\n          </div>\\n        </div>\\n\\n\\n        <div onclick=\\\"openFilter('severityFilter')\\\" class=\\\"w3-panel w3-border-bottom w3-text-orange\\\">\\n          <b><i class=\\\"fa fa-angle-double-down w3-right\\\"></i>\\n            {{HTMLtext[21]}}\\n            <i class=\\\"fa fa-angle-double-down w3-right\\\"></i>\\n          </b>\\n        </div>\\n        <div id=\\\"severityFilter\\\" class=\\\"w3-hide\\\">\\n          <div class=\\\"w3-block w3-center\\\">\\n            <p class=\\\"w3-show-inline-block w3-green w3-center w3-padding-small\\\" style=\\\"width:15%;\\\">\\n              <input (change)=\\\"setSeverity1();remarkFilterChanged()\\\" class=\\\"w3-check\\\" type=\\\"checkbox\\\"\\n                name=\\\"filterSeverity1\\\" value=\\\"1\\\" formControlName=\\\"filterSeverity1\\\">\\n              <label>1</label></p>\\n            <p class=\\\"w3-show-inline-block w3-yellow  w3-center w3-padding-small\\\" style=\\\"width:15%;\\\">\\n              <input (change)=\\\"setSeverity2(); remarkFilterChanged()\\\" class=\\\"w3-check\\\" type=\\\"checkbox\\\"\\n                name=\\\"filterSeverity2\\\" value=\\\"2\\\" formControlName=\\\"filterSeverity2\\\">\\n              <label>2</label></p>\\n            <p class=\\\"w3-show-inline-block w3-orange  w3-center w3-padding-small\\\" style=\\\"width:15%;\\\">\\n              <input (change)=\\\"setSeverity3(); remarkFilterChanged()\\\" class=\\\"w3-check\\\" type=\\\"checkbox\\\"\\n                name=\\\"filterSeverity3\\\" value=\\\"3\\\" formControlName=\\\"filterSeverity3\\\">\\n              <label>3</label></p>\\n            <p class=\\\"w3-show-inline-block w3-red  w3-center w3-padding-small\\\" style=\\\"width:15%;\\\">\\n              <input (change)=\\\"setSeverity4(); remarkFilterChanged()\\\" class=\\\"w3-check\\\" type=\\\"checkbox\\\"\\n                name=\\\"filterSeverity4\\\" value=\\\"4\\\" formControlName=\\\"filterSeverity4\\\">\\n              <label>4</label></p>\\n          </div>\\n        </div>\\n\\n        <p class=\\\"w3-center\\\">\\n          <button [disabled]=\\\"!filterForm.valid\\\" onclick=\\\"openFilter('RemarkFilter')\\\" type=\\\"button\\\"\\n            (click)=\\\"applyFilter()\\\" class=\\\"w3-btn w3-blue\\\">\\n            {{HTMLtext[14]}}\\n          </button></p>\\n\\n        <div class=\\\"w3-right w3-border w3-grey w3-medium w3-show-inline-block\\\" onclick=\\\"openFilter('RemarkFilter')\\\">\\n          <span><i class=\\\"fa fa-angle-double-up\\\"></i></span>\\n          <span class=\\\"w3-margin\\\">{{HTMLtext[22]}}</span>\\n          <span><i class=\\\"fa fa-angle-double-up \\\"></i></span>\\n        </div>\\n      </div>\\n    </form>\\n\\n    <div class=\\\"w3-margin-top\\\">\\n      <div class=\\\"w3-text-orange w3-container\\\"><b>{{HTMLtext[23]}}<span\\n            *ngIf=\\\"filteredRemarks\\\">({{filteredRemarks.length}})</span></b>\\n            <div class=\\\"w3-xlarge w3-right\\\" (click)=\\\"downloadWord()\\\"><i class=\\\"w3-indigo fa fa-file-word-o\\\" aria-hidden=\\\"true\\\"></i></div>\\n          </div>\\n            <!-- style=\\\"max-height:22rem;overflow:scroll\\\" bij ul voegen om ul te beperken in height-->\\n      <ul class=\\\"w3-ul w3-border w3-hoverable\\\">\\n        <li *ngFor=\\\"let remark of filteredRemarks\\\" class=\\\"w3-row\\\">\\n          <div [ngClass]=\\\"{'w3-green' : remark[3] == 1, 'w3-yellow' : remark[3] == 2,\\n              'w3-orange' : remark[3] == 3, 'w3-red' : remark[3] == 4}\\\" class=\\\"w3-col w3-center\\\" style=\\\"width:15%\\\">\\n            {{remark[3]}}\\n          </div>\\n          <div (click)='onExtraInfo(remark[4])' class=\\\"w3-col w3-row-padding w3-rest\\\" style=\\\"width:70%\\\">\\n            <div class=\\\"w3-medium\\\">\\n              <span><b>{{remark[9]}}</b></span>\\n              <span>&nbsp;</span>\\n              <span><b>{{remark[8]}}</b></span>\\n              <span>&nbsp;</span>\\n              <span><b>({{remark[10]}})</b></span>\\n            </div>\\n            <div class=\\\"w3-small\\\">{{remark[2]}} <span *ngIf=\\\"remark[4] != null\\\">**</span></div>\\n            <div class=\\\"w3-small\\\">{{remark[1]}}</div>\\n            <div class=\\\"w3-small\\\">\\n              <span>{{remark[6]}}</span>\\n              <span>&nbsp;</span>\\n              <span>{{remark[7]}}</span>\\n            </div>\\n          </div>\\n        </li>\\n      </ul>\\n    </div>\\n\\n  </div>\\n</div>\\n\\n\\n<div id=\\\"extraInfo\\\" class=\\\"w3-modal\\\" [style.display]='displayExtraInfo'>\\n  <div class=\\\"w3-modal-content w3-animate-top\\\">\\n    <header class=\\\"w3-container w3-orange\\\">\\n      <span (click)='hideExtraInfo()' class=\\\"w3-button w3-display-topright\\\">&times;</span>\\n      <h4>{{HTMLtext[96]}}</h4>\\n    </header>\\n    <div class=\\\"w3-container w3-center\\\">\\n      <p>{{extraInfoSelected}}</p>\\n    </div>\\n    <div class=\\\"w3-container w3-padding-small w3-center\\\">\\n      <button (click)='hideExtraInfo()' class=\\\"w3-button w3-grey w3-margin\\\">{{HTMLtext[95]}}</button>\\n    </div>\\n  </div>\\n</div>\\n\"","import { Component, OnInit } from '@angular/core';\nimport {FormGroup, FormBuilder, Validators} from \"@angular/forms\";\nimport { Model } from \"../model/repository.model\";\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { RemarkFilterForm } from '../model/remarkFilterForm.model';\nimport { Student } from '../model/student.model';\nimport { Class_schoolyear } from '../model/class_schoolyear.model';\nimport {formatDate} from '@angular/common';\nimport { Role } from '../model/role.model';\nimport { Document, Paragraph, Packer, TextRun, BorderStyle } from \"docx\";\nimport { WidthType } from \"docx\";\nimport * as FileSaver from 'file-saver';\n\n@Component({\n  selector: 'app-studentoverview',\n  templateUrl: './studentoverview.component.html',\n  styleUrls: ['./studentoverview.component.css']\n})\nexport class StudentoverviewComponent implements OnInit {\n\n  selectedStudent: Student;\n  filterForm: FormGroup;\n  selectedSchoolClass: Class_schoolyear;\n  filterChangedNotApplied: boolean;\n\n  todaysOnes: number;\n  todaysTwos: number;\n  todaysThrees: number;\n  todaysFours: number;\n\n  currentUserId;\n  currentUserRole;\n  \n  filterDateFrom: string;\n  filterDateTo: string;\n  filterAuthorId: string;\n  // private filterStudentId: string;\n  filterSeverity1: boolean;\n  filterSeverity2: boolean;\n  filterSeverity3: boolean;\n  filterSeverity4: boolean;\n\n  today: Date;\n  extraInfoSelected: string;\n  displayExtraInfo: string;\n\n  lastUpdateNotification: Date;\n  showNotification: boolean;\n  UNIXTimeHour: number;\n\n  HTMLtext;\n  classSchoolyears;\n\n  filteredRemarks;\n\n  constructor(private model: Model,\n    private formBuilder: FormBuilder,\n    activeRoute: ActivatedRoute,\n    private router: Router\n    ) { }\n\n  ngOnInit() {\n    this.today = new Date();\n    this.UNIXTimeHour = 60*60*1000;\n    this.selectedStudent = null;\n    this.selectedSchoolClass = null;\n    localStorage.setItem('filterText',\"\");\n    // console.log(this.HTMLtext);\n\n    this.HTMLtext = JSON.parse(localStorage.getItem('multiLangText'));\n    this.model.HTMLTextLoaded.subscribe(\n      data => {\n        this.HTMLtext = JSON.parse(localStorage.getItem('multiLangText'));\n      }\n    )\n\n    this.filterChangedNotApplied = false; \n\n    this.currentUserId = JSON.parse(localStorage.getItem('currentUser')).id;\n    this.currentUserRole = JSON.parse(localStorage.getItem('currentUser')).roles[0].id;\n\n    this.selectCurrentLoggedIn();\n\n    this.initFilterForm();\n    \n    this.model.filteredRemarksArrived.subscribe(\n      data => {\n        this.filteredRemarks = data;\n        console.log(this.filteredRemarks);\n        if(this.showNotification){\n          this.setTodayCounts();\n          this.showNotification = false;\n        }\n      },\n      error => {\n        console.log(\"error getting filtered remarks\");\n      }\n    );\n\n    this.model.classSchoolyearsLoaded.subscribe(\n      data => {\n        this.classSchoolyears = JSON.parse(localStorage.getItem('classSchoolyears'));\n        console.log(\"classSchoolyears\");\n        console.log(this.classSchoolyears);\n      }\n    )\n\n    this.model.childLoaded.subscribe(\n      data => {\n        this.setSelectedStudent(\"child\");\n      }\n    )\n\n      //Get todays filtered remarks\n      this.doUpdateNotification();\n  }\n\n  private selectCurrentLoggedIn(){\n    console.log(\"selectCurrentLoggedIn\");\n    console.log(JSON.parse(localStorage.getItem('currentUser')).roles[0]);\n    //If the student himself is logged in \n    if(JSON.parse(localStorage.getItem('currentUser')).roles[0].id == 1) {\n      this.setSelectedStudent(\"currentUser\");\n     }\n\n    //  if the parent is logged in\n     if(JSON.parse(localStorage.getItem('child')) != null) {\n      this.setSelectedStudent(\"child\");\n    }\n  }\n\n  private setSelectedStudent(user: string){\n      console.log(user);\n      this.selectedStudent = new  Student();\n      this.selectedStudent.id = JSON.parse(localStorage.getItem(user)).id;\n      this.selectedStudent.firstName = JSON.parse(localStorage.getItem(user)).firstName;\n      this.selectedStudent.lastName = JSON.parse(localStorage.getItem(user)).lastName;\n      this.selectedStudent.active = JSON.parse(localStorage.getItem(user)).active;\n      this.selectedStudent.email = JSON.parse(localStorage.getItem(user)).email;\n      this.selectedStudent.username = JSON.parse(localStorage.getItem(user)).username;\n      this.selectedStudent.password = JSON.parse(localStorage.getItem(user)).password;\n      this.selectedStudent.language = JSON.parse(localStorage.getItem(user)).language;\n      this.selectedStudent.lastLoginDate = JSON.parse(localStorage.getItem(user)).lastLoginDate;\n      //Add the role\n      let role: Role = new Role();\n      role.id = JSON.parse(localStorage.getItem(user)).roles[0].id;\n      role.name = JSON.parse(localStorage.getItem(user)).roles[0].name;\n      let roles: Role[];\n      roles = [];\n      roles.push(role);\n      this.selectedStudent.roles = roles;\n      //Add the class\n      let cs: Class_schoolyear = new Class_schoolyear();\n      cs.class_schoolyear_id = JSON.parse(localStorage.getItem(user)).classSchoolyears[0].class_schoolyear_id;\n      cs.schoolClass = JSON.parse(localStorage.getItem(user)).classSchoolyears[0].schoolClass;\n      cs.schoolyear_id = JSON.parse(localStorage.getItem(user)).classSchoolyears[0].schoolyear_id;\n      let css: Class_schoolyear[];\n      css = [];\n      css.push(cs);\n      this.selectedStudent.classSchoolyears = css;\n  }\n\n  private initFilterForm(){\n    this.filterForm = this.formBuilder.group ({\n      filterDateFrom: ['', Validators.required],\n      filterDateTo: ['', Validators.required],\n      filterAuthorId: ['', Validators.required],\n      // filterStudentId: ['', Validators.required],\n      filterSeverity1: [''],\n      filterSeverity2: [''],\n      filterSeverity3: [''],\n      filterSeverity4: ['']\n    });\n    this.filterForm.setValidators(this.severityValidator);\n\n    //init the start values\n    this.h24();\n\n    this.filterAuthorId = \"all\";\n    // this.filterStudentId = \"all\";\n    this.filterForm.controls['filterAuthorId'].setValue(this.filterAuthorId);\n    // this.filterForm.controls['filterStudentId'].setValue(this.filterStudentId);\n    \n    this.filterSeverity1 = true;\n    this.filterForm.controls['filterSeverity1'].setValue(this.filterSeverity1);\n    this.filterSeverity2 = true;\n    this.filterForm.controls['filterSeverity2'].setValue(this.filterSeverity2);\n    this.filterSeverity3 = true;\n    this.filterForm.controls['filterSeverity3'].setValue(this.filterSeverity3);\n    this.filterSeverity4 = true; \n    this.filterForm.controls['filterSeverity4'].setValue(this.filterSeverity4);\n}\n\n //Our own custom validator for checking at least one severity\n private severityValidator(group: FormGroup): any {\n  if (group) {\n    if ((!group.get(\"filterSeverity1\").value && !group.get(\"filterSeverity2\").value\n          && !group.get(\"filterSeverity3\").value && !group.get(\"filterSeverity4\").value)\n          || (group.get(\"filterDateFrom\").value > group.get(\"filterDateTo\").value) ) {\n      return { notMatching : true };\n    }\n  }\n  return null;\n}\n\nsetTodayCounts(){\n  console.log(\"Entering setTodayCounts\");\n  this.todaysOnes = 0;\n  this.todaysTwos = 0;\n  this.todaysThrees = 0;\n  this.todaysFours = 0;\n  for(var i=0; i< this.filteredRemarks.length; i++){\n    if(this.filteredRemarks[i][3] == 1){\n      this.todaysOnes++;\n      console.log(this.todaysOnes);\n    }\n    if(this.filteredRemarks[i][3] == 2){\n      this.todaysTwos++;\n    }\n    if(this.filteredRemarks[i][3] == 3){\n      this.todaysThrees++;\n    }\n    if(this.filteredRemarks[i][3] == 4){\n      this.todaysFours++;\n    }\n  }\n}\n\ngetFilteredStudents(): String{\n  let toret: String;\n  toret = \"\";\n  if(this.selectedStudent){\n    toret += this.selectedStudent.lastName + \" \" + this.selectedStudent.firstName + \" (\" + this.selectedStudent.classSchoolyears[0].schoolClass + \")\";\n    return toret;\n  }\n  if(this.selectedSchoolClass){\n    toret += this.selectedSchoolClass.schoolClass;\n    return toret;\n  }\n  toret += \"Alle leerlingen\";\n\n  return toret;\n}\n\ngetFilteredAuthors(): String{\n    return \"Alle leerkrachten\";\n}\n\ngetFilteredSeverities(){\n  let toret: String;\n  toret = \"\";\n  if(this.filterSeverity1 == true){\n    toret += \" 1 \";\n  }\n  if(this.filterSeverity2 == true){\n    toret += \" 2 \";\n  }\n  if(this.filterSeverity3 == true){\n    toret += \" 3 \";\n  }\n  if(this.filterSeverity4 == true){\n    toret += \" 4 \";\n  }\n  return toret;\n}\n\ngetRemarkColor(severity): string {\n  let toret: string;\n  toret = \"black\";\n\n  if(severity == 1){\n    toret = \"green\";\n  }\n  if(severity == 2){\n    toret =  \"yellow\"\n  }\n  if(severity == 3){\n    toret =  \"orange\";\n  }\n  if(severity == 4){\n    toret =  \"red\"\n  }\n  console.log(toret);\n\n  return toret;\n}\n\ncreateHeading(text) {\n  return new Paragraph(text).heading1().thematicBreak();\n}\n\ndownloadWord(){\n  var document = new Document();\n  // document.addParagraph(new Paragraph(\"Rapport opmerkingen\").title());\n  document.addParagraph(this.createHeading(\"Rapport opmerkingen\"));\n  document.addParagraph(new Paragraph().addRun(new TextRun(\"Gegenereerd op: \" + this.today.toLocaleString()).bold().break()));\n\n  document.addParagraph(new Paragraph(\"Toegepaste filters: \"));\n\n  document.addParagraph(new Paragraph(\"leerling(en): \" + this.getFilteredStudents()).bullet());\n  document.addParagraph(new Paragraph(\"van: \" + this.filterDateFrom).bullet());\n  document.addParagraph(new Paragraph(\"tot: \" + this.filterDateTo).bullet());\n  document.addParagraph(new Paragraph(\"door: \" + this.getFilteredAuthors()).bullet());\n  document.addParagraph(new Paragraph(\"ernst: \" + this.getFilteredSeverities()).bullet());\n\n  document.addParagraph(new Paragraph(\"Voor de opgegeven filters werden \" + this.filteredRemarks.length + \" opmerkingen gevonden.\"));\n  \n  const table = document.createTable(this.filteredRemarks.length, 5);\n  table.getRow(0).getCell(0).CellProperties.setWidth(8, WidthType.PERCENTAGE);\n  table.getRow(0).getCell(1).CellProperties.setWidth(25, WidthType.PERCENTAGE);\n  table.getRow(0).getCell(2).CellProperties.setWidth(30, WidthType.PERCENTAGE);\n  table.getRow(0).getCell(3).CellProperties.setWidth(12, WidthType.PERCENTAGE);\n  table.getRow(0).getCell(4).CellProperties.setWidth(25, WidthType.PERCENTAGE);\n\n  for(var i=0; i< this.filteredRemarks.length; i++){\n    table.getRow(i).getCell(0).addContent(new Paragraph(this.filteredRemarks[i][10]));\n    table.getRow(i).getCell(1).addContent(new Paragraph(this.filteredRemarks[i][9] + \" \" + this.filteredRemarks[i][8]));\n    // table.getRow(i).getCell(2).addContent(new Paragraph(this.filteredRemarks[i][3] + \" - \" + this.filteredRemarks[i][2]));\n    table.getRow(i).getCell(2).addContent(new Paragraph(this.filteredRemarks[i][3] + \" - \" + this.filteredRemarks[i][2]));\n    let remarkColor: string = this.getRemarkColor(this.filteredRemarks[i][3]);\n    table.getRow(i).getCell(2).CellProperties.Borders.addBottomBorder(BorderStyle.DOUBLE, 3, remarkColor);\n    table.getRow(i).getCell(3).addContent(new Paragraph(this.filteredRemarks[i][1]));\n    table.getRow(i).getCell(4).addContent(new Paragraph(this.filteredRemarks[i][6] + \" \" + this.filteredRemarks[i][7]));\n\n  }\n  \n  const packer = new Packer();\n\n  packer.toBlob(document).then(blob => {\n    console.log(blob);\n    FileSaver.saveAs(blob, \"scalliTest.docx\");\n    console.log(\"Document created successfully\");\n  });\n}\n\ndoUpdateNotification(){\n  this.applyTodayFilter();\n}\n\napplyTodayFilter(){\n  let remarksFilter: RemarkFilterForm;\n  remarksFilter = new RemarkFilterForm();\n  remarksFilter.fromDate = this.filterForm.get('filterDateTo').value; //TODAY\n  remarksFilter.toDate = this.filterForm.get('filterDateTo').value; //TODAY\n  remarksFilter.authorId = 0;\n  remarksFilter.studentId = JSON.parse(localStorage.getItem('currentUser')).id;\n  remarksFilter.schoolClassId = 0;\n\n  remarksFilter.severities = [];\n  remarksFilter.severities.push(1);\n  remarksFilter.severities.push(2);\n  remarksFilter.severities.push(3);\n  remarksFilter.severities.push(4);\n\n//    for(let i=0; i< 2000; i++ ){\n   //console.log(i);\n   this.showNotification = true;\n    this.model.getStudentsOwnFilteredRemarks(remarksFilter);\n\n    this.filterChangedNotApplied = false;\n//    }\n}\n\n  applyFilter(){\n    let remarksFilter: RemarkFilterForm;\n    remarksFilter = new RemarkFilterForm();\n    remarksFilter.fromDate = this.filterForm.get('filterDateFrom').value;\n    remarksFilter.toDate = this.filterForm.get('filterDateTo').value;\n\n    remarksFilter.authorId = 0;\n    remarksFilter.studentId = this.selectedStudent.id;\n\n    remarksFilter.severities = [];\n    if(this.filterForm.get('filterSeverity1').value){\n      remarksFilter.severities.push(1);\n    }\n    else {\n      remarksFilter.severities.push(0);\n    }\n    if(this.filterForm.get('filterSeverity2').value){\n      remarksFilter.severities.push(2);\n    }\n    else {\n      remarksFilter.severities.push(0);\n    }\n    if(this.filterForm.get('filterSeverity3').value){\n      remarksFilter.severities.push(3);\n    }\n    else {\n      remarksFilter.severities.push(0);\n    }\n    if(this.filterForm.get('filterSeverity4').value){\n      remarksFilter.severities.push(4);\n    }\n    else {\n      remarksFilter.severities.push(0);\n    }\n\n//    for(let i=0; i< 2000; i++ ){\n     //console.log(i);\n      this.model.getStudentsOwnFilteredRemarks(remarksFilter);\n//    }\n    \n\n    this.filterChangedNotApplied = false;\n  }\n\n  onExtraInfo(extra){\n    if(extra){\n      this.extraInfoSelected = extra;\n      this.displayExtraInfo = 'block';\n    }\n  }\n  \n  hideExtraInfo(){\n    this.displayExtraInfo = 'none';\n  }\n\n  h24(){\n    this.setDates(0);\n    this.filterChangedNotApplied = true;\n  }\n\n  h48(){\n    this.setDates(1);\n    this.filterChangedNotApplied = true;\n  }\n\n  h72(){\n    this.setDates(2);\n    this.filterChangedNotApplied = true;\n  }\n\n  d7(){\n    this.setDates(7);\n    this.filterChangedNotApplied = true;\n  }\n\n  d30(){\n    this.setDates(30);\n    this.filterChangedNotApplied = true;\n  }\n\n  d90(){\n    this.setDates(90);\n    this.filterChangedNotApplied = true;\n  }\n\n  remarkFilterChanged() {\n    this.filterChangedNotApplied = true;\n    console.log(this.filterForm.get('filterSeverity1').value);\n  }\n\n  \n  setSeverity1(){\n      this.filterSeverity1 = this.filterForm.get('filterSeverity1').value;\n  }\n\n  setSeverity2(){\n    this.filterSeverity2 = this.filterForm.get('filterSeverity2').value;\n}\n\nsetSeverity3(){\n  this.filterSeverity3 = this.filterForm.get('filterSeverity3').value;\n}\n\nsetSeverity4(){\n  this.filterSeverity4 = this.filterForm.get('filterSeverity4').value;\n}\n\nprivate setDates(startDateDays: number){\n  var start = new Date(this.today.getTime());\n  start.setDate(this.today.getDate() - startDateDays);\n  this.filterDateFrom = formatDate(start, 'yyyy-MM-dd', 'en');\n  this.filterDateTo = formatDate(this.today, 'yyyy-MM-dd', 'en');\n  this.filterForm.controls['filterDateFrom'].setValue(this.filterDateFrom);\n  this.filterForm.controls['filterDateTo'].setValue(this.filterDateTo);\n}\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N0dWRlbnRzL3N0dWRlbnRzLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<div class=\\\"w3-container\\\">\\n  <div class=\\\"w3-tiny w3-text-grey w3-padding\\\">{{HTMLtext[136]}}</div>\\n\\n  <div id=\\\"overview_students\\\" class=\\\"w3-row w3-container full-height city\\\">\\n    <div class=\\\"w3-row w3-col m11 w3-right-align w3-padding-small\\\">\\n      <button onclick=\\\"document.getElementById('add').style.display='block'\\\" (click)=\\\"getSchoolyears()\\\"\\n        class=\\\"w3-button w3-green w3-padding w3-margin\\\"><i class=\\\"fa fa-plus-circle\\\" aria-hidden=\\\"true\\\"></i>\\n        {{HTMLtext[137]}}</button>\\n      <button onclick=\\\"document.getElementById('add_bulk').style.display='block'\\\" (click)=\\\"getSchoolyears()\\\"\\n        class=\\\"w3-button w3-green w3-padding w3-margin\\\"><i class=\\\"fa fa-plus-circle\\\" aria-hidden=\\\"true\\\"></i>\\n        {{HTMLtext[138]}}</button>\\n      <button (click)=\\\"refresh()\\\" class=\\\"w3-button w3-yellow w3-padding w3-margin\\\"><i class=\\\"fa fa-refresh\\\"\\n          aria-hidden=\\\"true\\\"></i>\\n          {{HTMLtext[122]}}</button>\\n    </div>\\n    <div class=\\\"w3-row\\\">\\n      <div class=\\\"w3-col m11 w3-center\\\">\\n        <div class=\\\"w3-responsive\\\">\\n          <table class=\\\"w3-table-all w3-card-4\\\">\\n            <tr>\\n              <th>{{HTMLtext[139]}}</th>\\n              <th>{{HTMLtext[124]}}</th>\\n              <th>{{HTMLtext[125]}}</th>\\n              <th>{{HTMLtext[126]}}</th>\\n              <th>{{HTMLtext[127]}}</th>\\n              <th>{{HTMLtext[109]}}</th>\\n              <th>{{HTMLtext[110]}}</th>\\n            </tr>\\n            <tr *ngFor=\\\"let student of students\\\" [ngClass]=\\\"{'w3-text-grey': !student.active}\\\">\\n              <td>{{student.classSchoolyears[0].schoolClass}}</td>\\n              <td>{{student.lastName}}</td>\\n              <td>{{student.firstName}}</td>\\n              <td>{{student.email}}</td>\\n              <td *ngIf=\\\"student.active\\\"><i class=\\\"fa fa-check-square w3-text-green\\\"></i></td>\\n              <td *ngIf=\\\"!student.active\\\"><i class=\\\"fa fa-times w3-text-red\\\"></i></td>\\n              <td><button (click)=onEdit(student.id) onclick=\\\"document.getElementById('edit').style.display='block'\\\"><i\\n                    class=\\\"fa fa-pencil-square-o\\\" aria-hidden=\\\"true\\\"></i></button></td>\\n              <td><button (click)=onDelete(student.id)\\n                  onclick=\\\"document.getElementById('delete').style.display='block'\\\"><i class=\\\"fa fa-window-close\\\"\\n                    aria-hidden=\\\"true\\\"></i></button></td>\\n            </tr>\\n          </table>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<div id=\\\"edit\\\" class=\\\"w3-modal\\\">\\n  <div class=\\\"w3-modal-content w3-animate-top\\\">\\n    <form [formGroup]=\\\"editForm\\\" (ngSubmit)=\\\"saveEditedUser()\\\">\\n      <div class=\\\"w3-card-4 w3-light-grey\\\">\\n        <header class=\\\"w3-container w3-orange\\\">\\n          <span onclick=\\\"document.getElementById('edit').style.display='none'\\\"\\n            class=\\\"w3-button w3-display-topright\\\">&times;</span>\\n          <h2>{{HTMLtext[140]}}</h2>\\n        </header>\\n        <div class=\\\"w3-container\\\">\\n          <div class=\\\"w3-row\\\">\\n            <div class=\\\"w3-container\\\">\\n              <p class=\\\"w3-col l6 w3-padding\\\">\\n                <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[124]}}</b></label>\\n                <input class=\\\"w3-input w3-border\\\" name=\\\"last\\\" type=\\\"text\\\" formControlName=\\\"lastname\\\"></p>\\n              <p class=\\\"w3-col l6 w3-padding\\\">\\n                <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[125]}}</b></label>\\n                <input class=\\\"w3-input w3-border w3-lightgrey\\\" name=\\\"first\\\" type=\\\"text\\\" formControlName=\\\"firstname\\\"></p>\\n            </div>\\n          </div>\\n          <div class=\\\"w3-row\\\">\\n            <p class=\\\"w3-col l6 w3-padding\\\">\\n              <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[126]}}</b></label>\\n              <input class=\\\"w3-input w3-border w3-lightgrey\\\" name=\\\"last\\\" type=\\\"text\\\" formControlName=\\\"email\\\"></p>\\n            <p class=\\\"w3-col l6 w3-padding-large\\\">\\n              <input class=\\\"w3-check\\\" type=\\\"checkbox\\\" name=\\\"active\\\" formControlName=\\\"active\\\" [checked]=\\\"toEdit.active\\\">\\n              <label>{{HTMLtext[127]}}</label></p>\\n          </div>\\n          <p class=\\\" w3-center\\\">\\n            <button type=\\\"button\\\" (click)=\\\"saveEditedUser()\\\" class=\\\"w3-btn w3-blue\\\"\\n              onclick=\\\"document.getElementById('edit').style.display='none'\\\">{{HTMLtext[114]}}</button></p>\\n        </div>\\n      </div>\\n    </form>\\n\\n    <form [formGroup]=\\\"classForm\\\" (ngSubmit)=\\\"saveEditedClass()\\\">\\n      <div class=\\\"w3-card-4 w3-padding-small w3-light-grey\\\">\\n        <div class=\\\"w3-container w3-orange\\\">\\n          <h2>{{HTMLtext[141]}}</h2>\\n        </div>\\n        <div *ngIf=\\\"(toEdit | json) != '{}'\\\" class=\\\"w3-container\\\">\\n          <p >\\n            {{HTMLtext[142]}}: {{toEdit.firstName}} {{toEdit.lastName}}, {{HTMLtext[143]}} {{toEdit.classSchoolyears[0].schoolClass}}</p>\\n          <div class=\\\"w3-row\\\">\\n              <p class=\\\"w3-col l6 w3-padding\\\">\\n                  <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[144]}}</b></label>\\n                  <select class=\\\"w3-select\\\" name=\\\"class\\\" type=\\\"text\\\" formControlName=\\\"class\\\">\\n                    <option *ngFor=\\\"let classSchoolyear of classSchoolyears\\\" [ngValue]=\\\"classSchoolyear.class_schoolyear_id\\\"\\n                    [selected]=\\\"classSchoolyear.class_schoolyear_id == toEdit.classSchoolyears[0].class_schoolyear_id\\\">\\n                      {{classSchoolyear.schoolClass}}\\n                    </option>\\n                  </select></p>\\n          </div>\\n          <p class=\\\" w3-center\\\">\\n            <button class=\\\"w3-btn w3-blue\\\" onclick=\\\"document.getElementById('edit').style.display='none'\\\">\\n              {{HTMLtext[145]}}\\n            </button></p>\\n        </div>\\n      </div>\\n    </form>\\n\\n    <form [formGroup]=\\\"passwordForm\\\" (ngSubmit)=\\\"saveEditedPassword()\\\">\\n      <div class=\\\"w3-card-4 w3-padding-small w3-light-grey\\\">\\n        <div class=\\\"w3-container w3-orange\\\">\\n          <h2>{{HTMLtext[128]}}</h2>\\n        </div>\\n        <div class=\\\"w3-container\\\">\\n          <p *ngIf=\\\"toEdit\\\">\\n            {{HTMLtext[142]}}: {{toEdit.firstName}} {{toEdit.lastName}}</p>\\n          <div class=\\\"w3-row\\\">\\n            <p class=\\\"w3-col l6 w3-padding\\\">\\n              <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[41]}}</b></label>\\n              <input (input)=\\\"checkPasswordMatchEdit()\\\" class=\\\"w3-input w3-border\\\" name=\\\"password\\\" type=\\\"text\\\" formControlName=\\\"password\\\"></p>\\n            <p class=\\\"w3-col l6 w3-padding\\\">\\n              <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[42]}}</b></label>\\n              <input (input)=\\\"checkPasswordMatchEdit()\\\" class=\\\"w3-input w3-border\\\" name=\\\"passwordagain\\\" type=\\\"text\\\" formControlName=\\\"passwordagain\\\"></p>\\n          </div>\\n          <p class=\\\" w3-center\\\">\\n            <button [disabled]=\\\"passwordForm.invalid\\\" class=\\\"w3-btn w3-blue\\\" onclick=\\\"document.getElementById('edit').style.display='none'\\\">\\n              {{HTMLtext[43]}}\\n            </button></p>\\n        </div>\\n      </div>\\n    </form>\\n  </div>\\n</div>\\n\\n<div id=\\\"add\\\" class=\\\"w3-modal\\\">\\n  <div class=\\\"w3-modal-content w3-animate-top\\\">\\n    <div class=\\\"w3-card-4 w3-light-grey\\\">\\n      <header class=\\\"w3-container w3-green\\\">\\n        <span onclick=\\\"document.getElementById('add').style.display='none'\\\"\\n          class=\\\"w3-button w3-display-topright\\\">&times;</span>\\n        <h2>{{HTMLtext[137]}}</h2>\\n      </header>\\n      <div class=\\\"w3-container\\\">\\n        <form class=\\\"w3-container\\\" [formGroup]=\\\"addForm\\\" (ngSubmit)=\\\"signupUser()\\\">\\n          <p class=\\\"w3-col l6 w3-padding\\\">\\n            <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[139]}}</b></label>\\n            <select class=\\\"w3-select\\\" name=\\\"class\\\" type=\\\"text\\\" formControlName=\\\"class\\\">\\n              <option *ngFor=\\\"let classSchoolyear of classSchoolyears\\\" [value]=\\\"classSchoolyear.class_schoolyear_id\\\">\\n                {{classSchoolyear.schoolClass}}\\n              </option>\\n            </select></p>\\n          <div class=\\\"w3-text-red\\\" *ngIf=\\\"addForm.get('class').touched && addForm.get('class').invalid\\\">\\n            {{HTMLtext[105]}}\\n          </div>\\n          <p>\\n            <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[124]}}</b></label>\\n            <input class=\\\"w3-input w3-border\\\" name=\\\"lastname\\\" type=\\\"text\\\" formControlName=\\\"lastname\\\"></p>\\n          <div class=\\\"w3-text-red\\\" *ngIf=\\\"addForm.get('lastname').touched && addForm.get('lastname').invalid\\\">\\n            {{HTMLtext[105]}}\\n          </div>\\n          <p>\\n            <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[125]}}</b></label>\\n            <input class=\\\"w3-input w3-border w3-lightgrey\\\" name=\\\"firstname\\\" type=\\\"text\\\" formControlName=\\\"firstname\\\"></p>\\n          <div class=\\\"w3-text-red\\\" *ngIf=\\\"addForm.get('firstname').touched && addForm.get('firstname').invalid\\\">\\n            {{HTMLtext[105]}}\\n          </div>\\n          <p>\\n            <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[126]}}</b></label>\\n            <input class=\\\"w3-input w3-border w3-lightgrey\\\" name=\\\"email\\\" type=\\\"text\\\" formControlName=\\\"email\\\"></p>\\n          <div class=\\\"w3-text-red\\\" *ngIf=\\\"addForm.get('email').touched && addForm.get('email').invalid\\\">\\n            {{HTMLtext[105]}}\\n          </div>\\n          <p>\\n            <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[41]}}</b></label>\\n            <input (input)=\\\"checkPasswordMatch()\\\" class=\\\"w3-input w3-border w3-lightgrey\\\" name=\\\"password\\\" type=\\\"text\\\" formControlName=\\\"password\\\"></p>\\n          <div class=\\\"w3-text-red\\\" *ngIf=\\\"addForm.get('password').touched && addForm.get('password').invalid\\\">\\n            {{HTMLtext[105]}}\\n          </div>\\n          <p>\\n            <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[42]}}</b></label>\\n            <input (input)=\\\"checkPasswordMatch()\\\" class=\\\"w3-input w3-border w3-lightgrey\\\" name=\\\"passwordagain\\\" type=\\\"text\\\"\\n              formControlName=\\\"passwordagain\\\"></p>\\n          <div class=\\\"w3-text-red\\\" *ngIf=\\\"!passwordsMatch\\\">\\n            {{HTMLtext[146]}}\\n          </div>\\n          <p>\\n            <input class=\\\"w3-check\\\" type=\\\"checkbox\\\" name=\\\"active\\\" checked=\\\"checked\\\" formControlName=\\\"active\\\">\\n            <label>{{HTMLtext[127]}}</label></p>\\n          <p class=\\\" w3-center\\\">\\n            <button [disabled]=\\\"addForm.invalid\\\" type=\\\"button\\\" class=\\\"w3-btn w3-blue\\\" (click)=\\\"signupUser()\\\"\\n              onclick=\\\"document.getElementById('add').style.display='none'\\\">{{HTMLtext[117]}}</button></p>\\n        </form>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n\\n<div id=\\\"add_bulk\\\" class=\\\"w3-modal\\\">\\n  <div class=\\\"w3-modal-content w3-animate-top\\\">\\n    <form>\\n      <div class=\\\"w3-card-4 w3-light-grey\\\">\\n        <header class=\\\"w3-container w3-green\\\">\\n          <span onclick=\\\"document.getElementById('add_bulk').style.display='none'\\\"\\n            class=\\\"w3-button w3-display-topright\\\">&times;</span>\\n          <h2>{{HTMLtext[138]}}</h2>\\n        </header>\\n        <div class=\\\"w3-container\\\">\\n          <form class=\\\"w3-container\\\">\\n            <p>\\n              <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[153]}} {{getCurrentSchoolyearText()}}</b></label>\\n            </p>\\n              <p class=\\\" w3-center\\\">\\n              <button class=\\\"w3-btn w3-blue\\\" (click)=\\\"downloadWord()\\\">\\n                  <i class=\\\"w3-indigo fa fa-file-word-o\\\" aria-hidden=\\\"true\\\"></i>\\n                Download classcodes\\n              </button>\\n            </p>\\n            <p><label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[133]}}</b></label>\\n              <input type=\\\"file\\\" (change)=\\\"fileChangeListener($event)\\\" name=\\\"myfile\\\"></p>\\n            <p class=\\\" w3-center\\\">\\n              <button [disabled]=\\\"csvRecords.length == 0\\\" class=\\\"w3-btn w3-blue\\\" (click)=\\\"createBulkAccounts()\\\"\\n                onclick=\\\"document.getElementById('add_bulk').style.display='none'\\\">{{HTMLtext[148]}}</button></p>\\n          </form>\\n        </div>\\n      </div>\\n    </form>\\n  </div>\\n</div>\\n\\n<div id=\\\"delete\\\" class=\\\"w3-modal\\\">\\n  <div class=\\\"w3-modal-content w3-animate-top\\\">\\n    <header class=\\\"w3-container w3-red\\\">\\n      <span onclick=\\\"document.getElementById('delete').style.display='none'\\\"\\n        class=\\\"w3-button w3-display-topright\\\">&times;</span>\\n      <h2>{{HTMLtext[149]}}</h2>\\n    </header>\\n    <div class=\\\"w3-container w3-center\\\">\\n      <p *ngIf(toDelete)>{{HTMLtext[135]}} {{toDelete.lastName}} {{toDelete.firstName}}?\\n    </div>\\n    <div class=\\\"w3-container w3-padding-small w3-center\\\">\\n      <button class=\\\"w3-button w3-red w3-margin\\\" (click)=\\\"onDeleteFinal()\\\"\\n        onclick=\\\"document.getElementById('delete').style.display='none'\\\"> {{HTMLtext[27]}}</button>\\n      <button onclick=\\\"document.getElementById('delete').style.display='none'\\\" class=\\\"w3-button w3-grey w3-margin\\\"> \\n        {{HTMLtext[28]}}\\n      </button>\\n    </div>\\n  </div>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport {FormGroup, FormBuilder, Validators} from \"@angular/forms\";\nimport {formatDate} from '@angular/common';\n\nimport { Student } from \"../model/student.model\";\nimport { SignupUser } from \"../model/signupUser.model\";\nimport { Model } from \"../model/repository.model\";\nimport { Schoolyear } from '../model/schoolyear.model';\nimport { Class_schoolyear } from '../model/class_schoolyear.model';\n\nimport { FileUtil }                     from '../csvutils/file.util';\nimport { Constants }                    from '../csvutils/tests.constants';\n\nimport { refreshDescendantViews } from '@angular/core/src/render3/instructions';\nimport { ActivatedRoute, Router } from '@angular/router';\n\nimport { Document, Paragraph, Packer, TextRun, BorderStyle } from \"docx\";\nimport { WidthType } from \"docx\";\nimport * as FileSaver from 'file-saver';\n\n@Component({\n  selector: 'app-students',\n  templateUrl: './students.component.html',\n  styleUrls: ['./students.component.css']\n})\nexport class StudentsComponent implements OnInit {\n\n  students: Student[];\n  signUp: SignupUser;\n  signUps: SignupUser[] = [];\n  toEdit: Student;\n  editedStudent: Student;\n  toDelete: Student;\n  csvContent: string;\n  parsedCsv: string[][];\n  test: string;\n  schoolyears: Schoolyear[];\n  classSchoolyears: Class_schoolyear[];\n  passwordsMatch: boolean;\n\n  csvRecords = [];\n\n  addForm: FormGroup;\n  editForm: FormGroup;\n  passwordForm: FormGroup;\n  classForm: FormGroup;\n\n // currentSchoolyear: Schoolyear;\n\n  HTMLtext;\n\n  constructor(\n    private model: Model,\n    private formBuilder: FormBuilder,\n    private _fileUtil: FileUtil,\n    activeRoute: ActivatedRoute,\n    private router: Router) { \n  }\n \n  ngOnInit() {     \n    this.HTMLtext = JSON.parse(localStorage.getItem('multiLangText'));\n//    this.currentSchoolyear = this.initCurrentSchoolyear();\n    this.parsedCsv = [];\n    // this.students = this.model.getStudents();\n    // this.schoolyears = this.model.getSchoolyears();\n    // this.classSchoolyears = this.model.getClassSchoolyears();\n\n    // if( this.model.getStudentsFromRAM().length > 0){\n    //   this.students = this.model.getStudentsFromRAM();\n    // }\n    // else{\n    //   this.students = this.model.getStudents();\n    // }\n    // this.students = JSON.parse(localStorage.getItem('students'));\n    \n    // if( this.model.getClassSchoolyearsFromRAM().length > 0){\n    //   this.classSchoolyears = this.model.getClassSchoolyearsFromRAM();\n    // }\n    // else{\n    //   this.classSchoolyears = this.model.getClassSchoolyears();\n    // }\n\n    // if( this.model.getSchoolyearsFromRAM().length > 0){\n    //   this.schoolyears = this.model.getSchoolyearsFromRAM();\n    // }\n    // else{\n    //   this.schoolyears = this.model.getSchoolyears();\n    // }\n\n    if( localStorage.getItem('schoolyears')){\n      this.schoolyears = JSON.parse(localStorage.getItem('schoolyears'));\n      console.log(\"logging schoolyears\");\n      console.log(\"äébà\");\n      console.log(JSON.parse(localStorage.getItem('schoolyears')));\n    }\n    else{\n      this.schoolyears = this.model.getSchoolyears();\n    }\n\n    if( localStorage.getItem('classSchoolyears')){\n      this.classSchoolyears = JSON.parse(localStorage.getItem('classSchoolyears'));\n      console.log(\"logging classSchoolyears\");\n      console.log(JSON.parse(localStorage.getItem('classSchoolyears')));\n    }\n    else{\n      // this.classSchoolyears = this.model.getClassSchoolyears();\n      // if(localStorage.getItem('currentSchoolyearId')){\n        this.classSchoolyears = this.model.getClassSchoolyearsBySchoolyear();\n      // }\n    }\n\n    // this.model.classSchoolyearsLoaded.subscribe(\n    //   data => {\n    //     this.classSchoolyears = JSON.parse(localStorage.getItem('classSchoolyears'));\n    //     console.log(\"data arrived\");\n    //     console.log(this.classSchoolyears[0].schoolClass);\n    //   }\n    // );\n\n    // this.schoolyears = JSON.parse(localStorage.getItem('schoolyears'));\n    this.classSchoolyears = this.model.getClassSchoolyearsFromRAM();\n\n    this.signUp = { }; \n    console.log(this.students);\n\n    this.toEdit ={};\n\n    this.initForms();\n\n    if( localStorage.getItem('students')){\n      this.students = JSON.parse(localStorage.getItem('students'));\n    }\n    else{\n      this.students = this.model.getStudents();\n    }\n  \n    this.model.studentsChangeDetected.subscribe(\n      (message: String) => {\n        // console.log(\"studentschangedetected in addremark. Students updated.\")\n        // console.log(localStorage.getItem('students').toString());\n        // this.allStudents = JSON.parse(localStorage.getItem('students'));\n        this.students = JSON.parse(localStorage.getItem('students'));\n      });\n    \n    // this.model.studentsChangeDetected.subscribe(\n    //   (data: []) => {\n    //     // this.students = this.model.getStudentsFromRAM();\n    //     console.log(this.students);\n    //     this.students = JSON.parse(localStorage.getItem('students'));\n    //     //this.students = data;\n    //     this.classSchoolyears = this.model.getClassSchoolyearsFromRAM();\n    //     this.schoolyears = this.model.getSchoolyearsFromRAM();\n    //   })\n  }\n\n  // ngDoCheck() {\n  //   // this.refresh();\n  // }\n\n  refresh(){\n    this.students = this.model.getStudents();\n    // this.students = this.model.getStudentsFromRAM();\n    // console.log(this.students);\n  }\n\n  getSchoolyears(){\n    if( localStorage.getItem('classSchoolyears')){\n      this.classSchoolyears = JSON.parse(localStorage.getItem('classSchoolyears'));\n      console.log(\"logging classSchoolyears\");\n      console.log(JSON.parse(localStorage.getItem('classSchoolyears')));\n    }\n    else{\n      // this.classSchoolyears = this.model.getClassSchoolyears();\n      // if(localStorage.getItem('currentSchoolyearId')){\n        this.classSchoolyears = this.model.getClassSchoolyearsBySchoolyear();\n      // }\n    }\n    // this.schoolyears = this.model.getSchoolyearsFromRAM();\n    // if( this.model.getClassSchoolyearsFromRAM()){\n    //   this.classSchoolyears = this.model.getClassSchoolyearsFromRAM();\n    // }\n  }\n\n  signupUser(){\n  //  for(var i=1; i<1400; i++){\n        console.log(\"entering signupUser...\");\n        this.signUp.firstName = this.addForm.get('firstname').value;\n        this.signUp.lastName = this.addForm.get('lastname').value;\n        this.signUp.username = this.addForm.get('email').value;\n        this.signUp.email =  this.addForm.get('email').value;\n        this.signUp.password = this.addForm.get('password').value;\n        this.signUp.active = this.addForm.get('active').value;\n        this.signUp.language = \"nl\";\n        this.signUp.lastLoginDate = \"\";//formatDate(new Date(), 'yyyy/MM/dd', 'en');\n        this.signUp.roles = [\n          {\n              \"id\": 1,\n              \"name\": \"ROLE_STUDENT1\"\n          }\n        ];\n        \n        // this.signUp.classSchoolyears = [];\n        // this.signUp.classSchoolyears = this.getClassSchoolyearById(this.addForm.get('class').value);\n        this.signUp.classSchoolyears = this.getClassSchoolyearById(this.addForm.get('class').value);\n        console.log(\"this.signUp: \");\n        console.log(this.signUp);\n\n//         this.signUp.error = \"\";\n//         this.signUp.schoolClass = \"\";\n//         this.signUp.schoolyear = {\n//           id: 1,\n//           schoolyear: \"2017-2018\"\n//  //       };\n//         };\n        this.addForm.setValidators(this.passwordMatchValidator);\n        this.addForm.updateValueAndValidity();\n        if (this.addForm.valid) {\n          console.log(\"AddForm is valid\");\n          this.model.signUpStudent(this.signUp);\n          this.addForm.reset();\n        }\n        else {\n          console.log(\"There is still an error in the form\");\n        }\n//    this.refresh();\n  }\n\n  // getClassSchoolyearByItsId(id): Class_schoolyear {\n  //   return this.classSchoolyears.find(x => x.class_schoolyear_id === id);\n  // }\n\n  getCurrentSchoolyearText(): string {\n    if(localStorage.getItem('currentSchoolyearId')){\n      return this.schoolyears.find(x => x.id === JSON.parse(localStorage.getItem('currentSchoolyearId'))).schoolyear;\n    }\n    return \"null\";\n  }\n\n  checkPasswordMatch(){\n    console.log(\"checking password match... \");\n    if(this.addForm.get('password').value == this.addForm.get('passwordagain').value ){\n      console.log(\"true\");\n      this.passwordsMatch = true;\n    }\n    else {\n      console.log(\"false\");\n      this.passwordsMatch = false;\n    }\n  }\n\n  checkPasswordMatchEdit(){\n    console.log(\"checking password match... \");\n    if(this.passwordForm.get('password').value == this.passwordForm.get('passwordagain').value ){\n      console.log(\"true\");\n      this.passwordsMatch = true;\n    }\n    else {\n      console.log(\"false\");\n      this.passwordsMatch = false;\n    }\n  }\n\n  onEdit(i: number){\n    this.editForm.reset();\n    this.passwordForm.reset();\n    this.classForm.reset();\n    this.getSchoolyears();\n    console.log(i);\n    this.toEdit = this.model.getStudent(i);\n    console.log(this.toEdit);\n    console.log('classSchoolyears in model:');\n    console.log(this.model.getClassSchoolyearsFromRAM());\n    console.log('class value in html: ');\n    console.log(this.classForm.get('class').value);\n    console.log(\"toEdit class_schoolyear_id\" + this.toEdit.classSchoolyears[0].class_schoolyear_id);\n    this.editForm.setValue({\n      // schoolClass: this.getClassSchoolyearById(this.toEdit.classSchoolyears[0].class_schoolyear_id),\n      lastname: this.toEdit.lastName,\n      firstname: this.toEdit.firstName,\n      email: this.toEdit.email,\n      active: this.toEdit.active\n    });\n    this.classForm.setValue({\n      class: this.toEdit.classSchoolyears[0].class_schoolyear_id\n    });\n  }\n\n  onDelete(i: number){\n    console.log(i);\n    this.toDelete = this.model.getStudent(i);\n  }\n\n  onDeleteFinal(){\n    this.model.deleteStudent(this.toDelete.id);\n    this.toDelete = {}; \n  }\n\n  saveEditedUser(){\n    this.editedStudent = this.toEdit;\n    this.editedStudent.firstName = this.editForm.get('firstname').value;\n    this.editedStudent.lastName = this.editForm.get('lastname').value;\n    this.editedStudent.username = this.editForm.get('email').value;\n    this.editedStudent.email =  this.editForm.get('email').value;\n    this.editedStudent.active = this.editForm.get('active').value;\n\n    console.log(this.editedStudent);\n    this.model.updateStudentInfo(this.editedStudent);\n    this.toEdit={};\n  }\n\n  saveEditedPassword(){\n    this.model.updateStudentPassword(\n      {\n        id: this.toEdit.id,\n        password: this.passwordForm.get('password').value\n      }\n    );\n    this.toEdit={};\n    this.passwordForm.setValue({\n      password: \"\",\n      passwordagain: \"\"\n    });\n  }\n\n  saveEditedClass(){\n    this.toEdit.classSchoolyears = this.getClassSchoolyearById(this.classForm.get('class').value);\n    this.model.updateStudent(this.toEdit);\n    this.toEdit={};\n  }\n\n  private getClassSchoolyearById(id: number): Class_schoolyear[]{\n    for(var i=0; i<this.classSchoolyears.length;i++){\n      console.log(\"this.classSchoolyears[i].class_schoolyear_id: \" + this.classSchoolyears[i].class_schoolyear_id);\n      console.log(\"this.addForm.get('class').value: \" + id);\n\n      if(this.classSchoolyears[i].class_schoolyear_id == id){\n        return [{\n          \"class_schoolyear_id\": this.classSchoolyears[i].class_schoolyear_id,\n          \"schoolClass\": this.classSchoolyears[i].schoolClass,\n          \"schoolyear_id\": this.classSchoolyears[i].schoolyear_id\n        }\n      ]\n      }//end of if\n    }//end of for\n  }\n\n   // METHOD CALLED WHEN CSV FILE IS IMPORTED\n   fileChangeListener($event): void {\n \n    var text = [];\n    var files = $event.srcElement.files;\n \n    if(Constants.validateHeaderAndRecordLengthFlag){\n      if(!this._fileUtil.isCSVFile(files[0])){\n        alert(\"Please import valid .csv file.\");\n        this.fileReset();\n      }\n    }\n \n    var input = $event.target;\n    var reader = new FileReader();\n    reader.readAsText(input.files[0]);\n \n    reader.onload = (data) => {\n      let csvData = reader.result;\n      let csvRecordsArray = (<string> csvData).split(/\\r\\n|\\n/);\n \n      var headerLength = -1;\n      if(Constants.isHeaderPresentFlag){\n        let headersRow = this._fileUtil.getHeaderArray(csvRecordsArray, Constants.tokenDelimeter);\n        // headerLength = headersRow.length; \n        headerLength = 6;\n      }\n       \n      this.csvRecords = this._fileUtil.getDataRecordsArrayFromCSVFile(csvRecordsArray, \n          headerLength, Constants.validateHeaderAndRecordLengthFlag, Constants.tokenDelimeter);\n      \n      console.log(this.csvRecords);    \n          \n      if(this.csvRecords == null){\n        //If control reached here it means csv file contains error, reset file.\n        this.fileReset();\n      }    \n    }\n \n    reader.onerror = function () {\n      alert('Unable to read ' + input.files[0]);\n    };\n  };\n \n  fileReset(){\n   //TODO\n    //this.fileImportInput.nativeElement.value = \"\";\n    this.csvRecords = [];\n  }\n\n  createBulkAccounts(){\n    console.log(\"Entering createBulkAccounts...\");\n    console.log(this.csvRecords);\n    // console.log(this.model.parsedCsv);\n    // console.log(\"test: \" + this.test);\n    this.signUps = [];\n    let i=0;\n    this.csvRecords.forEach(line => {\n //         console.log(\"adding new signupUser...\");\n          var newSignUp: SignupUser = {};\n          newSignUp.firstName = line[0];\n          newSignUp.lastName = line[1];\n          newSignUp.username = line[2];\n          newSignUp.email =  line[2];\n          newSignUp.password = line[3];\n          if(line[4] == \"0\"){\n            newSignUp.active = false;\n          } else {newSignUp.active = true;}\n          newSignUp.language = \"nl\";\n          newSignUp.lastLoginDate = \"\";//formatDate(new Date(), 'yyyy/MM/dd', 'en');\n          newSignUp.roles = [\n            {\n                \"id\": 1,\n                \"name\": \"ROLE_STUDENT1\"\n            }\n          ];\n          newSignUp.classSchoolyears = this.getClassSchoolyearById(line[5]);\n          // newSignUp.error = \"\";\n//          newSignUp.schoolClass = \"\";\n//          newSignUp.schoolyear = {\n          //   id: 1, \n          //   schoolyear: \"2017-2018\"\n          // }\n          this.model.signUpStudentNoGetStudents(newSignUp);\n          // if(i == (this.csvRecords.length-1)){\n          //   this.model.getStudents();\n          // }\n          // i++;\n//USE THIS TO SIGNUP MULTIPLE WITH ONE METHOD (NOT WORKING!)\n //         this.signUps.push(newSignUp);\n//          this.model.signUpStudent(newSignUp);\n          //console.log(newSignUp);\n    })\n//USE THIS ALSO TO SIGNUP MULTIPLE WITH ONE METHOD (NOT WORKING!)\n    //        this.model.signUpStudents(this.signUps);\n    this.refresh();   \n    this.csvRecords = [];\n  }\n\n  //Our own custom validator for checking password and passwordagain match\n  private passwordMatchValidator(group: FormGroup): any {\n    if (group) {\n      // console.log(\"checking password match: \");\n      // console.log(\"password: \" + group.get(\"password\").value);\n      // console.log(\"passwordagain: \" + group.get(\"passwordagain\").value);\n      if (group.get(\"password\").value !==group.get(\"passwordagain\").value) {\n        return { notMatching : true };\n      }\n    }\n    return null;\n  }\n  createHeading(text) {\n    return new Paragraph(text).heading1().thematicBreak();\n  }\n\n\n  downloadWord(){\n    var document = new Document();\n    // document.addParagraph(new Paragraph(\"Rapport opmerkingen\").title());\n    document.addParagraph(this.createHeading(\"Klascodes (\" + this.getCurrentSchoolyearText() + \")\"));\n    document.addParagraph(new Paragraph().addRun(new TextRun(\"Gegenereerd op: \" + new Date().toLocaleString()).bold().break()));\n \n    const table = document.createTable(this.classSchoolyears.length + 1, 2);\n    table.getRow(0).getCell(0).CellProperties.setWidth(20, WidthType.PERCENTAGE);\n    table.getRow(0).getCell(1).CellProperties.setWidth(25, WidthType.PERCENTAGE);\n    table.getRow(0).getCell(0).addContent(new Paragraph(\"code\"));\n    table.getRow(0).getCell(0).addContent(new Paragraph(\"klas\"));\n \n    for(var i=0; i< this.classSchoolyears.length; i++){\n      table.getRow(i+1).getCell(0).addContent(new Paragraph(this.classSchoolyears[i].class_schoolyear_id.toString()));\n      table.getRow(i+1).getCell(1).addContent(new Paragraph(this.classSchoolyears[i].schoolClass));\n    }\n    \n    const packer = new Packer();\n\n    packer.toBlob(document).then(blob => {\n      console.log(blob);\n      FileSaver.saveAs(blob, \"classcodes.docx\");\n      console.log(\"Document created successfully\");\n    });\n  }\n\n  private initForms(){\n    this.addForm = this.formBuilder.group ({\n      class: ['', Validators.required],\n      lastname: ['', Validators.required],\n      firstname: ['', Validators.required],\n      email: ['', Validators.required],\n      password: ['', Validators.required],\n      passwordagain: ['', Validators.required],\n      active: ['']\n    });\n    this.addForm.setValidators(this.passwordMatchValidator);\n\n    this.editForm = this.formBuilder.group ({\n      // schoolClass: ['', Validators.required],\n      lastname: ['', Validators.required],\n      firstname: ['', Validators.required],\n      email: ['', Validators.required],\n      active: ['']\n    })\n  \n    this.passwordForm = this.formBuilder.group ({\n      password: ['', Validators.required],\n      passwordagain: ['', Validators.required]\n    })\n    this.passwordForm.setValidators(this.passwordMatchValidator);\n\n    this.classForm = this.formBuilder.group ({\n      class: ['', Validators.required]\n    })\n  }\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RlYWNoZXJzL3RlYWNoZXJzLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<div class=\\\"w3-container\\\">\\n  <div class=\\\"w3-tiny w3-text-grey w3-padding\\\">{{HTMLtext[123]}}</div>\\n\\n  <div id=\\\"overview_teachers\\\" class=\\\"w3-row w3-container full-height city\\\">\\n    <div class=\\\"w3-row w3-col m11 w3-right-align w3-padding-small\\\">\\n      <button onclick=\\\"document.getElementById('add').style.display='block'\\\"\\n        class=\\\"w3-button w3-green w3-padding w3-margin\\\"><i class=\\\"fa fa-plus-circle\\\" aria-hidden=\\\"true\\\"></i>\\n        {{HTMLtext[120]}}\\n      </button>\\n      <button onclick=\\\"document.getElementById('add_bulk').style.display='block'\\\"\\n        class=\\\"w3-button w3-green w3-padding w3-margin\\\"><i class=\\\"fa fa-plus-circle\\\" aria-hidden=\\\"true\\\"></i>\\n        {{HTMLtext[121]}}\\n      </button>\\n        <button (click) = \\\"refresh()\\\" class=\\\"w3-button w3-yellow w3-padding w3-margin\\\"><i class=\\\"fa fa-refresh\\\" aria-hidden=\\\"true\\\"></i>\\n          {{HTMLtext[122]}}</button>\\n    </div>\\n    <div class=\\\"w3-row\\\">\\n      <div class=\\\"w3-col m11 w3-center\\\">\\n        <div class=\\\"w3-responsive\\\">\\n          <table class=\\\"w3-table-all w3-card-4\\\">\\n            <tr>\\n              <th>{{HTMLtext[124]}}</th>\\n              <th>{{HTMLtext[125]}}</th>\\n              <th>{{HTMLtext[126]}}</th>\\n              <th>{{HTMLtext[127]}}</th>\\n              <th>{{HTMLtext[109]}}</th>\\n              <th>{{HTMLtext[110]}}</th>\\n            </tr>\\n            <tr *ngFor=\\\"let teacher of teachers\\\"  [ngClass]=\\\"{'w3-text-grey': !teacher.active}\\\">\\n              <td>{{teacher.lastName}}</td>\\n              <td>{{teacher.firstName}}</td>\\n              <td>{{teacher.email}}</td>\\n              <td *ngIf=\\\"teacher.active\\\"><i class=\\\"fa fa-check-square w3-text-green\\\"></i></td>\\n              <td *ngIf=\\\"!teacher.active\\\"><i class=\\\"fa fa-times w3-text-red\\\"></i></td>\\n              <td><button (click)=onEdit(teacher.id) onclick=\\\"document.getElementById('edit').style.display='block'\\\"><i\\n                    class=\\\"fa fa-pencil-square-o\\\" aria-hidden=\\\"true\\\"></i></button></td>\\n              <td><button (click)=onDelete(teacher.id) onclick=\\\"document.getElementById('delete').style.display='block'\\\"><i\\n                    class=\\\"fa fa-window-close\\\" aria-hidden=\\\"true\\\"></i></button></td>\\n            </tr>\\n          </table>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<div id=\\\"edit\\\" class=\\\"w3-modal\\\">\\n  <div class=\\\"w3-modal-content w3-animate-top\\\">\\n    <form [formGroup]=\\\"editForm\\\" (ngSubmit)=\\\"saveEditedUser()\\\">\\n      <div class=\\\"w3-card-4 w3-light-grey\\\">\\n        <header class=\\\"w3-container w3-orange\\\">\\n          <span onclick=\\\"document.getElementById('edit').style.display='none'\\\"\\n            class=\\\"w3-button w3-display-topright\\\">&times;</span>\\n          <h2>{{HTMLtext[132]}}</h2>\\n        </header>\\n        <div class=\\\"w3-container\\\">\\n          <div class=\\\"w3-row\\\">\\n            <div class=\\\"w3-container\\\">\\n              <p class=\\\"w3-col l6 w3-padding\\\">\\n                <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[124]}}</b></label>\\n                <input class=\\\"w3-input w3-border\\\" name=\\\"last\\\" type=\\\"text\\\" formControlName=\\\"lastname\\\"></p>\\n              <p class=\\\"w3-col l6 w3-padding\\\">\\n                <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[125]}}</b></label>\\n                <input class=\\\"w3-input w3-border w3-lightgrey\\\" name=\\\"first\\\" type=\\\"text\\\" formControlName=\\\"firstname\\\"></p>\\n            </div>\\n          </div>\\n          <div class=\\\"w3-row\\\">\\n            <p class=\\\"w3-col l6 w3-padding\\\">\\n              <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[126]}}</b></label>\\n              <input class=\\\"w3-input w3-border w3-lightgrey\\\" name=\\\"last\\\" type=\\\"text\\\" formControlName=\\\"email\\\"></p>\\n            <p class=\\\"w3-col l6 w3-padding-large\\\">\\n              <input class=\\\"w3-check\\\" type=\\\"checkbox\\\" name=\\\"active\\\" formControlName=\\\"active\\\" [checked]=\\\"toEdit.active\\\">\\n              <label>{{HTMLtext[127]}}</label></p>\\n          </div>\\n          <p class=\\\" w3-center\\\">\\n            <button type=\\\"button\\\" (click)=\\\"saveEditedUser()\\\" class=\\\"w3-btn w3-blue\\\"\\n            onclick=\\\"document.getElementById('edit').style.display='none'\\\">{{HTMLtext[114]}}</button></p>\\n        </div>\\n      </div>\\n      </form>\\n      <form [formGroup]=\\\"passwordForm\\\" (ngSubmit)=\\\"saveEditedPassword()\\\">\\n      <div class=\\\"w3-card-4 w3-padding-small w3-light-grey\\\">\\n          <div class=\\\"w3-container w3-orange\\\">\\n            <h2>{{HTMLtext[128]}}</h2>\\n          </div>\\n          <div class=\\\"w3-container\\\">\\n            <p *ngIf=\\\"toEdit\\\">\\n              {{HTMLtext[129]}}: {{toEdit.firstName}} {{toEdit.lastName}}</p>\\n              <div class=\\\"w3-row\\\">\\n              <p class=\\\"w3-col l6 w3-padding\\\">\\n                <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[41]}}</b></label>\\n                <input (input)=\\\"checkPasswordMatchEdit()\\\" class=\\\"w3-input w3-border\\\" name=\\\"password\\\" type=\\\"text\\\" formControlName=\\\"password\\\"></p>\\n              <p class=\\\"w3-col l6 w3-padding\\\">\\n                <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[42]}}</b></label>\\n                <input (input)=\\\"checkPasswordMatchEdit()\\\"  class=\\\"w3-input w3-border\\\" name=\\\"passwordagain\\\" type=\\\"text\\\" formControlName=\\\"passwordagain\\\"></p>\\n            </div>\\n            <p class=\\\" w3-center\\\">\\n              <button  [disabled]=\\\"passwordForm.invalid\\\" class=\\\"w3-btn w3-blue\\\" onclick=\\\"document.getElementById('edit').style.display='none'\\\">{{HTMLtext[43]}}</button></p>\\n            </div>\\n        </div>\\n    </form>\\n  </div>\\n</div>\\n\\n<div id=\\\"add\\\" class=\\\"w3-modal\\\">\\n  <div class=\\\"w3-modal-content w3-animate-top\\\">\\n      <div class=\\\"w3-card-4 w3-light-grey\\\">\\n        <header class=\\\"w3-container w3-green\\\">\\n          <span onclick=\\\"document.getElementById('add').style.display='none'\\\"\\n            class=\\\"w3-button w3-display-topright\\\">&times;</span>\\n          <h2>{{HTMLtext[120]}}</h2>\\n        </header>\\n        <div class=\\\"w3-container\\\">\\n          <form class=\\\"w3-container\\\" [formGroup]=\\\"addForm\\\" (ngSubmit)=\\\"signupUser()\\\">\\n            <p>\\n              <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[124]}}</b></label>\\n              <input class=\\\"w3-input w3-border\\\" name=\\\"lastname\\\" type=\\\"text\\\" formControlName=\\\"lastname\\\"></p>\\n              <div class=\\\"w3-text-red\\\" *ngIf=\\\"addForm.get('lastname').touched && addForm.get('lastname').invalid\\\">\\n                {{HTMLtext[105]}}\\n              </div>\\n            <p>\\n              <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[125]}}</b></label>\\n              <input class=\\\"w3-input w3-border w3-lightgrey\\\" name=\\\"firstname\\\" type=\\\"text\\\" formControlName=\\\"firstname\\\"></p>\\n              <div class=\\\"w3-text-red\\\" *ngIf=\\\"addForm.get('lastname').touched && addForm.get('firstname').invalid\\\">\\n                {{HTMLtext[105]}}\\n              </div>\\n            <p>\\n              <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[126]}}</b></label>\\n              <input class=\\\"w3-input w3-border w3-lightgrey\\\" name=\\\"email\\\" type=\\\"text\\\" formControlName=\\\"email\\\"></p>\\n              <div class=\\\"w3-text-red\\\" *ngIf=\\\"addForm.get('lastname').touched && addForm.get('email').invalid\\\">\\n                {{HTMLtext[105]}}\\n              </div>\\n            <p>\\n              <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[130]}}</b></label>\\n              <input (input)=\\\"checkPasswordMatch()\\\" class=\\\"w3-input w3-border w3-lightgrey\\\" name=\\\"password\\\" type=\\\"text\\\" formControlName=\\\"password\\\"></p>\\n              <div class=\\\"w3-text-red\\\" *ngIf=\\\"addForm.get('password').touched && addForm.get('password').invalid\\\">\\n                {{HTMLtext[105]}}\\n              </div>\\n            <p>\\n              <label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[131]}}</b></label>\\n              <input (input)=\\\"checkPasswordMatch()\\\" class=\\\"w3-input w3-border w3-lightgrey\\\" name=\\\"passwordagain\\\" type=\\\"text\\\" formControlName=\\\"passwordagain\\\"></p>\\n              <div class=\\\"w3-text-red\\\" *ngIf=\\\"!passwordsMatch\\\">\\n                {{HTMLtext[146]}}\\n              </div>\\n            <p>\\n              <input class=\\\"w3-check\\\" type=\\\"checkbox\\\" name=\\\"active\\\" checked=\\\"checked\\\" formControlName=\\\"active\\\">\\n              <label>{{HTMLtext[127]}}</label></p>\\n            <p class=\\\" w3-center\\\">\\n              <button [disabled]=\\\"addForm.invalid\\\" type=\\\"button\\\" class=\\\"w3-btn w3-blue\\\" (click)=\\\"signupUser()\\\"\\n              onclick=\\\"document.getElementById('add').style.display='none'\\\">{{HTMLtext[117]}}</button></p>\\n          </form>\\n        </div>\\n      </div>\\n  </div>\\n</div>\\n\\n\\n<div id=\\\"add_bulk\\\" class=\\\"w3-modal\\\">\\n  <div class=\\\"w3-modal-content w3-animate-top\\\">\\n    <form>\\n      <div class=\\\"w3-card-4 w3-light-grey\\\">\\n        <header class=\\\"w3-container w3-green\\\">\\n          <span onclick=\\\"document.getElementById('add_bulk').style.display='none'\\\"\\n            class=\\\"w3-button w3-display-topright\\\">&times;</span>\\n          <h2>{{HTMLtext[121]}}</h2>\\n        </header>\\n        <div class=\\\"w3-container\\\">\\n          <form class=\\\"w3-container\\\">\\n            <p><label class=\\\"w3-text-orange\\\"><b>{{HTMLtext[133]}}</b></label>\\n              <input type=\\\"file\\\" (change)=\\\"fileChangeListener($event)\\\" name=\\\"myfile\\\"></p>\\n            <p class=\\\" w3-center\\\">\\n              <button [disabled]=\\\"csvRecords.length == 0\\\" class=\\\"w3-btn w3-blue\\\" (click)=\\\"createBulkAccounts()\\\"\\n              onclick=\\\"document.getElementById('add_bulk').style.display='none'\\\">Create accounts</button></p>\\n          </form>\\n        </div>\\n      </div>\\n    </form>\\n  </div>\\n</div>\\n\\n<div id=\\\"delete\\\" class=\\\"w3-modal\\\">\\n  <div class=\\\"w3-modal-content w3-animate-top\\\">\\n    <header class=\\\"w3-container w3-red\\\">\\n      <span onclick=\\\"document.getElementById('delete').style.display='none'\\\"\\n        class=\\\"w3-button w3-display-topright\\\">&times;</span>\\n      <h2>{{HTMLtext[134]}}</h2>\\n    </header>\\n    <div class=\\\"w3-container w3-center\\\">\\n      <p *ngIf(toDelete)>{{HTMLtext[135]}}: {{toDelete.lastName}} {{toDelete.firstName}}?\\n    </div>\\n    <div class=\\\"w3-container w3-padding-small w3-center\\\">\\n      <button class=\\\"w3-button w3-red w3-margin\\\" (click)=\\\"onDeleteFinal()\\\" \\n        onclick=\\\"document.getElementById('delete').style.display='none'\\\"> {{HTMLtext[27]}}</button>\\n      <button onclick=\\\"document.getElementById('delete').style.display='none'\\\" class=\\\"w3-button w3-grey w3-margin\\\"> \\n        {{HTMLtext[28]}}  \\n      </button>\\n    </div>\\n  </div>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport {FormGroup, FormBuilder, Validators} from \"@angular/forms\";\nimport {formatDate} from '@angular/common';\n\nimport { Teacher } from \"../model/teacher.model\";\nimport { SignupUser } from \"../model/signupUser.model\";\nimport { Model } from \"../model/repository.model\";\n\nimport { FileUtil }                     from '../csvutils/file.util';\nimport { Constants }                    from '../csvutils/tests.constants';\n\nimport { refreshDescendantViews } from '@angular/core/src/render3/instructions';\nimport { ActivatedRoute, Router } from '@angular/router';\n\n@Component({\n  selector: 'app-teachers',\n  templateUrl: './teachers.component.html',\n  styleUrls: ['./teachers.component.css']\n})\nexport class TeachersComponent implements OnInit {\n\n  teachers: Teacher[];\n  signUp: SignupUser;\n  signUps: SignupUser[] = [];\n  toEdit: Teacher;\n  editedTeacher: Teacher;\n  toDelete: Teacher;\n   csvContent: string;\n  parsedCsv: string[][];\n  test: string;\n  csvRecords = [];\n  passwordsMatch: boolean;\n\n  addForm: FormGroup;\n  editForm: FormGroup;\n  passwordForm: FormGroup;\n\n  HTMLtext;\n\n  constructor(\n    private model: Model,\n    private formBuilder: FormBuilder,\n    private _fileUtil: FileUtil,\n    activeRoute: ActivatedRoute,\n    private router: Router) { \n  }\n\n  ngOnInit() {    \n    this.HTMLtext = JSON.parse(localStorage.getItem('multiLangText'));\n    this.parsedCsv = [];\n    // this.teachers = this.model.getTeachers();\n    // if( this.model.getTeachersFromRAM().length > 0){\n    //   this.teachers = this.model.getStudentsFromRAM();\n    // }\n    // else{\n    //   this.teachers = this.model.getTeachers();\n    // }\n    this.teachers = JSON.parse(localStorage.getItem('teachers'));\n    this.signUp = { }; \n    console.log(this.teachers);\n\n    this.toEdit ={};\n\n    this.initForms();\n\n    this.model.teachersChangeDetected.subscribe(\n      (data: []) => {\n        console.log(\"Now refreshing after ... \");\n        // this.router.navigateByUrl(\"/teachers\");\n        // this.model.getTeachers();\n        // this.teachers = this.model.getTeachersFromRAM();\n        // this.teachers = JSON.parse(localStorage.getItem('teachers'));\n        this.teachers = data;\n      })\n  }\n\n  // ngDoCheck() {\n  //   // this.refresh();\n  // }\n\n  refresh(){\n    this.model.getTeachers();\n    // this.teachers = this.model.getTeachersFromRAM();\n    console.log(this.teachers);\n  }\n\n  signupUser(){\n  //  for(var i=1; i<1400; i++){\n        console.log(\"entering signupUser...\");\n        this.signUp.firstName = this.addForm.get('firstname').value;\n        this.signUp.lastName = this.addForm.get('lastname').value;\n        this.signUp.username = this.addForm.get('email').value;\n        this.signUp.email =  this.addForm.get('email').value;\n        this.signUp.password = this.addForm.get('password').value;\n        this.signUp.active = this.addForm.get('active').value;\n        this.signUp.language = \"nl\";\n        this.signUp.lastLoginDate = \"\";//formatDate(new Date(), 'yyyy/MM/dd', 'en');\n        this.signUp.roles = [\n          {\n              \"id\": 3,\n              \"name\": \"ROLE_TEACHER1\"\n          }\n        ];\n        //Leave class_schoolyear empty when signin up a teacher (has no class)\n        this.signUp.classSchoolyears = [];\n\n        this.addForm.setValidators(this.passwordMatchValidator);\n        this.addForm.updateValueAndValidity();\n        if (this.addForm.valid) {\n          console.log(\"AddForm is valid\");\n          // this.model.signUpStudent(this.signUp);\n          this.model.signUpTeacher(this.signUp);\n          this.addForm.reset();\n        }\n        else {\n          console.log(\"There is still an error in the form\");\n        }\n//         this.signUp.error = \"\";\n//         this.signUp.schoolClass = \"\";\n//         this.signUp.schoolyear = {\n//           id: 1,\n//           schoolyear: \"2017-2018\"\n//  //       };\n//         }\n    // this.model.signUpTeacher(this.signUp);\n//    this.refresh();\n  }\n\n  checkPasswordMatch(){\n    console.log(\"checking password match... \");\n    if(this.addForm.get('password').value == this.addForm.get('passwordagain').value ){\n      console.log(\"true\");\n      this.passwordsMatch = true;\n    }\n    else {\n      console.log(\"false\");\n      this.passwordsMatch = false;\n    }\n  }\n\n  checkPasswordMatchEdit(){\n    console.log(\"checking password match... \");\n    if(this.passwordForm.get('password').value == this.passwordForm.get('passwordagain').value ){\n      console.log(\"true\");\n      this.passwordsMatch = true;\n    }\n    else {\n      console.log(\"false\");\n      this.passwordsMatch = false;\n    }\n  }\n\n  onEdit(i: number){\n    console.log(i);\n    this.toEdit = this.model.getTeacher(i);\n    this.editForm.setValue({\n      lastname: this.toEdit.lastName,\n      firstname: this.toEdit.firstName,\n      email: this.toEdit.email,\n      active: this.toEdit.active\n    });\n  }\n\n  onDelete(i: number){\n    console.log(i);\n    this.toDelete = this.model.getTeacher(i);\n  }\n\n  onDeleteFinal(){\n    this.model.deleteTeacher(this.toDelete.id);\n    this.toDelete = {}; \n  }\n\n  saveEditedUser(){\n    this.editedTeacher = this.toEdit;\n    this.editedTeacher.firstName = this.editForm.get('firstname').value;\n    this.editedTeacher.lastName = this.editForm.get('lastname').value;\n    this.editedTeacher.username = this.editForm.get('email').value;\n    this.editedTeacher.email =  this.editForm.get('email').value;\n    this.editedTeacher.active = this.editForm.get('active').value;\n\n    console.log(this.editedTeacher);\n    this.model.updateTeacherInfo(this.editedTeacher);\n    this.toEdit={};\n  }\n\n  saveEditedPassword(){\n    this.model.updateTeacherPassword(\n      {\n        id: this.toEdit.id,\n        password: this.passwordForm.get('password').value\n      }\n    );\n    this.toEdit={};\n    this.passwordForm.setValue({\n      password: \"\",\n      passwordagain: \"\"\n    });\n  }\n\n   // METHOD CALLED WHEN CSV FILE IS IMPORTED\n   fileChangeListener($event): void {\n \n    var text = [];\n    var files = $event.srcElement.files;\n \n    if(Constants.validateHeaderAndRecordLengthFlag){\n      if(!this._fileUtil.isCSVFile(files[0])){\n        alert(\"Please import valid .csv file.\");\n        this.fileReset();\n      }\n    }\n \n    var input = $event.target;\n    var reader = new FileReader();\n    reader.readAsText(input.files[0]);\n \n    reader.onload = (data) => {\n      let csvData = reader.result;\n      let csvRecordsArray = (<string> csvData).split(/\\r\\n|\\n/);\n \n      var headerLength = -1;\n      if(Constants.isHeaderPresentFlag){\n        let headersRow = this._fileUtil.getHeaderArray(csvRecordsArray, Constants.tokenDelimeter);\n//        headerLength = headersRow.length; \n        headerLength = 5; \n      }\n       \n      this.csvRecords = this._fileUtil.getDataRecordsArrayFromCSVFile(csvRecordsArray, \n          headerLength, Constants.validateHeaderAndRecordLengthFlag, Constants.tokenDelimeter);\n      \n      console.log(this.csvRecords);    \n          \n      if(this.csvRecords == null){\n        //If control reached here it means csv file contains error, reset file.\n        this.fileReset();\n      }    \n    }\n \n    reader.onerror = function () {\n      alert('Unable to read ' + input.files[0]);\n    };\n  };\n \n  fileReset(){\n   //TODO\n    //this.fileImportInput.nativeElement.value = \"\";\n    this.csvRecords = [];\n  }\n\n\n//   onFileLoad(fileLoadedEvent) {\n//     const csvSeparator = ',';\n//     const textFromFileLoaded = fileLoadedEvent.target.result;\n//     this.csvContent = textFromFileLoaded;\n\n//     const txt = textFromFileLoaded;\n//     const csv = [];\n//     const lines = txt.split('\\n');\n// //    console.log(\"lines: \" + lines);\n//     lines.forEach(element => {\n// //      console.log(\"line: \" + element);\n//       const cols: string[] = element.split(csvSeparator);\n// //      console.log(\"cols: \" + cols);\n//       csv.push(cols);\n//       console.log(\"csv: \" + csv);\n//     });\n//    this.parsedCsv = csv.copyWithin(0,csv.length);\n// this.model.parsedCsv = [];   \n// this.model.parsedCsv= csv;\n//     console.log( \"parsedCsv in onFileLoad: \" + this.parsedCsv);\n\n//     // demo output\n//     var output: string=\"\";\n//     this.parsedCsv.forEach(row => {\n//       output += \"\\n\";\n//       var colNo = 0;\n//       row.forEach(col => {\n//         if (colNo>0) output += \" | \";\n//         output += col;\n//         colNo++;\n//       });\n//     });\n//     this.test = this.parsedCsv[0][0];\n//     console.log(output);\n//     console.log(\"test: \" + this.test);\n//     console.log(\"parsedCsv: \" + this.parsedCsv);\n//   }\n\n//   onFileSelect(input: HTMLInputElement) {\n\n//     const files = input.files;\n//     var content = this.csvContent;\n\n//    if (files && files.length) {\n//        /*\n//         console.log(\"Filename: \" + files[0].name);\n//         console.log(\"Type: \" + files[0].type);\n//         console.log(\"Size: \" + files[0].size + \" bytes\");\n//         */\n\n//         const fileToRead = files[0];\n\n//         const fileReader = new FileReader();\n//         fileReader.onload = this.onFileLoad;\n\n//        fileReader.readAsText(fileToRead, \"UTF-8\");\n//    }\n\n//   }\n\n  createBulkAccounts(){\n    console.log(\"Entering createBulkAccounts...\");\n    console.log(this.csvRecords);\n    // console.log(this.model.parsedCsv);\n    // console.log(\"test: \" + this.test);\n    this.signUps = [];\n    this.csvRecords.forEach(line => {\n //         console.log(\"adding new signupUser...\");\n          var newSignUp: SignupUser = {};\n          newSignUp.firstName = line[0];\n          newSignUp.lastName = line[1];\n          newSignUp.username = line[2];\n          newSignUp.email =  line[2];\n          newSignUp.password = line[3];\n          if(line[4] == \"0\"){\n            newSignUp.active = false;\n          } else {newSignUp.active = true;}\n          newSignUp.language = \"nl\";\n          newSignUp.lastLoginDate = \"\";//formatDate(new Date(), 'yyyy/MM/dd', 'en');\n          newSignUp.roles = [\n            {\n                \"id\": 3,\n                \"name\": \"ROLE_TEACHER1\"\n            }\n          ];\n          newSignUp.classSchoolyears = [];\n          // newSignUp.error = \"\";\n//          newSignUp.schoolClass = \"\";\n//          newSignUp.schoolyear = {\n          //   id: 1,\n          //   schoolyear: \"2017-2018\"\n          // }\n          this.signUps.push(newSignUp);\n//          this.model.signUpTeacher(newSignUp);\n          //console.log(newSignUp);\n    })\n   this.model.signUpTeachers(this.signUps);\n   this.csvRecords = [];\n  }\n\n    //Our own custom validator for checking password and passwordagain match\n    private passwordMatchValidator(group: FormGroup): any {\n      if (group) {\n        // console.log(\"checking password match: \");\n        // console.log(\"password: \" + group.get(\"password\").value);\n        // console.log(\"passwordagain: \" + group.get(\"passwordagain\").value);\n        if (group.get(\"password\").value !==group.get(\"passwordagain\").value) {\n          return { notMatching : true };\n        }\n      }\n      return null;\n    }\n\n  private initForms(){\n    this.addForm = this.formBuilder.group ({\n      lastname: ['', Validators.required],\n      firstname: ['', Validators.required],\n      email: ['', Validators.required],\n      password: ['', Validators.required],\n      passwordagain: ['', Validators.required],\n      active: ['']\n    });\n    this.addForm.setValidators(this.passwordMatchValidator);\n\n    this.editForm = this.formBuilder.group ({\n      lastname: ['', Validators.required],\n      firstname: ['', Validators.required],\n      email: ['', Validators.required],\n      active: ['']\n    })\n  \n    this.passwordForm = this.formBuilder.group ({\n      password: ['', Validators.required],\n      passwordagain: ['', Validators.required]\n    });\n    this.passwordForm.setValidators(this.passwordMatchValidator);\n  }\n\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":""}